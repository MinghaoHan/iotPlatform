2021-07-01 23:04:17 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && rm -rf /home/zack/AscendProjects/face_recognition_camera/build/intermediates && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build .
2021-07-01 23:04:17 [ INFO ] -- The C compiler identification is GNU 7.5.0
2021-07-01 23:04:18 [ INFO ] -- The CXX compiler identification is GNU 7.5.0
2021-07-01 23:04:18 [ INFO ] -- Check for working C compiler: /usr/bin/cc
2021-07-01 23:04:18 [ INFO ] -- Check for working C compiler: /usr/bin/cc -- works
2021-07-01 23:04:18 [ INFO ] -- Detecting C compiler ABI info
2021-07-01 23:04:18 [ INFO ] -- Detecting C compiler ABI info - done
2021-07-01 23:04:18 [ INFO ] -- Detecting C compile features
2021-07-01 23:04:18 [ INFO ] -- Detecting C compile features - done
2021-07-01 23:04:18 [ INFO ] -- Check for working CXX compiler: /usr/bin/aarch64-linux-gnu-g++
2021-07-01 23:04:19 [ INFO ] -- Check for working CXX compiler: /usr/bin/aarch64-linux-gnu-g++ -- works
2021-07-01 23:04:19 [ INFO ] -- Detecting CXX compiler ABI info
2021-07-01 23:04:19 [ INFO ] -- Detecting CXX compiler ABI info - done
2021-07-01 23:04:19 [ INFO ] -- Detecting CXX compile features
2021-07-01 23:04:19 [ INFO ] -- Detecting CXX compile features - done
2021-07-01 23:04:19 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-01 23:04:19 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-01 23:04:19 [ INFO ] -- Configuring done
2021-07-01 23:04:19 [ INFO ] -- Generating done
2021-07-01 23:04:19 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-01 23:04:20 [ INFO ] Scanning dependencies of target main
2021-07-01 23:04:20 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-01 23:04:25 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-01 23:04:25 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-01 23:04:25 [ INFO ]  }
2021-07-01 23:04:25 [ INFO ]  ^
2021-07-01 23:04:25 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-01 23:04:25 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-01 23:04:25 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-01 23:04:25 [ INFO ]                                                         ^
2021-07-01 23:04:25 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-01 23:04:25 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-01 23:04:25 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-01 23:04:25 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-01 23:04:25 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-01 23:04:25 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-01 23:04:25 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-01 23:04:25 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-01 23:04:25 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-01 23:04:25 [ ERROR ]      uint8_t errorcode = 0;
2021-07-01 23:04:25 [ INFO ]              ^~~~~~~~~
2021-07-01 23:04:27 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-01 23:04:30 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-01 23:04:32 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-01 23:04:32 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-01 23:04:32 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-01 23:04:32 [ INFO ]               ^~~
2021-07-01 23:04:33 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-01 23:04:36 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-01 23:04:36 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-01 23:04:36 [ INFO ]          defult:
2021-07-01 23:04:36 [ INFO ]          ^~~~~~
2021-07-01 23:04:36 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-01 23:04:36 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-01 23:04:36 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-01 23:04:36 [ INFO ]                                                         ^
2021-07-01 23:04:36 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-01 23:04:36 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-01 23:04:36 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-01 23:04:36 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-01 23:04:36 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-01 23:04:36 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-01 23:04:37 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-01 23:04:37 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-01 23:04:37 [ INFO ]  }
2021-07-01 23:04:37 [ INFO ]  ^
2021-07-01 23:04:38 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-01 23:04:43 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-01 23:04:43 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-01 23:04:43 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-01 23:04:43 [ INFO ]               ^~~~~~
2021-07-01 23:04:43 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-01 23:04:43 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-01 23:04:43 [ INFO ]      void * buffer = nullptr;
2021-07-01 23:04:43 [ INFO ]             ^~~~~~
2021-07-01 23:04:43 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-01 23:04:43 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-01 23:04:43 [ INFO ]          ^~~~
2021-07-01 23:04:45 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-01 23:04:48 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-01 23:04:48 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-01 23:04:48 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-01 23:04:48 [ INFO ]                       ^~~~~~
2021-07-01 23:04:49 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-01 23:04:52 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-01 23:04:52 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:04:52 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-01 23:04:52 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-01 23:04:53 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-01 23:04:56 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-01 23:04:56 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-01 23:04:56 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-01 23:04:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-01 23:04:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-01 23:04:56 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-01 23:04:56 [ INFO ]                                                                            ^
2021-07-01 23:04:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-01 23:04:56 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-01 23:04:56 [ INFO ]          ^
2021-07-01 23:04:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-01 23:04:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-01 23:04:56 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-01 23:04:56 [ INFO ]                                                                            ^
2021-07-01 23:04:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-01 23:04:56 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-01 23:04:56 [ INFO ]          ^
2021-07-01 23:04:58 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-01 23:05:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-01 23:05:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:05:01 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-01 23:05:01 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-01 23:05:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-01 23:05:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:05:01 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-01 23:05:01 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-01 23:05:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-01 23:05:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:05:01 [ INFO ]      if (check_size > inference_size) {
2021-07-01 23:05:01 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-01 23:05:01 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-01 23:05:01 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-01 23:05:01 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-01 23:05:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-01 23:05:01 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-01 23:05:01 [ INFO ]                                                                            ^
2021-07-01 23:05:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-01 23:05:01 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-01 23:05:01 [ INFO ]          ^
2021-07-01 23:05:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-01 23:05:01 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-01 23:05:01 [ INFO ]                                                                            ^
2021-07-01 23:05:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-01 23:05:01 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-01 23:05:01 [ INFO ]          ^
2021-07-01 23:05:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-01 23:05:01 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-01 23:05:01 [ INFO ]                                                                            ^
2021-07-01 23:05:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-01 23:05:01 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-01 23:05:01 [ INFO ]      ^
2021-07-01 23:05:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-01 23:05:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:05:01 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-01 23:05:01 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-01 23:05:01 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-01 23:05:01 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-01 23:05:01 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-01 23:05:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-01 23:05:01 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-01 23:05:01 [ INFO ]                                                                            ^
2021-07-01 23:05:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-01 23:05:01 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-01 23:05:01 [ INFO ]   ^
2021-07-01 23:05:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-01 23:05:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-01 23:05:01 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-01 23:05:01 [ INFO ]                                                                            ^
2021-07-01 23:05:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-01 23:05:01 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-01 23:05:01 [ INFO ]          ^
2021-07-01 23:05:02 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-01 23:05:04 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-01 23:05:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-01 23:05:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:05:07 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-01 23:05:07 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-01 23:05:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:05:07 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-01 23:05:07 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-01 23:05:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-01 23:05:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:05:07 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-01 23:05:07 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-01 23:05:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:05:07 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-01 23:05:07 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-01 23:05:08 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-01 23:05:08 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-01 23:05:08 [ INFO ]  static int memcount = 0;
2021-07-01 23:05:08 [ INFO ]             ^~~~~~~~
2021-07-01 23:05:08 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-01 23:05:11 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-01 23:05:15 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-01 23:05:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-01 23:05:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-01 23:05:17 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-01 23:05:17 [ INFO ]               ^~~~~~~~~~~
2021-07-01 23:05:18 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-01 23:05:21 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-01 23:05:25 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-01 23:05:29 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-01 23:05:29 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-01 23:05:29 [ INFO ] [100%] Built target main
2021-07-01 23:06:19 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build .
2021-07-01 23:06:19 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-01 23:06:19 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-01 23:06:20 [ INFO ] -- Configuring done
2021-07-01 23:06:20 [ INFO ] -- Generating done
2021-07-01 23:06:20 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-01 23:06:20 [ INFO ] [100%] Built target main
2021-07-01 23:24:50 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && rm -rf /home/zack/AscendProjects/face_recognition_camera/build/intermediates && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-01 23:24:50 [ INFO ] -- The C compiler identification is GNU 7.5.0
2021-07-01 23:24:51 [ INFO ] -- The CXX compiler identification is GNU 7.5.0
2021-07-01 23:24:51 [ INFO ] -- Check for working C compiler: /usr/bin/cc
2021-07-01 23:24:51 [ INFO ] -- Check for working C compiler: /usr/bin/cc -- works
2021-07-01 23:24:51 [ INFO ] -- Detecting C compiler ABI info
2021-07-01 23:24:51 [ INFO ] -- Detecting C compiler ABI info - done
2021-07-01 23:24:51 [ INFO ] -- Detecting C compile features
2021-07-01 23:24:51 [ INFO ] -- Detecting C compile features - done
2021-07-01 23:24:51 [ INFO ] -- Check for working CXX compiler: /usr/bin/aarch64-linux-gnu-g++
2021-07-01 23:24:52 [ INFO ] -- Check for working CXX compiler: /usr/bin/aarch64-linux-gnu-g++ -- works
2021-07-01 23:24:52 [ INFO ] -- Detecting CXX compiler ABI info
2021-07-01 23:24:52 [ INFO ] -- Detecting CXX compiler ABI info - done
2021-07-01 23:24:52 [ INFO ] -- Detecting CXX compile features
2021-07-01 23:24:52 [ INFO ] -- Detecting CXX compile features - done
2021-07-01 23:24:52 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-01 23:24:52 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-01 23:24:52 [ INFO ] -- Configuring done
2021-07-01 23:24:52 [ INFO ] -- Generating done
2021-07-01 23:24:52 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-01 23:24:53 [ INFO ] Scanning dependencies of target main
2021-07-01 23:24:53 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-01 23:24:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-01 23:24:58 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-01 23:24:58 [ INFO ]  }
2021-07-01 23:24:58 [ INFO ]  ^
2021-07-01 23:24:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-01 23:24:58 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-01 23:24:58 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-01 23:24:58 [ INFO ]                                                         ^
2021-07-01 23:24:58 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-01 23:24:58 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-01 23:24:58 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-01 23:24:58 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-01 23:24:58 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-01 23:24:58 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-01 23:24:58 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-01 23:24:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-01 23:24:58 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-01 23:24:58 [ ERROR ]      uint8_t errorcode = 0;
2021-07-01 23:24:58 [ INFO ]              ^~~~~~~~~
2021-07-01 23:25:00 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-01 23:25:03 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-01 23:25:06 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-01 23:25:06 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-01 23:25:06 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-01 23:25:06 [ INFO ]               ^~~
2021-07-01 23:25:11 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-01 23:25:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-01 23:25:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-01 23:25:14 [ INFO ]          defult:
2021-07-01 23:25:14 [ INFO ]          ^~~~~~
2021-07-01 23:25:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-01 23:25:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-01 23:25:14 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-01 23:25:14 [ INFO ]                                                         ^
2021-07-01 23:25:14 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-01 23:25:14 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-01 23:25:14 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-01 23:25:14 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-01 23:25:14 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-01 23:25:14 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-01 23:25:15 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-01 23:25:15 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-01 23:25:15 [ INFO ]  }
2021-07-01 23:25:15 [ INFO ]  ^
2021-07-01 23:25:15 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-01 23:25:19 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-01 23:25:19 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-01 23:25:19 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-01 23:25:19 [ INFO ]               ^~~~~~
2021-07-01 23:25:19 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-01 23:25:19 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-01 23:25:19 [ INFO ]      void * buffer = nullptr;
2021-07-01 23:25:19 [ INFO ]             ^~~~~~
2021-07-01 23:25:19 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-01 23:25:19 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-01 23:25:19 [ INFO ]          ^~~~
2021-07-01 23:25:21 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-01 23:25:24 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-01 23:25:24 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-01 23:25:24 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-01 23:25:24 [ INFO ]                       ^~~~~~
2021-07-01 23:25:26 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-01 23:25:30 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-01 23:25:30 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:25:30 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-01 23:25:30 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-01 23:25:32 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-01 23:25:35 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-01 23:25:35 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-01 23:25:35 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-01 23:25:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-01 23:25:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-01 23:25:35 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-01 23:25:35 [ INFO ]                                                                            ^
2021-07-01 23:25:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-01 23:25:35 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-01 23:25:35 [ INFO ]          ^
2021-07-01 23:25:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-01 23:25:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-01 23:25:35 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-01 23:25:35 [ INFO ]                                                                            ^
2021-07-01 23:25:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-01 23:25:35 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-01 23:25:35 [ INFO ]          ^
2021-07-01 23:25:37 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-01 23:25:40 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-01 23:25:40 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:25:40 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-01 23:25:40 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-01 23:25:40 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-01 23:25:40 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:25:40 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-01 23:25:40 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-01 23:25:40 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-01 23:25:40 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:25:40 [ INFO ]      if (check_size > inference_size) {
2021-07-01 23:25:40 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-01 23:25:40 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-01 23:25:40 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-01 23:25:40 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-01 23:25:40 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-01 23:25:40 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-01 23:25:40 [ INFO ]                                                                            ^
2021-07-01 23:25:40 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-01 23:25:40 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-01 23:25:40 [ INFO ]          ^
2021-07-01 23:25:40 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-01 23:25:40 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-01 23:25:40 [ INFO ]                                                                            ^
2021-07-01 23:25:40 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-01 23:25:40 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-01 23:25:40 [ INFO ]          ^
2021-07-01 23:25:40 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-01 23:25:40 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-01 23:25:40 [ INFO ]                                                                            ^
2021-07-01 23:25:40 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-01 23:25:40 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-01 23:25:40 [ INFO ]      ^
2021-07-01 23:25:40 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-01 23:25:40 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:25:40 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-01 23:25:40 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-01 23:25:40 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-01 23:25:40 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-01 23:25:40 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-01 23:25:40 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-01 23:25:40 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-01 23:25:40 [ INFO ]                                                                            ^
2021-07-01 23:25:40 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-01 23:25:40 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-01 23:25:40 [ INFO ]   ^
2021-07-01 23:25:40 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-01 23:25:40 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-01 23:25:40 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-01 23:25:40 [ INFO ]                                                                            ^
2021-07-01 23:25:40 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-01 23:25:40 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-01 23:25:40 [ INFO ]          ^
2021-07-01 23:25:42 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-01 23:25:44 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-01 23:25:47 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-01 23:25:47 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:25:47 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-01 23:25:47 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-01 23:25:47 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:25:47 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-01 23:25:47 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-01 23:25:47 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-01 23:25:47 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:25:47 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-01 23:25:47 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-01 23:25:47 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:25:47 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-01 23:25:47 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-01 23:25:48 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-01 23:25:48 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-01 23:25:48 [ INFO ]  static int memcount = 0;
2021-07-01 23:25:48 [ INFO ]             ^~~~~~~~
2021-07-01 23:25:49 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-01 23:25:53 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-01 23:25:58 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-01 23:26:00 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-01 23:26:00 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-01 23:26:00 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-01 23:26:00 [ INFO ]               ^~~~~~~~~~~
2021-07-01 23:26:02 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-01 23:26:06 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-01 23:26:10 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-01 23:26:16 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-01 23:26:16 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-01 23:26:16 [ INFO ] [100%] Built target main
2021-07-01 23:29:05 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-01 23:29:05 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-01 23:29:05 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-01 23:29:05 [ INFO ] -- Configuring done
2021-07-01 23:29:05 [ INFO ] -- Generating done
2021-07-01 23:29:05 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-01 23:29:05 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-01 23:29:12 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-01 23:29:12 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-01 23:29:12 [ INFO ]  }
2021-07-01 23:29:12 [ INFO ]  ^
2021-07-01 23:29:12 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-01 23:29:12 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-01 23:29:12 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-01 23:29:12 [ INFO ]                                                         ^
2021-07-01 23:29:12 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-01 23:29:12 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-01 23:29:12 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-01 23:29:12 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-01 23:29:12 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-01 23:29:12 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-01 23:29:12 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-01 23:29:12 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-01 23:29:12 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-01 23:29:12 [ ERROR ]      uint8_t errorcode = 0;
2021-07-01 23:29:12 [ INFO ]              ^~~~~~~~~
2021-07-01 23:29:13 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-01 23:29:17 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-01 23:29:19 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-01 23:29:20 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-01 23:29:20 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-01 23:29:20 [ INFO ]               ^~~
2021-07-01 23:29:21 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-01 23:29:24 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-01 23:29:24 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-01 23:29:24 [ INFO ]          defult:
2021-07-01 23:29:24 [ INFO ]          ^~~~~~
2021-07-01 23:29:24 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-01 23:29:24 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-01 23:29:24 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-01 23:29:24 [ INFO ]                                                         ^
2021-07-01 23:29:24 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-01 23:29:24 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-01 23:29:24 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-01 23:29:24 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-01 23:29:24 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-01 23:29:24 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-01 23:29:25 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-01 23:29:25 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-01 23:29:25 [ INFO ]  }
2021-07-01 23:29:25 [ INFO ]  ^
2021-07-01 23:29:26 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-01 23:29:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-01 23:29:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-01 23:29:29 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-01 23:29:29 [ INFO ]               ^~~~~~
2021-07-01 23:29:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-01 23:29:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-01 23:29:29 [ INFO ]      void * buffer = nullptr;
2021-07-01 23:29:29 [ INFO ]             ^~~~~~
2021-07-01 23:29:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-01 23:29:29 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-01 23:29:29 [ INFO ]          ^~~~
2021-07-01 23:29:31 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-01 23:29:34 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-01 23:29:34 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-01 23:29:34 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-01 23:29:34 [ INFO ]                       ^~~~~~
2021-07-01 23:29:36 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-01 23:29:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-01 23:29:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:29:39 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-01 23:29:39 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-01 23:29:40 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-01 23:29:43 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-01 23:29:43 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-01 23:29:43 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-01 23:29:43 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-01 23:29:43 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-01 23:29:43 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-01 23:29:43 [ INFO ]                                                                            ^
2021-07-01 23:29:43 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-01 23:29:43 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-01 23:29:43 [ INFO ]          ^
2021-07-01 23:29:43 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-01 23:29:43 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-01 23:29:43 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-01 23:29:43 [ INFO ]                                                                            ^
2021-07-01 23:29:43 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-01 23:29:43 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-01 23:29:43 [ INFO ]          ^
2021-07-01 23:29:47 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-01 23:29:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-01 23:29:51 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:29:51 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-01 23:29:51 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-01 23:29:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-01 23:29:51 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:29:51 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-01 23:29:51 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-01 23:29:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-01 23:29:51 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:29:51 [ INFO ]      if (check_size > inference_size) {
2021-07-01 23:29:51 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-01 23:29:51 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-01 23:29:51 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-01 23:29:51 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-01 23:29:51 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-01 23:29:51 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-01 23:29:51 [ INFO ]                                                                            ^
2021-07-01 23:29:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-01 23:29:51 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-01 23:29:51 [ INFO ]          ^
2021-07-01 23:29:51 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-01 23:29:51 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-01 23:29:51 [ INFO ]                                                                            ^
2021-07-01 23:29:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-01 23:29:51 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-01 23:29:51 [ INFO ]          ^
2021-07-01 23:29:51 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-01 23:29:51 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-01 23:29:51 [ INFO ]                                                                            ^
2021-07-01 23:29:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-01 23:29:51 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-01 23:29:51 [ INFO ]      ^
2021-07-01 23:29:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-01 23:29:51 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:29:51 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-01 23:29:51 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-01 23:29:51 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-01 23:29:51 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-01 23:29:51 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-01 23:29:51 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-01 23:29:51 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-01 23:29:51 [ INFO ]                                                                            ^
2021-07-01 23:29:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-01 23:29:51 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-01 23:29:51 [ INFO ]   ^
2021-07-01 23:29:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-01 23:29:51 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-01 23:29:51 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-01 23:29:51 [ INFO ]                                                                            ^
2021-07-01 23:29:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-01 23:29:51 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-01 23:29:51 [ INFO ]          ^
2021-07-01 23:29:54 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-01 23:29:56 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-01 23:30:00 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-01 23:30:00 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:30:00 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-01 23:30:00 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-01 23:30:00 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:30:00 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-01 23:30:00 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-01 23:30:00 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-01 23:30:00 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:30:00 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-01 23:30:00 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-01 23:30:00 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-01 23:30:00 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-01 23:30:00 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-01 23:30:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-01 23:30:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-01 23:30:01 [ INFO ]  static int memcount = 0;
2021-07-01 23:30:01 [ INFO ]             ^~~~~~~~
2021-07-01 23:30:02 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-01 23:30:06 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-01 23:30:10 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-01 23:30:12 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-01 23:30:12 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-01 23:30:12 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-01 23:30:12 [ INFO ]               ^~~~~~~~~~~
2021-07-01 23:30:14 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-01 23:30:18 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-01 23:30:23 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-01 23:30:28 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-01 23:30:29 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-01 23:30:29 [ INFO ] [100%] Built target main
2021-07-02 03:33:34 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-02 03:33:34 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-02 03:33:34 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-02 03:33:34 [ INFO ] -- Configuring done
2021-07-02 03:33:34 [ INFO ] -- Generating done
2021-07-02 03:33:34 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-02 03:33:35 [ INFO ] Scanning dependencies of target main
2021-07-02 03:33:35 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-02 03:33:41 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-02 03:33:41 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-02 03:33:41 [ INFO ]  }
2021-07-02 03:33:41 [ INFO ]  ^
2021-07-02 03:33:41 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-02 03:33:41 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-02 03:33:41 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-02 03:33:41 [ INFO ]                                                         ^
2021-07-02 03:33:41 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-02 03:33:41 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-02 03:33:41 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-02 03:33:41 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-02 03:33:41 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-02 03:33:41 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-02 03:33:41 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-02 03:33:41 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-02 03:33:41 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-02 03:33:41 [ ERROR ]      uint8_t errorcode = 0;
2021-07-02 03:33:41 [ INFO ]              ^~~~~~~~~
2021-07-02 03:33:44 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-02 03:33:49 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-02 03:33:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-02 03:33:51 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-02 03:33:51 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-02 03:33:51 [ INFO ]               ^~~
2021-07-02 03:33:52 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-02 03:33:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-02 03:33:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-02 03:33:55 [ INFO ]          defult:
2021-07-02 03:33:55 [ INFO ]          ^~~~~~
2021-07-02 03:33:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-02 03:33:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-02 03:33:55 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-02 03:33:55 [ INFO ]                                                         ^
2021-07-02 03:33:55 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-02 03:33:55 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-02 03:33:55 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-02 03:33:55 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-02 03:33:55 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-02 03:33:55 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-02 03:33:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-02 03:33:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-02 03:33:56 [ INFO ]  }
2021-07-02 03:33:56 [ INFO ]  ^
2021-07-02 03:33:57 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-02 03:34:00 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-02 03:34:00 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-02 03:34:00 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-02 03:34:01 [ INFO ]               ^~~~~~
2021-07-02 03:34:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-02 03:34:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-02 03:34:01 [ INFO ]      void * buffer = nullptr;
2021-07-02 03:34:01 [ INFO ]             ^~~~~~
2021-07-02 03:34:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-02 03:34:01 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-02 03:34:01 [ INFO ]          ^~~~
2021-07-02 03:34:02 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-02 03:34:06 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-02 03:34:06 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-02 03:34:06 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-02 03:34:06 [ INFO ]                       ^~~~~~
2021-07-02 03:34:07 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-02 03:34:11 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-02 03:34:11 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:34:11 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-02 03:34:11 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-02 03:34:13 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-02 03:34:16 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-02 03:34:16 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-02 03:34:16 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-02 03:34:16 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-02 03:34:16 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-02 03:34:16 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:34:16 [ INFO ]                                                                            ^
2021-07-02 03:34:16 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:34:16 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-02 03:34:16 [ INFO ]          ^
2021-07-02 03:34:16 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-02 03:34:16 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-02 03:34:16 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:34:16 [ INFO ]                                                                            ^
2021-07-02 03:34:16 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:34:16 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-02 03:34:16 [ INFO ]          ^
2021-07-02 03:34:17 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-02 03:34:20 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-02 03:34:20 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:34:20 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-02 03:34:20 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-02 03:34:20 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-02 03:34:20 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:34:20 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-02 03:34:20 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-02 03:34:20 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-02 03:34:20 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:34:20 [ INFO ]      if (check_size > inference_size) {
2021-07-02 03:34:20 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-02 03:34:20 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-02 03:34:20 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-02 03:34:20 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-02 03:34:20 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-02 03:34:20 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:34:20 [ INFO ]                                                                            ^
2021-07-02 03:34:20 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:34:20 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-02 03:34:20 [ INFO ]          ^
2021-07-02 03:34:20 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-02 03:34:20 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:34:20 [ INFO ]                                                                            ^
2021-07-02 03:34:20 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:34:20 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-02 03:34:20 [ INFO ]          ^
2021-07-02 03:34:20 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-02 03:34:20 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:34:20 [ INFO ]                                                                            ^
2021-07-02 03:34:20 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:34:20 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-02 03:34:20 [ INFO ]      ^
2021-07-02 03:34:20 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-02 03:34:20 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:34:20 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-02 03:34:20 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-02 03:34:20 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-02 03:34:20 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-02 03:34:20 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-02 03:34:20 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-02 03:34:20 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:34:20 [ INFO ]                                                                            ^
2021-07-02 03:34:20 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:34:20 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-02 03:34:20 [ INFO ]   ^
2021-07-02 03:34:20 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-02 03:34:20 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-02 03:34:20 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:34:20 [ INFO ]                                                                            ^
2021-07-02 03:34:20 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:34:20 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-02 03:34:20 [ INFO ]          ^
2021-07-02 03:34:22 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-02 03:34:24 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-02 03:34:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-02 03:34:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:34:27 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-02 03:34:27 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-02 03:34:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:34:27 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-02 03:34:27 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-02 03:34:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-02 03:34:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:34:27 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-02 03:34:27 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-02 03:34:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:34:27 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-02 03:34:27 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-02 03:34:28 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-02 03:34:28 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-02 03:34:28 [ INFO ]  static int memcount = 0;
2021-07-02 03:34:28 [ INFO ]             ^~~~~~~~
2021-07-02 03:34:29 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-02 03:34:32 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-02 03:34:35 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-02 03:34:37 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-02 03:34:38 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-02 03:34:38 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-02 03:34:38 [ INFO ]               ^~~~~~~~~~~
2021-07-02 03:34:39 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-02 03:34:42 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-02 03:34:46 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-02 03:34:50 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-02 03:34:51 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-02 03:34:51 [ INFO ] [100%] Built target main
2021-07-02 03:35:13 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-02 03:35:13 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-02 03:35:13 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-02 03:35:13 [ INFO ] -- Configuring done
2021-07-02 03:35:13 [ INFO ] -- Generating done
2021-07-02 03:35:13 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-02 03:35:13 [ INFO ] Scanning dependencies of target main
2021-07-02 03:35:13 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-02 03:35:16 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-02 03:35:16 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-02 03:35:16 [ INFO ]  }
2021-07-02 03:35:16 [ INFO ]  ^
2021-07-02 03:35:16 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-02 03:35:16 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-02 03:35:16 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-02 03:35:16 [ INFO ]                                                         ^
2021-07-02 03:35:16 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-02 03:35:16 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-02 03:35:16 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-02 03:35:16 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-02 03:35:16 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-02 03:35:16 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-02 03:35:16 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-02 03:35:16 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-02 03:35:16 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-02 03:35:16 [ ERROR ]      uint8_t errorcode = 0;
2021-07-02 03:35:16 [ INFO ]              ^~~~~~~~~
2021-07-02 03:35:17 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-02 03:35:21 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-02 03:35:23 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-02 03:35:23 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-02 03:35:23 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-02 03:35:23 [ INFO ]               ^~~
2021-07-02 03:35:25 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-02 03:35:28 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-02 03:35:28 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-02 03:35:28 [ INFO ]          defult:
2021-07-02 03:35:28 [ INFO ]          ^~~~~~
2021-07-02 03:35:28 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-02 03:35:28 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-02 03:35:28 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-02 03:35:28 [ INFO ]                                                         ^
2021-07-02 03:35:28 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-02 03:35:28 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-02 03:35:28 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-02 03:35:28 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-02 03:35:28 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-02 03:35:28 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-02 03:35:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-02 03:35:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-02 03:35:29 [ INFO ]  }
2021-07-02 03:35:29 [ INFO ]  ^
2021-07-02 03:35:30 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-02 03:35:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-02 03:35:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-02 03:35:33 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-02 03:35:33 [ INFO ]               ^~~~~~
2021-07-02 03:35:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-02 03:35:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-02 03:35:33 [ INFO ]      void * buffer = nullptr;
2021-07-02 03:35:33 [ INFO ]             ^~~~~~
2021-07-02 03:35:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-02 03:35:33 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-02 03:35:33 [ INFO ]          ^~~~
2021-07-02 03:35:34 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-02 03:35:37 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-02 03:35:37 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-02 03:35:37 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-02 03:35:37 [ INFO ]                       ^~~~~~
2021-07-02 03:35:39 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-02 03:35:45 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-02 03:35:45 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:35:45 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-02 03:35:45 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-02 03:35:47 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-02 03:35:51 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-02 03:35:51 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-02 03:35:51 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-02 03:35:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-02 03:35:51 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-02 03:35:51 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:35:51 [ INFO ]                                                                            ^
2021-07-02 03:35:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:35:51 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-02 03:35:51 [ INFO ]          ^
2021-07-02 03:35:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-02 03:35:51 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-02 03:35:51 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:35:51 [ INFO ]                                                                            ^
2021-07-02 03:35:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:35:51 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-02 03:35:51 [ INFO ]          ^
2021-07-02 03:35:53 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-02 03:35:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-02 03:35:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:35:56 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-02 03:35:56 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-02 03:35:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-02 03:35:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:35:56 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-02 03:35:56 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-02 03:35:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-02 03:35:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:35:56 [ INFO ]      if (check_size > inference_size) {
2021-07-02 03:35:56 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-02 03:35:56 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-02 03:35:56 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-02 03:35:56 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-02 03:35:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-02 03:35:56 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:35:56 [ INFO ]                                                                            ^
2021-07-02 03:35:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:35:56 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-02 03:35:56 [ INFO ]          ^
2021-07-02 03:35:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-02 03:35:56 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:35:56 [ INFO ]                                                                            ^
2021-07-02 03:35:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:35:56 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-02 03:35:56 [ INFO ]          ^
2021-07-02 03:35:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-02 03:35:56 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:35:56 [ INFO ]                                                                            ^
2021-07-02 03:35:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:35:56 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-02 03:35:56 [ INFO ]      ^
2021-07-02 03:35:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-02 03:35:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:35:56 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-02 03:35:56 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-02 03:35:56 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-02 03:35:56 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-02 03:35:56 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-02 03:35:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-02 03:35:56 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:35:56 [ INFO ]                                                                            ^
2021-07-02 03:35:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:35:56 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-02 03:35:56 [ INFO ]   ^
2021-07-02 03:35:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-02 03:35:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-02 03:35:56 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:35:56 [ INFO ]                                                                            ^
2021-07-02 03:35:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:35:56 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-02 03:35:56 [ INFO ]          ^
2021-07-02 03:35:58 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-02 03:36:00 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-02 03:36:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-02 03:36:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:36:02 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-02 03:36:02 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-02 03:36:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:36:02 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-02 03:36:02 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-02 03:36:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-02 03:36:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:36:02 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-02 03:36:02 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-02 03:36:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:36:02 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-02 03:36:02 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-02 03:36:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-02 03:36:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-02 03:36:03 [ INFO ]  static int memcount = 0;
2021-07-02 03:36:03 [ INFO ]             ^~~~~~~~
2021-07-02 03:36:04 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-02 03:36:08 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-02 03:36:12 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-02 03:36:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-02 03:36:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-02 03:36:14 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-02 03:36:14 [ INFO ]               ^~~~~~~~~~~
2021-07-02 03:36:16 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-02 03:36:19 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-02 03:36:22 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-02 03:36:27 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-02 03:36:27 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-02 03:36:28 [ INFO ] [100%] Built target main
2021-07-02 03:47:18 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-02 03:47:18 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-02 03:47:18 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-02 03:47:18 [ INFO ] -- Configuring done
2021-07-02 03:47:18 [ INFO ] -- Generating done
2021-07-02 03:47:18 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-02 03:47:19 [ INFO ] Scanning dependencies of target main
2021-07-02 03:47:19 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-02 03:47:23 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-02 03:47:23 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-02 03:47:23 [ INFO ]  }
2021-07-02 03:47:23 [ INFO ]  ^
2021-07-02 03:47:23 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-02 03:47:23 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-02 03:47:23 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-02 03:47:23 [ INFO ]                                                         ^
2021-07-02 03:47:23 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-02 03:47:23 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-02 03:47:23 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-02 03:47:23 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-02 03:47:23 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-02 03:47:23 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-02 03:47:23 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-02 03:47:23 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-02 03:47:23 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-02 03:47:23 [ ERROR ]      uint8_t errorcode = 0;
2021-07-02 03:47:23 [ INFO ]              ^~~~~~~~~
2021-07-02 03:47:25 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-02 03:47:29 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-02 03:47:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-02 03:47:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-02 03:47:31 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-02 03:47:31 [ INFO ]               ^~~
2021-07-02 03:47:32 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-02 03:47:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-02 03:47:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-02 03:47:35 [ INFO ]          defult:
2021-07-02 03:47:35 [ INFO ]          ^~~~~~
2021-07-02 03:47:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-02 03:47:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-02 03:47:35 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-02 03:47:35 [ INFO ]                                                         ^
2021-07-02 03:47:35 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-02 03:47:35 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-02 03:47:35 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-02 03:47:35 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-02 03:47:35 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-02 03:47:35 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-02 03:47:37 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-02 03:47:37 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-02 03:47:37 [ INFO ]  }
2021-07-02 03:47:37 [ INFO ]  ^
2021-07-02 03:47:38 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-02 03:47:41 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-02 03:47:41 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:253:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-02 03:47:41 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-02 03:47:41 [ INFO ]               ^~~~~~
2021-07-02 03:47:41 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-02 03:47:41 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-02 03:47:41 [ INFO ]      void * buffer = nullptr;
2021-07-02 03:47:41 [ INFO ]             ^~~~~~
2021-07-02 03:47:41 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:282:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-02 03:47:41 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-02 03:47:41 [ INFO ]          ^~~~
2021-07-02 03:47:44 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-02 03:47:47 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-02 03:47:47 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-02 03:47:47 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-02 03:47:47 [ INFO ]                       ^~~~~~
2021-07-02 03:47:48 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-02 03:47:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-02 03:47:51 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:47:51 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-02 03:47:51 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-02 03:47:53 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-02 03:47:56 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-02 03:47:56 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-02 03:47:56 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-02 03:47:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-02 03:47:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-02 03:47:56 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:47:56 [ INFO ]                                                                            ^
2021-07-02 03:47:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:47:56 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-02 03:47:56 [ INFO ]          ^
2021-07-02 03:47:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-02 03:47:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-02 03:47:56 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:47:56 [ INFO ]                                                                            ^
2021-07-02 03:47:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:47:56 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-02 03:47:56 [ INFO ]          ^
2021-07-02 03:47:58 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-02 03:48:00 [ INFO ] Action failed with exit code 137
2021-07-02 03:49:06 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-02 03:49:06 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-02 03:49:06 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-02 03:49:06 [ INFO ] -- Configuring done
2021-07-02 03:49:06 [ INFO ] -- Generating done
2021-07-02 03:49:06 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-02 03:49:06 [ INFO ] Scanning dependencies of target main
2021-07-02 03:49:06 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-02 03:49:11 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-02 03:49:11 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-02 03:49:11 [ INFO ]  }
2021-07-02 03:49:11 [ INFO ]  ^
2021-07-02 03:49:11 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-02 03:49:11 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-02 03:49:11 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-02 03:49:11 [ INFO ]                                                         ^
2021-07-02 03:49:11 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-02 03:49:11 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-02 03:49:11 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-02 03:49:11 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-02 03:49:11 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-02 03:49:11 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-02 03:49:11 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-02 03:49:11 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-02 03:49:11 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-02 03:49:11 [ ERROR ]      uint8_t errorcode = 0;
2021-07-02 03:49:11 [ INFO ]              ^~~~~~~~~
2021-07-02 03:49:13 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-02 03:49:16 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-02 03:49:25 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-02 03:49:25 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-02 03:49:25 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-02 03:49:25 [ INFO ]               ^~~
2021-07-02 03:49:25 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-02 03:49:25 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-02 03:49:25 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-02 03:49:25 [ INFO ]          defult:
2021-07-02 03:49:25 [ INFO ]          ^~~~~~
2021-07-02 03:49:25 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-02 03:49:25 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-02 03:49:25 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-02 03:49:25 [ INFO ]                                                         ^
2021-07-02 03:49:25 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-02 03:49:25 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-02 03:49:25 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-02 03:49:25 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-02 03:49:25 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-02 03:49:25 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-02 03:49:25 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-02 03:49:25 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-02 03:49:26 [ INFO ]  }
2021-07-02 03:49:26 [ INFO ]  ^
2021-07-02 03:49:28 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-02 03:49:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-02 03:49:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-02 03:49:33 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-02 03:49:33 [ INFO ]               ^~~~~~
2021-07-02 03:49:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-02 03:49:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-02 03:49:33 [ INFO ]      void * buffer = nullptr;
2021-07-02 03:49:33 [ INFO ]             ^~~~~~
2021-07-02 03:49:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-02 03:49:33 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-02 03:49:33 [ INFO ]          ^~~~
2021-07-02 03:49:36 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-02 03:49:42 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-02 03:49:42 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-02 03:49:42 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-02 03:49:42 [ INFO ]                       ^~~~~~
2021-07-02 03:49:44 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-02 03:49:47 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-02 03:49:47 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:49:47 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-02 03:49:47 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-02 03:49:49 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-02 03:49:52 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-02 03:49:52 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-02 03:49:52 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-02 03:49:52 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-02 03:49:52 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-02 03:49:52 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:49:52 [ INFO ]                                                                            ^
2021-07-02 03:49:52 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:49:52 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-02 03:49:52 [ INFO ]          ^
2021-07-02 03:49:52 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-02 03:49:52 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-02 03:49:52 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:49:52 [ INFO ]                                                                            ^
2021-07-02 03:49:52 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:49:52 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-02 03:49:52 [ INFO ]          ^
2021-07-02 03:49:54 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-02 03:49:57 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-02 03:49:57 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:49:57 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-02 03:49:57 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-02 03:49:57 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-02 03:49:57 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:49:57 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-02 03:49:57 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-02 03:49:57 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-02 03:49:57 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:49:57 [ INFO ]      if (check_size > inference_size) {
2021-07-02 03:49:57 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-02 03:49:57 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-02 03:49:57 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-02 03:49:57 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-02 03:49:57 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-02 03:49:57 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:49:57 [ INFO ]                                                                            ^
2021-07-02 03:49:57 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:49:57 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-02 03:49:57 [ INFO ]          ^
2021-07-02 03:49:57 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-02 03:49:57 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:49:57 [ INFO ]                                                                            ^
2021-07-02 03:49:57 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:49:57 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-02 03:49:57 [ INFO ]          ^
2021-07-02 03:49:57 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-02 03:49:57 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:49:57 [ INFO ]                                                                            ^
2021-07-02 03:49:57 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:49:57 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-02 03:49:57 [ INFO ]      ^
2021-07-02 03:49:57 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-02 03:49:57 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:49:57 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-02 03:49:57 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-02 03:49:57 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-02 03:49:57 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-02 03:49:57 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-02 03:49:57 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-02 03:49:57 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:49:57 [ INFO ]                                                                            ^
2021-07-02 03:49:57 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:49:57 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-02 03:49:57 [ INFO ]   ^
2021-07-02 03:49:57 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-02 03:49:57 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-02 03:49:57 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:49:57 [ INFO ]                                                                            ^
2021-07-02 03:49:57 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:49:57 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-02 03:49:57 [ INFO ]          ^
2021-07-02 03:49:58 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-02 03:50:00 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-02 03:50:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-02 03:50:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:50:03 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-02 03:50:03 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-02 03:50:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:50:03 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-02 03:50:03 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-02 03:50:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-02 03:50:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:50:03 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-02 03:50:03 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-02 03:50:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:50:03 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-02 03:50:03 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-02 03:50:04 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-02 03:50:04 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-02 03:50:04 [ INFO ]  static int memcount = 0;
2021-07-02 03:50:04 [ INFO ]             ^~~~~~~~
2021-07-02 03:50:05 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-02 03:50:09 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-02 03:50:13 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-02 03:50:15 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-02 03:50:15 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-02 03:50:15 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-02 03:50:15 [ INFO ]               ^~~~~~~~~~~
2021-07-02 03:50:18 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-02 03:50:22 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-02 03:50:26 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-02 03:50:30 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-02 03:50:31 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-02 03:50:31 [ INFO ] [100%] Built target main
2021-07-02 03:51:03 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-02 03:51:04 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-02 03:51:04 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-02 03:51:04 [ INFO ] -- Configuring done
2021-07-02 03:51:04 [ INFO ] -- Generating done
2021-07-02 03:51:04 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-02 03:51:04 [ INFO ] Scanning dependencies of target main
2021-07-02 03:51:04 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-02 03:51:06 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-02 03:51:06 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-02 03:51:06 [ INFO ]  }
2021-07-02 03:51:06 [ INFO ]  ^
2021-07-02 03:51:06 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-02 03:51:06 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-02 03:51:06 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-02 03:51:06 [ INFO ]                                                         ^
2021-07-02 03:51:06 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-02 03:51:06 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-02 03:51:06 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-02 03:51:06 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-02 03:51:06 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-02 03:51:06 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-02 03:51:06 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-02 03:51:06 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-02 03:51:06 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-02 03:51:06 [ ERROR ]      uint8_t errorcode = 0;
2021-07-02 03:51:06 [ INFO ]              ^~~~~~~~~
2021-07-02 03:51:08 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-02 03:51:11 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-02 03:51:13 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-02 03:51:13 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-02 03:51:13 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-02 03:51:13 [ INFO ]               ^~~
2021-07-02 03:51:14 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-02 03:51:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-02 03:51:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-02 03:51:17 [ INFO ]          defult:
2021-07-02 03:51:17 [ INFO ]          ^~~~~~
2021-07-02 03:51:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-02 03:51:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-02 03:51:17 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-02 03:51:17 [ INFO ]                                                         ^
2021-07-02 03:51:17 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-02 03:51:17 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-02 03:51:17 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-02 03:51:17 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-02 03:51:17 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-02 03:51:17 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-02 03:51:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-02 03:51:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-02 03:51:18 [ INFO ]  }
2021-07-02 03:51:18 [ INFO ]  ^
2021-07-02 03:51:19 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-02 03:51:22 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-02 03:51:22 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-02 03:51:22 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-02 03:51:22 [ INFO ]               ^~~~~~
2021-07-02 03:51:22 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-02 03:51:22 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-02 03:51:22 [ INFO ]      void * buffer = nullptr;
2021-07-02 03:51:22 [ INFO ]             ^~~~~~
2021-07-02 03:51:22 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-02 03:51:22 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-02 03:51:22 [ INFO ]          ^~~~
2021-07-02 03:51:23 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-02 03:51:26 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-02 03:51:26 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-02 03:51:26 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-02 03:51:26 [ INFO ]                       ^~~~~~
2021-07-02 03:51:28 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-02 03:51:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-02 03:51:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:51:31 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-02 03:51:31 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-02 03:51:32 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-02 03:51:35 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-02 03:51:35 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-02 03:51:35 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-02 03:51:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-02 03:51:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-02 03:51:35 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:51:35 [ INFO ]                                                                            ^
2021-07-02 03:51:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:51:35 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-02 03:51:35 [ INFO ]          ^
2021-07-02 03:51:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-02 03:51:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-02 03:51:35 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:51:35 [ INFO ]                                                                            ^
2021-07-02 03:51:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:51:35 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-02 03:51:35 [ INFO ]          ^
2021-07-02 03:51:36 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-02 03:51:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-02 03:51:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:51:39 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-02 03:51:39 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-02 03:51:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-02 03:51:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:51:39 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-02 03:51:39 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-02 03:51:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-02 03:51:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:51:39 [ INFO ]      if (check_size > inference_size) {
2021-07-02 03:51:39 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-02 03:51:39 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-02 03:51:39 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-02 03:51:39 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-02 03:51:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-02 03:51:39 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:51:39 [ INFO ]                                                                            ^
2021-07-02 03:51:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:51:39 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-02 03:51:39 [ INFO ]          ^
2021-07-02 03:51:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-02 03:51:39 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:51:39 [ INFO ]                                                                            ^
2021-07-02 03:51:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:51:39 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-02 03:51:39 [ INFO ]          ^
2021-07-02 03:51:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-02 03:51:39 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:51:39 [ INFO ]                                                                            ^
2021-07-02 03:51:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:51:39 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-02 03:51:39 [ INFO ]      ^
2021-07-02 03:51:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-02 03:51:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:51:39 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-02 03:51:39 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-02 03:51:39 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-02 03:51:39 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-02 03:51:39 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-02 03:51:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-02 03:51:39 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:51:39 [ INFO ]                                                                            ^
2021-07-02 03:51:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:51:39 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-02 03:51:39 [ INFO ]   ^
2021-07-02 03:51:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-02 03:51:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-02 03:51:39 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 03:51:39 [ INFO ]                                                                            ^
2021-07-02 03:51:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 03:51:39 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-02 03:51:39 [ INFO ]          ^
2021-07-02 03:51:41 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-02 03:51:43 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-02 03:51:46 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-02 03:51:46 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:51:46 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-02 03:51:46 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-02 03:51:46 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:51:46 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-02 03:51:46 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-02 03:51:46 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-02 03:51:46 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:51:46 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-02 03:51:46 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-02 03:51:46 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 03:51:46 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-02 03:51:46 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-02 03:51:47 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-02 03:51:47 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-02 03:51:47 [ INFO ]  static int memcount = 0;
2021-07-02 03:51:47 [ INFO ]             ^~~~~~~~
2021-07-02 03:51:47 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-02 03:51:50 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-02 03:51:54 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-02 03:51:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-02 03:51:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-02 03:51:56 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-02 03:51:56 [ INFO ]               ^~~~~~~~~~~
2021-07-02 03:51:57 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-02 03:52:00 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-02 03:52:04 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-02 03:52:08 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-02 03:52:09 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-02 03:52:09 [ INFO ] [100%] Built target main
2021-07-02 23:36:32 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && rm -rf /home/zack/AscendProjects/face_recognition_camera/build/intermediates && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-02 23:36:33 [ INFO ] -- The C compiler identification is GNU 7.5.0
2021-07-02 23:36:34 [ INFO ] -- The CXX compiler identification is GNU 7.5.0
2021-07-02 23:36:34 [ INFO ] -- Check for working C compiler: /usr/bin/cc
2021-07-02 23:36:34 [ INFO ] -- Check for working C compiler: /usr/bin/cc -- works
2021-07-02 23:36:34 [ INFO ] -- Detecting C compiler ABI info
2021-07-02 23:36:34 [ INFO ] -- Detecting C compiler ABI info - done
2021-07-02 23:36:34 [ INFO ] -- Detecting C compile features
2021-07-02 23:36:35 [ INFO ] -- Detecting C compile features - done
2021-07-02 23:36:35 [ INFO ] -- Check for working CXX compiler: /usr/bin/aarch64-linux-gnu-g++
2021-07-02 23:36:35 [ INFO ] -- Check for working CXX compiler: /usr/bin/aarch64-linux-gnu-g++ -- works
2021-07-02 23:36:35 [ INFO ] -- Detecting CXX compiler ABI info
2021-07-02 23:36:35 [ INFO ] -- Detecting CXX compiler ABI info - done
2021-07-02 23:36:35 [ INFO ] -- Detecting CXX compile features
2021-07-02 23:36:36 [ INFO ] -- Detecting CXX compile features - done
2021-07-02 23:36:36 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-02 23:36:36 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-02 23:36:36 [ INFO ] -- Configuring done
2021-07-02 23:36:36 [ INFO ] -- Generating done
2021-07-02 23:36:36 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-02 23:36:36 [ INFO ] Scanning dependencies of target main
2021-07-02 23:36:36 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-02 23:36:41 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-02 23:36:41 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-02 23:36:41 [ INFO ]  }
2021-07-02 23:36:41 [ INFO ]  ^
2021-07-02 23:36:41 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-02 23:36:41 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-02 23:36:41 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-02 23:36:41 [ INFO ]                                                         ^
2021-07-02 23:36:41 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-02 23:36:41 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-02 23:36:41 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-02 23:36:41 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-02 23:36:41 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-02 23:36:41 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-02 23:36:41 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-02 23:36:41 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-02 23:36:41 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-02 23:36:41 [ ERROR ]      uint8_t errorcode = 0;
2021-07-02 23:36:41 [ INFO ]              ^~~~~~~~~
2021-07-02 23:36:43 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-02 23:36:46 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-02 23:36:48 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-02 23:36:48 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-02 23:36:48 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-02 23:36:48 [ INFO ]               ^~~
2021-07-02 23:36:49 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-02 23:36:52 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-02 23:36:52 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-02 23:36:52 [ INFO ]          defult:
2021-07-02 23:36:52 [ INFO ]          ^~~~~~
2021-07-02 23:36:52 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-02 23:36:52 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-02 23:36:52 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-02 23:36:52 [ INFO ]                                                         ^
2021-07-02 23:36:52 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-02 23:36:52 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-02 23:36:52 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-02 23:36:52 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-02 23:36:52 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-02 23:36:52 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-02 23:36:53 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-02 23:36:53 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-02 23:36:53 [ INFO ]  }
2021-07-02 23:36:53 [ INFO ]  ^
2021-07-02 23:36:54 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-02 23:36:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-02 23:36:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-02 23:36:56 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-02 23:36:56 [ INFO ]               ^~~~~~
2021-07-02 23:36:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-02 23:36:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-02 23:36:56 [ INFO ]      void * buffer = nullptr;
2021-07-02 23:36:56 [ INFO ]             ^~~~~~
2021-07-02 23:36:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-02 23:36:56 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-02 23:36:56 [ INFO ]          ^~~~
2021-07-02 23:36:58 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-02 23:37:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-02 23:37:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-02 23:37:01 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-02 23:37:01 [ INFO ]                       ^~~~~~
2021-07-02 23:37:03 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-02 23:37:05 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-02 23:37:05 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 23:37:05 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-02 23:37:05 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-02 23:37:07 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-02 23:37:10 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-02 23:37:10 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-02 23:37:10 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-02 23:37:10 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-02 23:37:10 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-02 23:37:10 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 23:37:10 [ INFO ]                                                                            ^
2021-07-02 23:37:10 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 23:37:10 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-02 23:37:10 [ INFO ]          ^
2021-07-02 23:37:10 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-02 23:37:10 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-02 23:37:10 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 23:37:10 [ INFO ]                                                                            ^
2021-07-02 23:37:10 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 23:37:10 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-02 23:37:10 [ INFO ]          ^
2021-07-02 23:37:11 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-02 23:37:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-02 23:37:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 23:37:14 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-02 23:37:14 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-02 23:37:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-02 23:37:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 23:37:14 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-02 23:37:14 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-02 23:37:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-02 23:37:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 23:37:14 [ INFO ]      if (check_size > inference_size) {
2021-07-02 23:37:14 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-02 23:37:14 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-02 23:37:14 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-02 23:37:14 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-02 23:37:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-02 23:37:14 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 23:37:14 [ INFO ]                                                                            ^
2021-07-02 23:37:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 23:37:14 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-02 23:37:14 [ INFO ]          ^
2021-07-02 23:37:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-02 23:37:14 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 23:37:14 [ INFO ]                                                                            ^
2021-07-02 23:37:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 23:37:14 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-02 23:37:14 [ INFO ]          ^
2021-07-02 23:37:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-02 23:37:14 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 23:37:14 [ INFO ]                                                                            ^
2021-07-02 23:37:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-02 23:37:14 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-02 23:37:14 [ INFO ]      ^
2021-07-02 23:37:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-02 23:37:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 23:37:14 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-02 23:37:14 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-02 23:37:14 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-02 23:37:14 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-02 23:37:14 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-02 23:37:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-02 23:37:14 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 23:37:14 [ INFO ]                                                                            ^
2021-07-02 23:37:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-02 23:37:14 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-02 23:37:14 [ INFO ]   ^
2021-07-02 23:37:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-02 23:37:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-02 23:37:14 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 23:37:14 [ INFO ]                                                                            ^
2021-07-02 23:37:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 23:37:14 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-02 23:37:14 [ INFO ]          ^
2021-07-02 23:37:15 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-02 23:37:17 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-02 23:37:20 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-02 23:37:20 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 23:37:20 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-02 23:37:20 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-02 23:37:20 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 23:37:20 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-02 23:37:20 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-02 23:37:20 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-02 23:37:20 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 23:37:20 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-02 23:37:20 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-02 23:37:20 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 23:37:20 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-02 23:37:20 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-02 23:37:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-02 23:37:21 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-02 23:37:21 [ INFO ]  static int memcount = 0;
2021-07-02 23:37:21 [ INFO ]             ^~~~~~~~
2021-07-02 23:37:21 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-02 23:37:26 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-02 23:37:29 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-02 23:37:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-02 23:37:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-02 23:37:31 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-02 23:37:31 [ INFO ]               ^~~~~~~~~~~
2021-07-02 23:37:32 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-02 23:37:36 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-02 23:37:39 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-02 23:37:43 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-02 23:37:43 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-02 23:37:43 [ INFO ] [100%] Built target main
2021-07-02 23:40:23 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && rm -rf /home/zack/AscendProjects/face_recognition_camera/build/intermediates && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build .
2021-07-02 23:40:23 [ INFO ] -- The C compiler identification is GNU 7.5.0
2021-07-02 23:40:23 [ INFO ] -- The CXX compiler identification is GNU 7.5.0
2021-07-02 23:40:23 [ INFO ] -- Check for working C compiler: /usr/bin/cc
2021-07-02 23:40:23 [ INFO ] -- Check for working C compiler: /usr/bin/cc -- works
2021-07-02 23:40:23 [ INFO ] -- Detecting C compiler ABI info
2021-07-02 23:40:23 [ INFO ] -- Detecting C compiler ABI info - done
2021-07-02 23:40:23 [ INFO ] -- Detecting C compile features
2021-07-02 23:40:24 [ INFO ] -- Detecting C compile features - done
2021-07-02 23:40:24 [ INFO ] -- Check for working CXX compiler: /usr/bin/aarch64-linux-gnu-g++
2021-07-02 23:40:24 [ INFO ] -- Check for working CXX compiler: /usr/bin/aarch64-linux-gnu-g++ -- works
2021-07-02 23:40:24 [ INFO ] -- Detecting CXX compiler ABI info
2021-07-02 23:40:24 [ INFO ] -- Detecting CXX compiler ABI info - done
2021-07-02 23:40:24 [ INFO ] -- Detecting CXX compile features
2021-07-02 23:40:25 [ INFO ] -- Detecting CXX compile features - done
2021-07-02 23:40:25 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-02 23:40:25 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-02 23:40:25 [ INFO ] -- Configuring done
2021-07-02 23:40:25 [ INFO ] -- Generating done
2021-07-02 23:40:25 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-02 23:40:25 [ INFO ] Scanning dependencies of target main
2021-07-02 23:40:25 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-02 23:40:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-02 23:40:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-02 23:40:27 [ INFO ]  }
2021-07-02 23:40:27 [ INFO ]  ^
2021-07-02 23:40:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-02 23:40:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-02 23:40:27 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-02 23:40:27 [ INFO ]                                                         ^
2021-07-02 23:40:27 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-02 23:40:27 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-02 23:40:27 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-02 23:40:27 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-02 23:40:27 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-02 23:40:27 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-02 23:40:27 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-02 23:40:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-02 23:40:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-02 23:40:27 [ ERROR ]      uint8_t errorcode = 0;
2021-07-02 23:40:27 [ INFO ]              ^~~~~~~~~
2021-07-02 23:40:29 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-02 23:40:32 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-02 23:40:34 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-02 23:40:34 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-02 23:40:34 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-02 23:40:34 [ INFO ]               ^~~
2021-07-02 23:40:36 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-02 23:40:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-02 23:40:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-02 23:40:39 [ INFO ]          defult:
2021-07-02 23:40:39 [ INFO ]          ^~~~~~
2021-07-02 23:40:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-02 23:40:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-02 23:40:39 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-02 23:40:39 [ INFO ]                                                         ^
2021-07-02 23:40:39 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-02 23:40:39 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-02 23:40:39 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-02 23:40:39 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-02 23:40:39 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-02 23:40:39 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-02 23:40:40 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-02 23:40:40 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-02 23:40:40 [ INFO ]  }
2021-07-02 23:40:40 [ INFO ]  ^
2021-07-02 23:40:41 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-02 23:40:44 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-02 23:40:44 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-02 23:40:44 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-02 23:40:44 [ INFO ]               ^~~~~~
2021-07-02 23:40:44 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-02 23:40:44 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-02 23:40:44 [ INFO ]      void * buffer = nullptr;
2021-07-02 23:40:44 [ INFO ]             ^~~~~~
2021-07-02 23:40:44 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-02 23:40:44 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-02 23:40:44 [ INFO ]          ^~~~
2021-07-02 23:40:46 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-02 23:40:49 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-02 23:40:49 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-02 23:40:49 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-02 23:40:49 [ INFO ]                       ^~~~~~
2021-07-02 23:40:51 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-02 23:40:54 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-02 23:40:54 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 23:40:54 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-02 23:40:54 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-02 23:40:55 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-02 23:40:58 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-02 23:40:58 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-02 23:40:58 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-02 23:40:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-02 23:40:58 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-02 23:40:58 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 23:40:58 [ INFO ]                                                                            ^
2021-07-02 23:40:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 23:40:58 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-02 23:40:58 [ INFO ]          ^
2021-07-02 23:40:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-02 23:40:58 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-02 23:40:58 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 23:40:58 [ INFO ]                                                                            ^
2021-07-02 23:40:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 23:40:58 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-02 23:40:58 [ INFO ]          ^
2021-07-02 23:41:00 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-02 23:41:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-02 23:41:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 23:41:03 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-02 23:41:03 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-02 23:41:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-02 23:41:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 23:41:03 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-02 23:41:03 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-02 23:41:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-02 23:41:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 23:41:03 [ INFO ]      if (check_size > inference_size) {
2021-07-02 23:41:03 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-02 23:41:03 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-02 23:41:03 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-02 23:41:03 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-02 23:41:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-02 23:41:03 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 23:41:03 [ INFO ]                                                                            ^
2021-07-02 23:41:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 23:41:03 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-02 23:41:03 [ INFO ]          ^
2021-07-02 23:41:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-02 23:41:03 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 23:41:03 [ INFO ]                                                                            ^
2021-07-02 23:41:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 23:41:03 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-02 23:41:03 [ INFO ]          ^
2021-07-02 23:41:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-02 23:41:03 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 23:41:03 [ INFO ]                                                                            ^
2021-07-02 23:41:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-02 23:41:03 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-02 23:41:03 [ INFO ]      ^
2021-07-02 23:41:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-02 23:41:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 23:41:03 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-02 23:41:03 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-02 23:41:03 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-02 23:41:03 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-02 23:41:03 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-02 23:41:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-02 23:41:03 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 23:41:03 [ INFO ]                                                                            ^
2021-07-02 23:41:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-02 23:41:03 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-02 23:41:03 [ INFO ]   ^
2021-07-02 23:41:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-02 23:41:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-02 23:41:03 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-02 23:41:03 [ INFO ]                                                                            ^
2021-07-02 23:41:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-02 23:41:03 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-02 23:41:03 [ INFO ]          ^
2021-07-02 23:41:05 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-02 23:41:06 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-02 23:41:10 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-02 23:41:10 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 23:41:10 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-02 23:41:10 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-02 23:41:10 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 23:41:10 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-02 23:41:10 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-02 23:41:10 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-02 23:41:10 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 23:41:10 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-02 23:41:10 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-02 23:41:10 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-02 23:41:10 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-02 23:41:10 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-02 23:41:11 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-02 23:41:11 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-02 23:41:11 [ INFO ]  static int memcount = 0;
2021-07-02 23:41:11 [ INFO ]             ^~~~~~~~
2021-07-02 23:41:11 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-02 23:41:15 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-02 23:41:19 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-02 23:41:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-02 23:41:21 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-02 23:41:21 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-02 23:41:21 [ INFO ]               ^~~~~~~~~~~
2021-07-02 23:41:22 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-02 23:41:26 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-02 23:41:30 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-02 23:41:34 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-02 23:41:35 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-02 23:41:35 [ INFO ] [100%] Built target main
2021-07-03 06:31:22 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build .
2021-07-03 06:31:22 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-03 06:31:22 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-03 06:31:22 [ INFO ] -- Configuring done
2021-07-03 06:31:22 [ INFO ] -- Generating done
2021-07-03 06:31:22 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-03 06:31:22 [ INFO ] [100%] Built target main
2021-07-03 06:33:07 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && rm -rf /home/zack/AscendProjects/face_recognition_camera/build/intermediates && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-03 06:33:08 [ INFO ] -- The C compiler identification is GNU 7.5.0
2021-07-03 06:33:09 [ INFO ] -- The CXX compiler identification is GNU 7.5.0
2021-07-03 06:33:09 [ INFO ] -- Check for working C compiler: /usr/bin/cc
2021-07-03 06:33:09 [ INFO ] -- Check for working C compiler: /usr/bin/cc -- works
2021-07-03 06:33:09 [ INFO ] -- Detecting C compiler ABI info
2021-07-03 06:33:09 [ INFO ] -- Detecting C compiler ABI info - done
2021-07-03 06:33:09 [ INFO ] -- Detecting C compile features
2021-07-03 06:33:10 [ INFO ] -- Detecting C compile features - done
2021-07-03 06:33:10 [ INFO ] -- Check for working CXX compiler: /usr/bin/aarch64-linux-gnu-g++
2021-07-03 06:33:10 [ INFO ] -- Check for working CXX compiler: /usr/bin/aarch64-linux-gnu-g++ -- works
2021-07-03 06:33:10 [ INFO ] -- Detecting CXX compiler ABI info
2021-07-03 06:33:10 [ INFO ] -- Detecting CXX compiler ABI info - done
2021-07-03 06:33:10 [ INFO ] -- Detecting CXX compile features
2021-07-03 06:33:11 [ INFO ] -- Detecting CXX compile features - done
2021-07-03 06:33:11 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-03 06:33:11 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-03 06:33:11 [ INFO ] -- Configuring done
2021-07-03 06:33:11 [ INFO ] -- Generating done
2021-07-03 06:33:11 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-03 06:33:11 [ INFO ] Scanning dependencies of target main
2021-07-03 06:33:11 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-03 06:33:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-03 06:33:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-03 06:33:17 [ INFO ]  }
2021-07-03 06:33:17 [ INFO ]  ^
2021-07-03 06:33:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 06:33:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 06:33:17 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 06:33:17 [ INFO ]                                                         ^
2021-07-03 06:33:17 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 06:33:17 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 06:33:17 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-03 06:33:17 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-03 06:33:17 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 06:33:17 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 06:33:17 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 06:33:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-03 06:33:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-03 06:33:17 [ ERROR ]      uint8_t errorcode = 0;
2021-07-03 06:33:17 [ INFO ]              ^~~~~~~~~
2021-07-03 06:33:19 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-03 06:33:22 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-03 06:33:25 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-03 06:33:25 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-03 06:33:25 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-03 06:33:25 [ INFO ]               ^~~
2021-07-03 06:33:26 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-03 06:33:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 06:33:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-03 06:33:29 [ INFO ]          defult:
2021-07-03 06:33:29 [ INFO ]          ^~~~~~
2021-07-03 06:33:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 06:33:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 06:33:29 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 06:33:29 [ INFO ]                                                         ^
2021-07-03 06:33:29 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 06:33:29 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 06:33:29 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-03 06:33:29 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 06:33:29 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 06:33:29 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 06:33:30 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 06:33:30 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-03 06:33:30 [ INFO ]  }
2021-07-03 06:33:30 [ INFO ]  ^
2021-07-03 06:33:30 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-03 06:33:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-03 06:33:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 06:33:33 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-03 06:33:33 [ INFO ]               ^~~~~~
2021-07-03 06:33:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-03 06:33:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-03 06:33:33 [ INFO ]      void * buffer = nullptr;
2021-07-03 06:33:33 [ INFO ]             ^~~~~~
2021-07-03 06:33:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-03 06:33:33 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-03 06:33:33 [ INFO ]          ^~~~
2021-07-03 06:33:35 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-03 06:33:38 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-03 06:33:38 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 06:33:38 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-03 06:33:38 [ INFO ]                       ^~~~~~
2021-07-03 06:33:40 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-03 06:33:43 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-03 06:33:43 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:33:43 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-03 06:33:43 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 06:33:44 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-03 06:33:47 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 06:33:47 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-03 06:33:47 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-03 06:33:47 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-03 06:33:47 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 06:33:47 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 06:33:47 [ INFO ]                                                                            ^
2021-07-03 06:33:47 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 06:33:47 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-03 06:33:47 [ INFO ]          ^
2021-07-03 06:33:47 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-03 06:33:47 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 06:33:47 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 06:33:47 [ INFO ]                                                                            ^
2021-07-03 06:33:47 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 06:33:47 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-03 06:33:47 [ INFO ]          ^
2021-07-03 06:33:49 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-03 06:33:52 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-03 06:33:52 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:33:52 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-03 06:33:52 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-03 06:33:52 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-03 06:33:52 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:33:52 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-03 06:33:52 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 06:33:52 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 06:33:52 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:33:52 [ INFO ]      if (check_size > inference_size) {
2021-07-03 06:33:52 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-03 06:33:52 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 06:33:52 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 06:33:52 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 06:33:52 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-03 06:33:52 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 06:33:52 [ INFO ]                                                                            ^
2021-07-03 06:33:52 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 06:33:52 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 06:33:52 [ INFO ]          ^
2021-07-03 06:33:52 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-03 06:33:52 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 06:33:52 [ INFO ]                                                                            ^
2021-07-03 06:33:52 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 06:33:52 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 06:33:52 [ INFO ]          ^
2021-07-03 06:33:52 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 06:33:52 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 06:33:52 [ INFO ]                                                                            ^
2021-07-03 06:33:52 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-03 06:33:52 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-03 06:33:52 [ INFO ]      ^
2021-07-03 06:33:52 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 06:33:52 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:33:52 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-03 06:33:52 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 06:33:52 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 06:33:52 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 06:33:52 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 06:33:52 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 06:33:52 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 06:33:52 [ INFO ]                                                                            ^
2021-07-03 06:33:52 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-03 06:33:52 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-03 06:33:52 [ INFO ]   ^
2021-07-03 06:33:52 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 06:33:52 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-03 06:33:52 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 06:33:52 [ INFO ]                                                                            ^
2021-07-03 06:33:52 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 06:33:52 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-03 06:33:52 [ INFO ]          ^
2021-07-03 06:33:53 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-03 06:33:55 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-03 06:33:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 06:33:58 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:33:58 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 06:33:58 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 06:33:58 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:33:58 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 06:33:58 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 06:33:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 06:33:58 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:33:58 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 06:33:58 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 06:33:58 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:33:58 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 06:33:58 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 06:33:59 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-03 06:33:59 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-03 06:33:59 [ INFO ]  static int memcount = 0;
2021-07-03 06:33:59 [ INFO ]             ^~~~~~~~
2021-07-03 06:34:00 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-03 06:34:03 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-03 06:34:07 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-03 06:34:09 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-03 06:34:09 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-03 06:34:09 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-03 06:34:09 [ INFO ]               ^~~~~~~~~~~
2021-07-03 06:34:10 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-03 06:34:14 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-03 06:34:17 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-03 06:34:21 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-03 06:34:21 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-03 06:34:21 [ INFO ] [100%] Built target main
2021-07-03 06:38:22 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-03 06:38:22 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-03 06:38:22 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-03 06:38:23 [ INFO ] -- Configuring done
2021-07-03 06:38:23 [ INFO ] -- Generating done
2021-07-03 06:38:23 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-03 06:38:23 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-03 06:38:28 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-03 06:38:28 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-03 06:38:28 [ INFO ]  }
2021-07-03 06:38:28 [ INFO ]  ^
2021-07-03 06:38:28 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 06:38:28 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 06:38:28 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 06:38:28 [ INFO ]                                                         ^
2021-07-03 06:38:28 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 06:38:28 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 06:38:28 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-03 06:38:28 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-03 06:38:28 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 06:38:28 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 06:38:28 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 06:38:28 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-03 06:38:28 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-03 06:38:28 [ ERROR ]      uint8_t errorcode = 0;
2021-07-03 06:38:28 [ INFO ]              ^~~~~~~~~
2021-07-03 06:38:31 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-03 06:38:34 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-03 06:38:36 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-03 06:38:36 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-03 06:38:36 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-03 06:38:36 [ INFO ]               ^~~
2021-07-03 06:38:38 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-03 06:38:40 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 06:38:40 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-03 06:38:40 [ INFO ]          defult:
2021-07-03 06:38:40 [ INFO ]          ^~~~~~
2021-07-03 06:38:40 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 06:38:40 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 06:38:40 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 06:38:40 [ INFO ]                                                         ^
2021-07-03 06:38:40 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 06:38:40 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 06:38:40 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-03 06:38:40 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 06:38:40 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 06:38:40 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 06:38:41 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 06:38:41 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-03 06:38:41 [ INFO ]  }
2021-07-03 06:38:41 [ INFO ]  ^
2021-07-03 06:38:42 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-03 06:38:45 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-03 06:38:45 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 06:38:45 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-03 06:38:45 [ INFO ]               ^~~~~~
2021-07-03 06:38:45 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-03 06:38:45 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-03 06:38:45 [ INFO ]      void * buffer = nullptr;
2021-07-03 06:38:45 [ INFO ]             ^~~~~~
2021-07-03 06:38:45 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-03 06:38:45 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-03 06:38:45 [ INFO ]          ^~~~
2021-07-03 06:38:46 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-03 06:38:49 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-03 06:38:49 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 06:38:49 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-03 06:38:49 [ INFO ]                       ^~~~~~
2021-07-03 06:38:51 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-03 06:38:54 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-03 06:38:54 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:38:54 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-03 06:38:54 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 06:38:55 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-03 06:38:58 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 06:38:58 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-03 06:38:58 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-03 06:38:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-03 06:38:58 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 06:38:58 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 06:38:58 [ INFO ]                                                                            ^
2021-07-03 06:38:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 06:38:58 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-03 06:38:58 [ INFO ]          ^
2021-07-03 06:38:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-03 06:38:58 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 06:38:58 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 06:38:58 [ INFO ]                                                                            ^
2021-07-03 06:38:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 06:38:58 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-03 06:38:58 [ INFO ]          ^
2021-07-03 06:39:00 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-03 06:39:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-03 06:39:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:39:02 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-03 06:39:02 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-03 06:39:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-03 06:39:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:39:03 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-03 06:39:03 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 06:39:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 06:39:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:39:03 [ INFO ]      if (check_size > inference_size) {
2021-07-03 06:39:03 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-03 06:39:03 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 06:39:03 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 06:39:03 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 06:39:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-03 06:39:03 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 06:39:03 [ INFO ]                                                                            ^
2021-07-03 06:39:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 06:39:03 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 06:39:03 [ INFO ]          ^
2021-07-03 06:39:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-03 06:39:03 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 06:39:03 [ INFO ]                                                                            ^
2021-07-03 06:39:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 06:39:03 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 06:39:03 [ INFO ]          ^
2021-07-03 06:39:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 06:39:03 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 06:39:03 [ INFO ]                                                                            ^
2021-07-03 06:39:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-03 06:39:03 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-03 06:39:03 [ INFO ]      ^
2021-07-03 06:39:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 06:39:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:39:03 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-03 06:39:03 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 06:39:03 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 06:39:03 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 06:39:03 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 06:39:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 06:39:03 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 06:39:03 [ INFO ]                                                                            ^
2021-07-03 06:39:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-03 06:39:03 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-03 06:39:03 [ INFO ]   ^
2021-07-03 06:39:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 06:39:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-03 06:39:03 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 06:39:03 [ INFO ]                                                                            ^
2021-07-03 06:39:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 06:39:03 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-03 06:39:03 [ INFO ]          ^
2021-07-03 06:39:04 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-03 06:39:06 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-03 06:39:09 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 06:39:09 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:39:09 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 06:39:09 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 06:39:09 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:39:09 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 06:39:09 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 06:39:09 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 06:39:09 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:39:09 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 06:39:09 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 06:39:09 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:39:09 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 06:39:09 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 06:39:10 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-03 06:39:10 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-03 06:39:10 [ INFO ]  static int memcount = 0;
2021-07-03 06:39:10 [ INFO ]             ^~~~~~~~
2021-07-03 06:39:10 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-03 06:39:14 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-03 06:39:17 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-03 06:39:19 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-03 06:39:19 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-03 06:39:19 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-03 06:39:19 [ INFO ]               ^~~~~~~~~~~
2021-07-03 06:39:20 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-03 06:39:24 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-03 06:39:27 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-03 06:39:32 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-03 06:39:32 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-03 06:39:32 [ INFO ] [100%] Built target main
2021-07-03 06:39:51 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-03 06:39:51 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-03 06:39:51 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-03 06:39:51 [ INFO ] -- Configuring done
2021-07-03 06:39:51 [ INFO ] -- Generating done
2021-07-03 06:39:51 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-03 06:39:51 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-03 06:39:54 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-03 06:39:54 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-03 06:39:54 [ INFO ]  }
2021-07-03 06:39:54 [ INFO ]  ^
2021-07-03 06:39:54 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 06:39:54 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 06:39:54 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 06:39:54 [ INFO ]                                                         ^
2021-07-03 06:39:54 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 06:39:54 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 06:39:54 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-03 06:39:54 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-03 06:39:54 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 06:39:54 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 06:39:54 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 06:39:54 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-03 06:39:54 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-03 06:39:54 [ ERROR ]      uint8_t errorcode = 0;
2021-07-03 06:39:54 [ INFO ]              ^~~~~~~~~
2021-07-03 06:39:56 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-03 06:39:59 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-03 06:40:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-03 06:40:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-03 06:40:01 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-03 06:40:01 [ INFO ]               ^~~
2021-07-03 06:40:03 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-03 06:40:05 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 06:40:05 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-03 06:40:05 [ INFO ]          defult:
2021-07-03 06:40:05 [ INFO ]          ^~~~~~
2021-07-03 06:40:05 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 06:40:05 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 06:40:05 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 06:40:05 [ INFO ]                                                         ^
2021-07-03 06:40:05 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 06:40:05 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 06:40:05 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-03 06:40:05 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 06:40:05 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 06:40:05 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 06:40:06 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 06:40:06 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-03 06:40:06 [ INFO ]  }
2021-07-03 06:40:06 [ INFO ]  ^
2021-07-03 06:40:07 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-03 06:40:10 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-03 06:40:10 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 06:40:10 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-03 06:40:10 [ INFO ]               ^~~~~~
2021-07-03 06:40:10 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-03 06:40:10 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-03 06:40:10 [ INFO ]      void * buffer = nullptr;
2021-07-03 06:40:10 [ INFO ]             ^~~~~~
2021-07-03 06:40:10 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-03 06:40:10 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-03 06:40:10 [ INFO ]          ^~~~
2021-07-03 06:40:12 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-03 06:40:15 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-03 06:40:15 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 06:40:15 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-03 06:40:15 [ INFO ]                       ^~~~~~
2021-07-03 06:40:16 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-03 06:40:19 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-03 06:40:19 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:40:19 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-03 06:40:19 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 06:40:20 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-03 06:40:23 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 06:40:23 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-03 06:40:23 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-03 06:40:23 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-03 06:40:23 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 06:40:23 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 06:40:23 [ INFO ]                                                                            ^
2021-07-03 06:40:23 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 06:40:23 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-03 06:40:23 [ INFO ]          ^
2021-07-03 06:40:23 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-03 06:40:23 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 06:40:23 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 06:40:23 [ INFO ]                                                                            ^
2021-07-03 06:40:23 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 06:40:23 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-03 06:40:23 [ INFO ]          ^
2021-07-03 06:40:25 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-03 06:40:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-03 06:40:28 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:40:28 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-03 06:40:28 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-03 06:40:28 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-03 06:40:28 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:40:28 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-03 06:40:28 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 06:40:28 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 06:40:28 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:40:28 [ INFO ]      if (check_size > inference_size) {
2021-07-03 06:40:28 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-03 06:40:28 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 06:40:28 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 06:40:28 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 06:40:28 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-03 06:40:28 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 06:40:28 [ INFO ]                                                                            ^
2021-07-03 06:40:28 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 06:40:28 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 06:40:28 [ INFO ]          ^
2021-07-03 06:40:28 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-03 06:40:28 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 06:40:28 [ INFO ]                                                                            ^
2021-07-03 06:40:28 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 06:40:28 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 06:40:28 [ INFO ]          ^
2021-07-03 06:40:28 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 06:40:28 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 06:40:28 [ INFO ]                                                                            ^
2021-07-03 06:40:28 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-03 06:40:28 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-03 06:40:28 [ INFO ]      ^
2021-07-03 06:40:28 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 06:40:28 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:40:28 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-03 06:40:28 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 06:40:28 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 06:40:28 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 06:40:28 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 06:40:28 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 06:40:28 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 06:40:28 [ INFO ]                                                                            ^
2021-07-03 06:40:28 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-03 06:40:28 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-03 06:40:28 [ INFO ]   ^
2021-07-03 06:40:28 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 06:40:28 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-03 06:40:28 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 06:40:28 [ INFO ]                                                                            ^
2021-07-03 06:40:28 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 06:40:28 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-03 06:40:28 [ INFO ]          ^
2021-07-03 06:40:29 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-03 06:40:31 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-03 06:40:34 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 06:40:34 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:40:34 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 06:40:34 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 06:40:34 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:40:34 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 06:40:34 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 06:40:34 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 06:40:34 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:40:34 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 06:40:34 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 06:40:34 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 06:40:34 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 06:40:34 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 06:40:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-03 06:40:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-03 06:40:35 [ INFO ]  static int memcount = 0;
2021-07-03 06:40:35 [ INFO ]             ^~~~~~~~
2021-07-03 06:40:35 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-03 06:40:39 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-03 06:40:43 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-03 06:40:45 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-03 06:40:45 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-03 06:40:45 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-03 06:40:45 [ INFO ]               ^~~~~~~~~~~
2021-07-03 06:40:46 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-03 06:40:50 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-03 06:40:53 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-03 06:40:57 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-03 06:40:58 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-03 06:40:58 [ INFO ] [100%] Built target main
2021-07-03 07:27:46 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-03 07:27:47 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-03 07:27:47 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-03 07:27:47 [ INFO ] -- Configuring done
2021-07-03 07:27:47 [ INFO ] -- Generating done
2021-07-03 07:27:47 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-03 07:27:47 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-03 07:27:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-03 07:27:51 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-03 07:27:51 [ INFO ]  }
2021-07-03 07:27:51 [ INFO ]  ^
2021-07-03 07:27:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 07:27:51 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 07:27:51 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 07:27:51 [ INFO ]                                                         ^
2021-07-03 07:27:51 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 07:27:51 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 07:27:51 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-03 07:27:51 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-03 07:27:51 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 07:27:51 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 07:27:51 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 07:27:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-03 07:27:51 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-03 07:27:51 [ ERROR ]      uint8_t errorcode = 0;
2021-07-03 07:27:51 [ INFO ]              ^~~~~~~~~
2021-07-03 07:27:54 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-03 07:27:57 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-03 07:27:59 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-03 07:27:59 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-03 07:27:59 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-03 07:27:59 [ INFO ]               ^~~
2021-07-03 07:28:01 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-03 07:28:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 07:28:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-03 07:28:03 [ INFO ]          defult:
2021-07-03 07:28:03 [ INFO ]          ^~~~~~
2021-07-03 07:28:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 07:28:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 07:28:03 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 07:28:03 [ INFO ]                                                         ^
2021-07-03 07:28:03 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 07:28:03 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 07:28:03 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-03 07:28:03 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 07:28:03 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 07:28:03 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 07:28:05 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 07:28:05 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-03 07:28:05 [ INFO ]  }
2021-07-03 07:28:05 [ INFO ]  ^
2021-07-03 07:28:06 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-03 07:28:08 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-03 07:28:08 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 07:28:08 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-03 07:28:08 [ INFO ]               ^~~~~~
2021-07-03 07:28:08 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-03 07:28:08 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-03 07:28:08 [ INFO ]      void * buffer = nullptr;
2021-07-03 07:28:08 [ INFO ]             ^~~~~~
2021-07-03 07:28:08 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-03 07:28:08 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-03 07:28:08 [ INFO ]          ^~~~
2021-07-03 07:28:10 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-03 07:28:13 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-03 07:28:13 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 07:28:13 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-03 07:28:13 [ INFO ]                       ^~~~~~
2021-07-03 07:28:14 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-03 07:28:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-03 07:28:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:28:17 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-03 07:28:17 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 07:28:18 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-03 07:28:21 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 07:28:21 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-03 07:28:21 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-03 07:28:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-03 07:28:21 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 07:28:21 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 07:28:21 [ INFO ]                                                                            ^
2021-07-03 07:28:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 07:28:21 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-03 07:28:21 [ INFO ]          ^
2021-07-03 07:28:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-03 07:28:21 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 07:28:21 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 07:28:21 [ INFO ]                                                                            ^
2021-07-03 07:28:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 07:28:21 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-03 07:28:21 [ INFO ]          ^
2021-07-03 07:28:23 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-03 07:28:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-03 07:28:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:28:27 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-03 07:28:27 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-03 07:28:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-03 07:28:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:28:27 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-03 07:28:27 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 07:28:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 07:28:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:28:27 [ INFO ]      if (check_size > inference_size) {
2021-07-03 07:28:27 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-03 07:28:27 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 07:28:27 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 07:28:27 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 07:28:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-03 07:28:27 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 07:28:27 [ INFO ]                                                                            ^
2021-07-03 07:28:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 07:28:27 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 07:28:27 [ INFO ]          ^
2021-07-03 07:28:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-03 07:28:27 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 07:28:27 [ INFO ]                                                                            ^
2021-07-03 07:28:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 07:28:27 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 07:28:27 [ INFO ]          ^
2021-07-03 07:28:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 07:28:27 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 07:28:27 [ INFO ]                                                                            ^
2021-07-03 07:28:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-03 07:28:27 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-03 07:28:27 [ INFO ]      ^
2021-07-03 07:28:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 07:28:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:28:27 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-03 07:28:27 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 07:28:27 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 07:28:27 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 07:28:27 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 07:28:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 07:28:27 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 07:28:27 [ INFO ]                                                                            ^
2021-07-03 07:28:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-03 07:28:27 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-03 07:28:27 [ INFO ]   ^
2021-07-03 07:28:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 07:28:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-03 07:28:27 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 07:28:27 [ INFO ]                                                                            ^
2021-07-03 07:28:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 07:28:27 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-03 07:28:27 [ INFO ]          ^
2021-07-03 07:28:29 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-03 07:28:31 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-03 07:28:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 07:28:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:28:33 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 07:28:33 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 07:28:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:28:33 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 07:28:33 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 07:28:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 07:28:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:28:33 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 07:28:33 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 07:28:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:28:33 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 07:28:33 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 07:28:34 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-03 07:28:34 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-03 07:28:34 [ INFO ]  static int memcount = 0;
2021-07-03 07:28:34 [ INFO ]             ^~~~~~~~
2021-07-03 07:28:35 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-03 07:28:38 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-03 07:28:42 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-03 07:28:44 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-03 07:28:44 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-03 07:28:44 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-03 07:28:44 [ INFO ]               ^~~~~~~~~~~
2021-07-03 07:28:46 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-03 07:28:49 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-03 07:28:53 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-03 07:28:58 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-03 07:28:59 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-03 07:28:59 [ INFO ] [100%] Built target main
2021-07-03 07:32:50 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-03 07:32:50 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-03 07:32:50 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-03 07:32:50 [ INFO ] -- Configuring done
2021-07-03 07:32:50 [ INFO ] -- Generating done
2021-07-03 07:32:50 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-03 07:32:51 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-03 07:32:53 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-03 07:32:53 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-03 07:32:53 [ INFO ]  }
2021-07-03 07:32:53 [ INFO ]  ^
2021-07-03 07:32:53 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 07:32:53 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 07:32:53 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 07:32:53 [ INFO ]                                                         ^
2021-07-03 07:32:53 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 07:32:53 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 07:32:54 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-03 07:32:54 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-03 07:32:54 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 07:32:54 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 07:32:54 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 07:32:54 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-03 07:32:54 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-03 07:32:54 [ ERROR ]      uint8_t errorcode = 0;
2021-07-03 07:32:54 [ INFO ]              ^~~~~~~~~
2021-07-03 07:32:55 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-03 07:32:59 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-03 07:33:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-03 07:33:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-03 07:33:01 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-03 07:33:01 [ INFO ]               ^~~
2021-07-03 07:33:02 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-03 07:33:05 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 07:33:05 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-03 07:33:05 [ INFO ]          defult:
2021-07-03 07:33:05 [ INFO ]          ^~~~~~
2021-07-03 07:33:05 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 07:33:05 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 07:33:05 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 07:33:05 [ INFO ]                                                         ^
2021-07-03 07:33:05 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 07:33:05 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 07:33:05 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-03 07:33:05 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 07:33:05 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 07:33:05 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 07:33:06 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 07:33:06 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-03 07:33:06 [ INFO ]  }
2021-07-03 07:33:06 [ INFO ]  ^
2021-07-03 07:33:07 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-03 07:33:09 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-03 07:33:09 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 07:33:09 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-03 07:33:09 [ INFO ]               ^~~~~~
2021-07-03 07:33:09 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-03 07:33:09 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-03 07:33:09 [ INFO ]      void * buffer = nullptr;
2021-07-03 07:33:09 [ INFO ]             ^~~~~~
2021-07-03 07:33:09 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-03 07:33:09 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-03 07:33:09 [ INFO ]          ^~~~
2021-07-03 07:33:11 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-03 07:33:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-03 07:33:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 07:33:14 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-03 07:33:14 [ INFO ]                       ^~~~~~
2021-07-03 07:33:16 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-03 07:33:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-03 07:33:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:33:18 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-03 07:33:18 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 07:33:20 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-03 07:33:23 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 07:33:23 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-03 07:33:23 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-03 07:33:23 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-03 07:33:23 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 07:33:23 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 07:33:23 [ INFO ]                                                                            ^
2021-07-03 07:33:23 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 07:33:23 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-03 07:33:23 [ INFO ]          ^
2021-07-03 07:33:23 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-03 07:33:23 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 07:33:23 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 07:33:23 [ INFO ]                                                                            ^
2021-07-03 07:33:23 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 07:33:23 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-03 07:33:23 [ INFO ]          ^
2021-07-03 07:33:24 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-03 07:33:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-03 07:33:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:33:27 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-03 07:33:27 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-03 07:33:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-03 07:33:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:33:27 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-03 07:33:27 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 07:33:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 07:33:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:33:27 [ INFO ]      if (check_size > inference_size) {
2021-07-03 07:33:27 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-03 07:33:27 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 07:33:27 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 07:33:27 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 07:33:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-03 07:33:27 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 07:33:27 [ INFO ]                                                                            ^
2021-07-03 07:33:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 07:33:27 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 07:33:27 [ INFO ]          ^
2021-07-03 07:33:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-03 07:33:27 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 07:33:27 [ INFO ]                                                                            ^
2021-07-03 07:33:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 07:33:27 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 07:33:27 [ INFO ]          ^
2021-07-03 07:33:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 07:33:27 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 07:33:27 [ INFO ]                                                                            ^
2021-07-03 07:33:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-03 07:33:27 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-03 07:33:27 [ INFO ]      ^
2021-07-03 07:33:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 07:33:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:33:27 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-03 07:33:27 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 07:33:27 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 07:33:27 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 07:33:27 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 07:33:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 07:33:27 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 07:33:27 [ INFO ]                                                                            ^
2021-07-03 07:33:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-03 07:33:27 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-03 07:33:27 [ INFO ]   ^
2021-07-03 07:33:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 07:33:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-03 07:33:27 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 07:33:27 [ INFO ]                                                                            ^
2021-07-03 07:33:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 07:33:27 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-03 07:33:27 [ INFO ]          ^
2021-07-03 07:33:29 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-03 07:33:31 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-03 07:33:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 07:33:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:33:33 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 07:33:33 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 07:33:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:33:33 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 07:33:33 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 07:33:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 07:33:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:33:33 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 07:33:33 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 07:33:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:33:33 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 07:33:33 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 07:33:34 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-03 07:33:34 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-03 07:33:34 [ INFO ]  static int memcount = 0;
2021-07-03 07:33:34 [ INFO ]             ^~~~~~~~
2021-07-03 07:33:35 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-03 07:33:38 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-03 07:33:41 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-03 07:33:44 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-03 07:33:44 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-03 07:33:44 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-03 07:33:44 [ INFO ]               ^~~~~~~~~~~
2021-07-03 07:33:45 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-03 07:33:49 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-03 07:33:52 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-03 07:33:57 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-03 07:33:58 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-03 07:33:58 [ INFO ] [100%] Built target main
2021-07-03 07:56:25 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-03 07:56:25 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-03 07:56:25 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-03 07:56:25 [ INFO ] -- Configuring done
2021-07-03 07:56:25 [ INFO ] -- Generating done
2021-07-03 07:56:25 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-03 07:56:25 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-03 07:56:30 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-03 07:56:30 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-03 07:56:30 [ INFO ]  }
2021-07-03 07:56:30 [ INFO ]  ^
2021-07-03 07:56:30 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 07:56:30 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 07:56:30 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 07:56:30 [ INFO ]                                                         ^
2021-07-03 07:56:30 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 07:56:30 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 07:56:30 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-03 07:56:30 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-03 07:56:30 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 07:56:30 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 07:56:30 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 07:56:30 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-03 07:56:30 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-03 07:56:30 [ ERROR ]      uint8_t errorcode = 0;
2021-07-03 07:56:30 [ INFO ]              ^~~~~~~~~
2021-07-03 07:56:32 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-03 07:56:35 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-03 07:56:37 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-03 07:56:37 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-03 07:56:37 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-03 07:56:37 [ INFO ]               ^~~
2021-07-03 07:56:39 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-03 07:56:41 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 07:56:41 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-03 07:56:41 [ INFO ]          defult:
2021-07-03 07:56:41 [ INFO ]          ^~~~~~
2021-07-03 07:56:41 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 07:56:42 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 07:56:42 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 07:56:42 [ INFO ]                                                         ^
2021-07-03 07:56:42 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 07:56:42 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 07:56:42 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-03 07:56:42 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 07:56:42 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 07:56:42 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 07:56:42 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 07:56:42 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-03 07:56:42 [ INFO ]  }
2021-07-03 07:56:42 [ INFO ]  ^
2021-07-03 07:56:43 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-03 07:56:46 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-03 07:56:46 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 07:56:46 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-03 07:56:46 [ INFO ]               ^~~~~~
2021-07-03 07:56:46 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-03 07:56:46 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-03 07:56:46 [ INFO ]      void * buffer = nullptr;
2021-07-03 07:56:46 [ INFO ]             ^~~~~~
2021-07-03 07:56:46 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-03 07:56:46 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-03 07:56:46 [ INFO ]          ^~~~
2021-07-03 07:56:47 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-03 07:56:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-03 07:56:51 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 07:56:51 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-03 07:56:51 [ INFO ]                       ^~~~~~
2021-07-03 07:56:52 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-03 07:56:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-03 07:56:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:56:55 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-03 07:56:55 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 07:56:56 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-03 07:56:59 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 07:56:59 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-03 07:56:59 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-03 07:56:59 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-03 07:56:59 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 07:56:59 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 07:56:59 [ INFO ]                                                                            ^
2021-07-03 07:56:59 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 07:56:59 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-03 07:56:59 [ INFO ]          ^
2021-07-03 07:56:59 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-03 07:56:59 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 07:56:59 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 07:56:59 [ INFO ]                                                                            ^
2021-07-03 07:56:59 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 07:56:59 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-03 07:56:59 [ INFO ]          ^
2021-07-03 07:57:00 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-03 07:57:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-03 07:57:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:57:03 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-03 07:57:03 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-03 07:57:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-03 07:57:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:57:03 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-03 07:57:03 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 07:57:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 07:57:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:57:03 [ INFO ]      if (check_size > inference_size) {
2021-07-03 07:57:03 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-03 07:57:03 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 07:57:03 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 07:57:03 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 07:57:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-03 07:57:03 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 07:57:03 [ INFO ]                                                                            ^
2021-07-03 07:57:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 07:57:03 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 07:57:03 [ INFO ]          ^
2021-07-03 07:57:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-03 07:57:03 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 07:57:03 [ INFO ]                                                                            ^
2021-07-03 07:57:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 07:57:03 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 07:57:03 [ INFO ]          ^
2021-07-03 07:57:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 07:57:03 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 07:57:03 [ INFO ]                                                                            ^
2021-07-03 07:57:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-03 07:57:03 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-03 07:57:03 [ INFO ]      ^
2021-07-03 07:57:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 07:57:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:57:03 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-03 07:57:03 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 07:57:03 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 07:57:03 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 07:57:03 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 07:57:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 07:57:03 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 07:57:03 [ INFO ]                                                                            ^
2021-07-03 07:57:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-03 07:57:03 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-03 07:57:03 [ INFO ]   ^
2021-07-03 07:57:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 07:57:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-03 07:57:03 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 07:57:03 [ INFO ]                                                                            ^
2021-07-03 07:57:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 07:57:03 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-03 07:57:03 [ INFO ]          ^
2021-07-03 07:57:05 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-03 07:57:07 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-03 07:57:10 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 07:57:10 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:57:10 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 07:57:10 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 07:57:10 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:57:10 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 07:57:10 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 07:57:10 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 07:57:10 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:57:10 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 07:57:10 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 07:57:10 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 07:57:10 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 07:57:10 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 07:57:11 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-03 07:57:11 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-03 07:57:11 [ INFO ]  static int memcount = 0;
2021-07-03 07:57:11 [ INFO ]             ^~~~~~~~
2021-07-03 07:57:11 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-03 07:57:15 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-03 07:57:18 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-03 07:57:20 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-03 07:57:20 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-03 07:57:20 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-03 07:57:20 [ INFO ]               ^~~~~~~~~~~
2021-07-03 07:57:22 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-03 07:57:25 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-03 07:57:28 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-03 07:57:33 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-03 07:57:33 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-03 07:57:33 [ INFO ] [100%] Built target main
2021-07-03 08:00:35 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-03 08:00:35 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-03 08:00:35 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-03 08:00:35 [ INFO ] -- Configuring done
2021-07-03 08:00:35 [ INFO ] -- Generating done
2021-07-03 08:00:35 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-03 08:00:35 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-03 08:00:38 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-03 08:00:38 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-03 08:00:38 [ INFO ]  }
2021-07-03 08:00:38 [ INFO ]  ^
2021-07-03 08:00:38 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 08:00:38 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 08:00:38 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 08:00:38 [ INFO ]                                                         ^
2021-07-03 08:00:38 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 08:00:38 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 08:00:38 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-03 08:00:38 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-03 08:00:38 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 08:00:38 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 08:00:38 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 08:00:38 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-03 08:00:38 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-03 08:00:38 [ ERROR ]      uint8_t errorcode = 0;
2021-07-03 08:00:38 [ INFO ]              ^~~~~~~~~
2021-07-03 08:00:39 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-03 08:00:43 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-03 08:00:45 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-03 08:00:45 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-03 08:00:45 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-03 08:00:45 [ INFO ]               ^~~
2021-07-03 08:00:47 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-03 08:00:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 08:00:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-03 08:00:50 [ INFO ]          defult:
2021-07-03 08:00:50 [ INFO ]          ^~~~~~
2021-07-03 08:00:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 08:00:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 08:00:50 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 08:00:50 [ INFO ]                                                         ^
2021-07-03 08:00:50 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 08:00:50 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 08:00:50 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-03 08:00:50 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 08:00:50 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 08:00:50 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 08:00:52 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 08:00:52 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-03 08:00:52 [ INFO ]  }
2021-07-03 08:00:52 [ INFO ]  ^
2021-07-03 08:00:53 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-03 08:00:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-03 08:00:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 08:00:56 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-03 08:00:56 [ INFO ]               ^~~~~~
2021-07-03 08:00:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-03 08:00:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-03 08:00:57 [ INFO ]      void * buffer = nullptr;
2021-07-03 08:00:57 [ INFO ]             ^~~~~~
2021-07-03 08:00:57 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-03 08:00:57 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-03 08:00:57 [ INFO ]          ^~~~
2021-07-03 08:00:59 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-03 08:01:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-03 08:01:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 08:01:02 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-03 08:01:02 [ INFO ]                       ^~~~~~
2021-07-03 08:01:04 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-03 08:01:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-03 08:01:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:01:07 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-03 08:01:07 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:01:11 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-03 08:01:14 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 08:01:14 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-03 08:01:14 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-03 08:01:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-03 08:01:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 08:01:14 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:01:14 [ INFO ]                                                                            ^
2021-07-03 08:01:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:01:14 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-03 08:01:14 [ INFO ]          ^
2021-07-03 08:01:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-03 08:01:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 08:01:14 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:01:14 [ INFO ]                                                                            ^
2021-07-03 08:01:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:01:14 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-03 08:01:14 [ INFO ]          ^
2021-07-03 08:01:17 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-03 08:01:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-03 08:01:21 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:01:21 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-03 08:01:21 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-03 08:01:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-03 08:01:21 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:01:21 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-03 08:01:21 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:01:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 08:01:21 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:01:21 [ INFO ]      if (check_size > inference_size) {
2021-07-03 08:01:21 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-03 08:01:21 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 08:01:21 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 08:01:21 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 08:01:21 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-03 08:01:21 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:01:21 [ INFO ]                                                                            ^
2021-07-03 08:01:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:01:21 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 08:01:21 [ INFO ]          ^
2021-07-03 08:01:21 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-03 08:01:21 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:01:21 [ INFO ]                                                                            ^
2021-07-03 08:01:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:01:21 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 08:01:21 [ INFO ]          ^
2021-07-03 08:01:21 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 08:01:21 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:01:21 [ INFO ]                                                                            ^
2021-07-03 08:01:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:01:21 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-03 08:01:21 [ INFO ]      ^
2021-07-03 08:01:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 08:01:21 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:01:21 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-03 08:01:21 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:01:21 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 08:01:21 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 08:01:21 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 08:01:21 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 08:01:21 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:01:21 [ INFO ]                                                                            ^
2021-07-03 08:01:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:01:21 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-03 08:01:21 [ INFO ]   ^
2021-07-03 08:01:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 08:01:21 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-03 08:01:21 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:01:21 [ INFO ]                                                                            ^
2021-07-03 08:01:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:01:21 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-03 08:01:21 [ INFO ]          ^
2021-07-03 08:01:23 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-03 08:01:26 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-03 08:01:30 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 08:01:30 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:01:30 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 08:01:30 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 08:01:30 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:01:30 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 08:01:30 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:01:30 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 08:01:30 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:01:30 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 08:01:30 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 08:01:30 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:01:30 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 08:01:30 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:01:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-03 08:01:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-03 08:01:31 [ INFO ]  static int memcount = 0;
2021-07-03 08:01:31 [ INFO ]             ^~~~~~~~
2021-07-03 08:01:32 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-03 08:01:35 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-03 08:01:40 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-03 08:01:42 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-03 08:01:42 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-03 08:01:42 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-03 08:01:42 [ INFO ]               ^~~~~~~~~~~
2021-07-03 08:01:44 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-03 08:01:51 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-03 08:02:01 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-03 08:02:07 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-03 08:02:07 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-03 08:02:07 [ INFO ] [100%] Built target main
2021-07-03 08:02:23 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-03 08:02:23 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-03 08:02:23 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-03 08:02:24 [ INFO ] -- Configuring done
2021-07-03 08:02:24 [ INFO ] -- Generating done
2021-07-03 08:02:24 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-03 08:02:24 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-03 08:02:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-03 08:02:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-03 08:02:27 [ INFO ]  }
2021-07-03 08:02:27 [ INFO ]  ^
2021-07-03 08:02:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 08:02:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 08:02:27 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 08:02:27 [ INFO ]                                                         ^
2021-07-03 08:02:27 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 08:02:27 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 08:02:27 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-03 08:02:27 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-03 08:02:27 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 08:02:27 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 08:02:27 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 08:02:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-03 08:02:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-03 08:02:27 [ ERROR ]      uint8_t errorcode = 0;
2021-07-03 08:02:27 [ INFO ]              ^~~~~~~~~
2021-07-03 08:02:28 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-03 08:02:32 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-03 08:02:34 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-03 08:02:34 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-03 08:02:34 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-03 08:02:34 [ INFO ]               ^~~
2021-07-03 08:02:35 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-03 08:02:38 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 08:02:38 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-03 08:02:38 [ INFO ]          defult:
2021-07-03 08:02:38 [ INFO ]          ^~~~~~
2021-07-03 08:02:38 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 08:02:38 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 08:02:38 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 08:02:38 [ INFO ]                                                         ^
2021-07-03 08:02:38 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 08:02:38 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 08:02:38 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-03 08:02:38 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 08:02:38 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 08:02:38 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 08:02:40 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 08:02:40 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-03 08:02:40 [ INFO ]  }
2021-07-03 08:02:40 [ INFO ]  ^
2021-07-03 08:02:40 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-03 08:02:43 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-03 08:02:43 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 08:02:43 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-03 08:02:43 [ INFO ]               ^~~~~~
2021-07-03 08:02:43 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-03 08:02:43 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-03 08:02:43 [ INFO ]      void * buffer = nullptr;
2021-07-03 08:02:43 [ INFO ]             ^~~~~~
2021-07-03 08:02:43 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-03 08:02:43 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-03 08:02:43 [ INFO ]          ^~~~
2021-07-03 08:02:45 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-03 08:02:48 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-03 08:02:48 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 08:02:48 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-03 08:02:48 [ INFO ]                       ^~~~~~
2021-07-03 08:02:50 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-03 08:02:53 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-03 08:02:53 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:02:53 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-03 08:02:53 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:02:55 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-03 08:02:59 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 08:02:59 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-03 08:02:59 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-03 08:02:59 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-03 08:02:59 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 08:02:59 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:02:59 [ INFO ]                                                                            ^
2021-07-03 08:02:59 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:02:59 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-03 08:02:59 [ INFO ]          ^
2021-07-03 08:02:59 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-03 08:02:59 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 08:02:59 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:02:59 [ INFO ]                                                                            ^
2021-07-03 08:02:59 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:02:59 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-03 08:02:59 [ INFO ]          ^
2021-07-03 08:03:00 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-03 08:03:04 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-03 08:03:04 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:03:04 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-03 08:03:04 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-03 08:03:04 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-03 08:03:04 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:03:04 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-03 08:03:04 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:03:04 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 08:03:04 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:03:04 [ INFO ]      if (check_size > inference_size) {
2021-07-03 08:03:04 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-03 08:03:04 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 08:03:04 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 08:03:04 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 08:03:04 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-03 08:03:04 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:03:04 [ INFO ]                                                                            ^
2021-07-03 08:03:04 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:03:04 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 08:03:04 [ INFO ]          ^
2021-07-03 08:03:04 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-03 08:03:04 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:03:04 [ INFO ]                                                                            ^
2021-07-03 08:03:04 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:03:04 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 08:03:04 [ INFO ]          ^
2021-07-03 08:03:04 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 08:03:04 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:03:04 [ INFO ]                                                                            ^
2021-07-03 08:03:04 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:03:04 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-03 08:03:04 [ INFO ]      ^
2021-07-03 08:03:04 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 08:03:04 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:03:04 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-03 08:03:04 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:03:04 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 08:03:04 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 08:03:04 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 08:03:04 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 08:03:04 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:03:04 [ INFO ]                                                                            ^
2021-07-03 08:03:04 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:03:04 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-03 08:03:04 [ INFO ]   ^
2021-07-03 08:03:04 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 08:03:04 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-03 08:03:04 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:03:04 [ INFO ]                                                                            ^
2021-07-03 08:03:04 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:03:04 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-03 08:03:04 [ INFO ]          ^
2021-07-03 08:03:06 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-03 08:03:08 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-03 08:03:11 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 08:03:11 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:03:11 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 08:03:11 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 08:03:11 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:03:11 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 08:03:11 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:03:11 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 08:03:11 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:03:11 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 08:03:11 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 08:03:11 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:03:11 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 08:03:11 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:03:12 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-03 08:03:12 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-03 08:03:12 [ INFO ]  static int memcount = 0;
2021-07-03 08:03:12 [ INFO ]             ^~~~~~~~
2021-07-03 08:03:12 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-03 08:03:16 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-03 08:03:20 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-03 08:03:22 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-03 08:03:22 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-03 08:03:22 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-03 08:03:22 [ INFO ]               ^~~~~~~~~~~
2021-07-03 08:03:24 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-03 08:03:27 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-03 08:03:31 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-03 08:03:35 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-03 08:03:35 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-03 08:03:35 [ INFO ] [100%] Built target main
2021-07-03 08:08:58 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-03 08:08:59 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-03 08:08:59 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-03 08:08:59 [ INFO ] -- Configuring done
2021-07-03 08:08:59 [ INFO ] -- Generating done
2021-07-03 08:08:59 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-03 08:08:59 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-03 08:09:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-03 08:09:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-03 08:09:02 [ INFO ]  }
2021-07-03 08:09:02 [ INFO ]  ^
2021-07-03 08:09:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 08:09:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 08:09:02 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 08:09:02 [ INFO ]                                                         ^
2021-07-03 08:09:02 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 08:09:02 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 08:09:02 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-03 08:09:02 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-03 08:09:02 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 08:09:02 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 08:09:02 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 08:09:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-03 08:09:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-03 08:09:02 [ ERROR ]      uint8_t errorcode = 0;
2021-07-03 08:09:02 [ INFO ]              ^~~~~~~~~
2021-07-03 08:09:03 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-03 08:09:07 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-03 08:09:09 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-03 08:09:09 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-03 08:09:09 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-03 08:09:09 [ INFO ]               ^~~
2021-07-03 08:09:11 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-03 08:09:15 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 08:09:15 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-03 08:09:15 [ INFO ]          defult:
2021-07-03 08:09:15 [ INFO ]          ^~~~~~
2021-07-03 08:09:15 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 08:09:15 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 08:09:15 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 08:09:15 [ INFO ]                                                         ^
2021-07-03 08:09:15 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 08:09:15 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 08:09:15 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-03 08:09:15 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 08:09:15 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 08:09:15 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 08:09:16 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 08:09:16 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-03 08:09:16 [ INFO ]  }
2021-07-03 08:09:16 [ INFO ]  ^
2021-07-03 08:09:16 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-03 08:09:20 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-03 08:09:20 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 08:09:20 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-03 08:09:20 [ INFO ]               ^~~~~~
2021-07-03 08:09:20 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-03 08:09:20 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-03 08:09:20 [ INFO ]      void * buffer = nullptr;
2021-07-03 08:09:20 [ INFO ]             ^~~~~~
2021-07-03 08:09:20 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-03 08:09:20 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-03 08:09:20 [ INFO ]          ^~~~
2021-07-03 08:09:24 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-03 08:09:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-03 08:09:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 08:09:29 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-03 08:09:29 [ INFO ]                       ^~~~~~
2021-07-03 08:09:31 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-03 08:09:35 [ INFO ] Action failed with exit code 137
2021-07-03 08:11:32 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && rm -rf /home/zack/AscendProjects/face_recognition_camera/build/intermediates && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build .
2021-07-03 08:11:33 [ INFO ] -- The C compiler identification is GNU 7.5.0
2021-07-03 08:11:33 [ INFO ] -- The CXX compiler identification is GNU 7.5.0
2021-07-03 08:11:33 [ INFO ] -- Check for working C compiler: /usr/bin/cc
2021-07-03 08:11:33 [ INFO ] -- Check for working C compiler: /usr/bin/cc -- works
2021-07-03 08:11:33 [ INFO ] -- Detecting C compiler ABI info
2021-07-03 08:11:33 [ INFO ] -- Detecting C compiler ABI info - done
2021-07-03 08:11:33 [ INFO ] -- Detecting C compile features
2021-07-03 08:11:34 [ INFO ] -- Detecting C compile features - done
2021-07-03 08:11:34 [ INFO ] -- Check for working CXX compiler: /usr/bin/aarch64-linux-gnu-g++
2021-07-03 08:11:34 [ INFO ] -- Check for working CXX compiler: /usr/bin/aarch64-linux-gnu-g++ -- works
2021-07-03 08:11:34 [ INFO ] -- Detecting CXX compiler ABI info
2021-07-03 08:11:34 [ INFO ] -- Detecting CXX compiler ABI info - done
2021-07-03 08:11:34 [ INFO ] -- Detecting CXX compile features
2021-07-03 08:11:35 [ INFO ] -- Detecting CXX compile features - done
2021-07-03 08:11:35 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-03 08:11:35 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-03 08:11:35 [ INFO ] -- Configuring done
2021-07-03 08:11:35 [ INFO ] -- Generating done
2021-07-03 08:11:35 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-03 08:11:35 [ INFO ] Scanning dependencies of target main
2021-07-03 08:11:35 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-03 08:11:38 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-03 08:11:38 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-03 08:11:38 [ INFO ]  }
2021-07-03 08:11:38 [ INFO ]  ^
2021-07-03 08:11:38 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 08:11:38 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 08:11:38 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 08:11:38 [ INFO ]                                                         ^
2021-07-03 08:11:38 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 08:11:38 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 08:11:38 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-03 08:11:38 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-03 08:11:38 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 08:11:38 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 08:11:38 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 08:11:38 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-03 08:11:38 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-03 08:11:38 [ ERROR ]      uint8_t errorcode = 0;
2021-07-03 08:11:38 [ INFO ]              ^~~~~~~~~
2021-07-03 08:11:40 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-03 08:11:43 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-03 08:11:45 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-03 08:11:45 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-03 08:11:45 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-03 08:11:45 [ INFO ]               ^~~
2021-07-03 08:11:46 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-03 08:11:49 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 08:11:49 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-03 08:11:49 [ INFO ]          defult:
2021-07-03 08:11:49 [ INFO ]          ^~~~~~
2021-07-03 08:11:49 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 08:11:49 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 08:11:49 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 08:11:49 [ INFO ]                                                         ^
2021-07-03 08:11:49 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 08:11:49 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 08:11:49 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-03 08:11:49 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 08:11:49 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 08:11:49 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 08:11:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 08:11:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-03 08:11:50 [ INFO ]  }
2021-07-03 08:11:50 [ INFO ]  ^
2021-07-03 08:11:50 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-03 08:11:54 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-03 08:11:54 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 08:11:54 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-03 08:11:54 [ INFO ]               ^~~~~~
2021-07-03 08:11:54 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-03 08:11:54 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-03 08:11:54 [ INFO ]      void * buffer = nullptr;
2021-07-03 08:11:54 [ INFO ]             ^~~~~~
2021-07-03 08:11:54 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-03 08:11:54 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-03 08:11:54 [ INFO ]          ^~~~
2021-07-03 08:11:55 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-03 08:11:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-03 08:11:58 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 08:11:58 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-03 08:11:58 [ INFO ]                       ^~~~~~
2021-07-03 08:12:00 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-03 08:12:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-03 08:12:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:12:02 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-03 08:12:02 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:12:04 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-03 08:12:07 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 08:12:07 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-03 08:12:07 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-03 08:12:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-03 08:12:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 08:12:07 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:12:07 [ INFO ]                                                                            ^
2021-07-03 08:12:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:12:07 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-03 08:12:07 [ INFO ]          ^
2021-07-03 08:12:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-03 08:12:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 08:12:07 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:12:07 [ INFO ]                                                                            ^
2021-07-03 08:12:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:12:07 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-03 08:12:07 [ INFO ]          ^
2021-07-03 08:12:08 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-03 08:12:11 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-03 08:12:11 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:12:11 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-03 08:12:11 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-03 08:12:11 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-03 08:12:11 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:12:11 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-03 08:12:11 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:12:11 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 08:12:11 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:12:11 [ INFO ]      if (check_size > inference_size) {
2021-07-03 08:12:11 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-03 08:12:11 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 08:12:11 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 08:12:11 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 08:12:11 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-03 08:12:11 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:12:11 [ INFO ]                                                                            ^
2021-07-03 08:12:11 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:12:11 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 08:12:11 [ INFO ]          ^
2021-07-03 08:12:11 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-03 08:12:11 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:12:11 [ INFO ]                                                                            ^
2021-07-03 08:12:11 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:12:11 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 08:12:11 [ INFO ]          ^
2021-07-03 08:12:11 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 08:12:11 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:12:11 [ INFO ]                                                                            ^
2021-07-03 08:12:11 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:12:11 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-03 08:12:11 [ INFO ]      ^
2021-07-03 08:12:11 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 08:12:11 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:12:11 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-03 08:12:11 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:12:11 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 08:12:11 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 08:12:11 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 08:12:11 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 08:12:11 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:12:11 [ INFO ]                                                                            ^
2021-07-03 08:12:11 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:12:11 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-03 08:12:11 [ INFO ]   ^
2021-07-03 08:12:11 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 08:12:11 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-03 08:12:11 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:12:11 [ INFO ]                                                                            ^
2021-07-03 08:12:11 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:12:11 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-03 08:12:11 [ INFO ]          ^
2021-07-03 08:12:12 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-03 08:12:14 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-03 08:12:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 08:12:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:12:17 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 08:12:17 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 08:12:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:12:17 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 08:12:17 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:12:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 08:12:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:12:17 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 08:12:17 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 08:12:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:12:17 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 08:12:17 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:12:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-03 08:12:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-03 08:12:18 [ INFO ]  static int memcount = 0;
2021-07-03 08:12:18 [ INFO ]             ^~~~~~~~
2021-07-03 08:12:18 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-03 08:12:22 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-03 08:12:25 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-03 08:12:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-03 08:12:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-03 08:12:27 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-03 08:12:27 [ INFO ]               ^~~~~~~~~~~
2021-07-03 08:12:28 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-03 08:12:32 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-03 08:12:35 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-03 08:12:39 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-03 08:12:40 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-03 08:12:40 [ INFO ] [100%] Built target main
2021-07-03 08:14:05 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && rm -rf /home/zack/AscendProjects/face_recognition_camera/build/intermediates && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-03 08:14:05 [ INFO ] -- The C compiler identification is GNU 7.5.0
2021-07-03 08:14:05 [ INFO ] -- The CXX compiler identification is GNU 7.5.0
2021-07-03 08:14:05 [ INFO ] -- Check for working C compiler: /usr/bin/cc
2021-07-03 08:14:05 [ INFO ] -- Check for working C compiler: /usr/bin/cc -- works
2021-07-03 08:14:05 [ INFO ] -- Detecting C compiler ABI info
2021-07-03 08:14:05 [ INFO ] -- Detecting C compiler ABI info - done
2021-07-03 08:14:05 [ INFO ] -- Detecting C compile features
2021-07-03 08:14:06 [ INFO ] -- Detecting C compile features - done
2021-07-03 08:14:06 [ INFO ] -- Check for working CXX compiler: /usr/bin/aarch64-linux-gnu-g++
2021-07-03 08:14:06 [ INFO ] -- Check for working CXX compiler: /usr/bin/aarch64-linux-gnu-g++ -- works
2021-07-03 08:14:06 [ INFO ] -- Detecting CXX compiler ABI info
2021-07-03 08:14:06 [ INFO ] -- Detecting CXX compiler ABI info - done
2021-07-03 08:14:06 [ INFO ] -- Detecting CXX compile features
2021-07-03 08:14:07 [ INFO ] -- Detecting CXX compile features - done
2021-07-03 08:14:07 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-03 08:14:07 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-03 08:14:07 [ INFO ] -- Configuring done
2021-07-03 08:14:07 [ INFO ] -- Generating done
2021-07-03 08:14:07 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-03 08:14:07 [ INFO ] Scanning dependencies of target main
2021-07-03 08:14:07 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-03 08:14:09 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-03 08:14:09 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-03 08:14:09 [ INFO ]  }
2021-07-03 08:14:09 [ INFO ]  ^
2021-07-03 08:14:09 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 08:14:09 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 08:14:09 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 08:14:09 [ INFO ]                                                         ^
2021-07-03 08:14:09 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 08:14:09 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 08:14:09 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-03 08:14:09 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-03 08:14:09 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 08:14:09 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 08:14:09 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 08:14:09 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-03 08:14:09 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-03 08:14:09 [ ERROR ]      uint8_t errorcode = 0;
2021-07-03 08:14:09 [ INFO ]              ^~~~~~~~~
2021-07-03 08:14:11 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-03 08:14:14 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-03 08:14:16 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-03 08:14:16 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-03 08:14:16 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-03 08:14:16 [ INFO ]               ^~~
2021-07-03 08:14:17 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-03 08:14:20 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 08:14:20 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-03 08:14:20 [ INFO ]          defult:
2021-07-03 08:14:20 [ INFO ]          ^~~~~~
2021-07-03 08:14:20 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 08:14:20 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 08:14:20 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 08:14:20 [ INFO ]                                                         ^
2021-07-03 08:14:20 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 08:14:20 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 08:14:20 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-03 08:14:20 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 08:14:20 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 08:14:20 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 08:14:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 08:14:21 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-03 08:14:21 [ INFO ]  }
2021-07-03 08:14:21 [ INFO ]  ^
2021-07-03 08:14:22 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-03 08:14:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-03 08:14:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 08:14:27 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-03 08:14:27 [ INFO ]               ^~~~~~
2021-07-03 08:14:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-03 08:14:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-03 08:14:27 [ INFO ]      void * buffer = nullptr;
2021-07-03 08:14:27 [ INFO ]             ^~~~~~
2021-07-03 08:14:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-03 08:14:27 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-03 08:14:27 [ INFO ]          ^~~~
2021-07-03 08:14:31 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-03 08:14:36 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-03 08:14:36 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 08:14:36 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-03 08:14:36 [ INFO ]                       ^~~~~~
2021-07-03 08:14:38 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-03 08:14:41 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-03 08:14:41 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:14:41 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-03 08:14:41 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:14:42 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-03 08:14:45 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 08:14:45 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-03 08:14:45 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-03 08:14:45 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-03 08:14:45 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 08:14:45 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:14:45 [ INFO ]                                                                            ^
2021-07-03 08:14:45 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:14:45 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-03 08:14:45 [ INFO ]          ^
2021-07-03 08:14:45 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-03 08:14:45 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 08:14:45 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:14:45 [ INFO ]                                                                            ^
2021-07-03 08:14:45 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:14:45 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-03 08:14:45 [ INFO ]          ^
2021-07-03 08:14:47 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-03 08:14:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-03 08:14:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:14:50 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-03 08:14:50 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-03 08:14:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-03 08:14:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:14:50 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-03 08:14:50 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:14:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 08:14:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:14:50 [ INFO ]      if (check_size > inference_size) {
2021-07-03 08:14:50 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-03 08:14:50 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 08:14:50 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 08:14:50 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 08:14:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-03 08:14:50 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:14:50 [ INFO ]                                                                            ^
2021-07-03 08:14:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:14:50 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 08:14:50 [ INFO ]          ^
2021-07-03 08:14:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-03 08:14:50 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:14:50 [ INFO ]                                                                            ^
2021-07-03 08:14:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:14:50 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 08:14:50 [ INFO ]          ^
2021-07-03 08:14:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 08:14:50 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:14:50 [ INFO ]                                                                            ^
2021-07-03 08:14:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:14:50 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-03 08:14:50 [ INFO ]      ^
2021-07-03 08:14:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 08:14:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:14:50 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-03 08:14:50 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:14:50 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 08:14:50 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 08:14:50 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 08:14:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 08:14:50 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:14:50 [ INFO ]                                                                            ^
2021-07-03 08:14:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:14:50 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-03 08:14:50 [ INFO ]   ^
2021-07-03 08:14:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 08:14:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-03 08:14:50 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:14:50 [ INFO ]                                                                            ^
2021-07-03 08:14:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:14:50 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-03 08:14:50 [ INFO ]          ^
2021-07-03 08:14:52 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-03 08:14:53 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-03 08:14:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 08:14:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:14:56 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 08:14:56 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 08:14:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:14:56 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 08:14:56 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:14:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 08:14:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:14:56 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 08:14:56 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 08:14:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:14:56 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 08:14:56 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:14:57 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-03 08:14:57 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-03 08:14:57 [ INFO ]  static int memcount = 0;
2021-07-03 08:14:57 [ INFO ]             ^~~~~~~~
2021-07-03 08:14:58 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-03 08:15:02 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-03 08:15:06 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-03 08:15:08 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-03 08:15:08 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-03 08:15:08 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-03 08:15:08 [ INFO ]               ^~~~~~~~~~~
2021-07-03 08:15:09 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-03 08:15:13 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-03 08:15:16 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-03 08:15:20 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-03 08:15:20 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-03 08:15:20 [ INFO ] [100%] Built target main
2021-07-03 08:16:45 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-03 08:16:45 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-03 08:16:45 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-03 08:16:45 [ INFO ] -- Configuring done
2021-07-03 08:16:45 [ INFO ] -- Generating done
2021-07-03 08:16:45 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-03 08:16:45 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-03 08:16:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-03 08:16:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-03 08:16:50 [ INFO ]  }
2021-07-03 08:16:50 [ INFO ]  ^
2021-07-03 08:16:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 08:16:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 08:16:50 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 08:16:50 [ INFO ]                                                         ^
2021-07-03 08:16:50 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 08:16:50 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 08:16:50 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-03 08:16:50 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-03 08:16:50 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 08:16:50 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 08:16:50 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 08:16:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-03 08:16:51 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-03 08:16:51 [ ERROR ]      uint8_t errorcode = 0;
2021-07-03 08:16:51 [ INFO ]              ^~~~~~~~~
2021-07-03 08:16:52 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-03 08:16:56 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-03 08:16:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-03 08:16:58 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-03 08:16:58 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-03 08:16:58 [ INFO ]               ^~~
2021-07-03 08:17:00 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-03 08:17:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 08:17:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-03 08:17:02 [ INFO ]          defult:
2021-07-03 08:17:02 [ INFO ]          ^~~~~~
2021-07-03 08:17:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 08:17:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 08:17:02 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 08:17:02 [ INFO ]                                                         ^
2021-07-03 08:17:02 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 08:17:02 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 08:17:02 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-03 08:17:02 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 08:17:02 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 08:17:02 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 08:17:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 08:17:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-03 08:17:03 [ INFO ]  }
2021-07-03 08:17:03 [ INFO ]  ^
2021-07-03 08:17:04 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-03 08:17:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-03 08:17:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 08:17:07 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-03 08:17:07 [ INFO ]               ^~~~~~
2021-07-03 08:17:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-03 08:17:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-03 08:17:07 [ INFO ]      void * buffer = nullptr;
2021-07-03 08:17:07 [ INFO ]             ^~~~~~
2021-07-03 08:17:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-03 08:17:07 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-03 08:17:07 [ INFO ]          ^~~~
2021-07-03 08:17:09 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-03 08:17:12 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-03 08:17:12 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 08:17:12 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-03 08:17:12 [ INFO ]                       ^~~~~~
2021-07-03 08:17:14 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-03 08:17:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-03 08:17:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:17:17 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-03 08:17:17 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:17:19 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-03 08:17:25 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 08:17:25 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-03 08:17:25 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-03 08:17:25 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-03 08:17:25 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 08:17:25 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:17:25 [ INFO ]                                                                            ^
2021-07-03 08:17:25 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:17:25 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-03 08:17:25 [ INFO ]          ^
2021-07-03 08:17:25 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-03 08:17:25 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 08:17:25 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:17:25 [ INFO ]                                                                            ^
2021-07-03 08:17:25 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:17:25 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-03 08:17:25 [ INFO ]          ^
2021-07-03 08:17:28 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-03 08:17:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-03 08:17:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:17:33 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-03 08:17:33 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-03 08:17:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-03 08:17:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:17:33 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-03 08:17:33 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:17:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 08:17:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:17:33 [ INFO ]      if (check_size > inference_size) {
2021-07-03 08:17:33 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-03 08:17:33 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 08:17:33 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 08:17:33 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 08:17:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-03 08:17:33 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:17:33 [ INFO ]                                                                            ^
2021-07-03 08:17:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:17:33 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 08:17:33 [ INFO ]          ^
2021-07-03 08:17:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-03 08:17:33 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:17:33 [ INFO ]                                                                            ^
2021-07-03 08:17:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:17:33 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 08:17:33 [ INFO ]          ^
2021-07-03 08:17:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 08:17:33 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:17:33 [ INFO ]                                                                            ^
2021-07-03 08:17:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:17:33 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-03 08:17:33 [ INFO ]      ^
2021-07-03 08:17:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 08:17:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:17:33 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-03 08:17:33 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:17:33 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 08:17:33 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 08:17:33 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 08:17:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 08:17:33 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:17:33 [ INFO ]                                                                            ^
2021-07-03 08:17:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:17:33 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-03 08:17:33 [ INFO ]   ^
2021-07-03 08:17:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 08:17:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-03 08:17:33 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:17:33 [ INFO ]                                                                            ^
2021-07-03 08:17:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:17:33 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-03 08:17:33 [ INFO ]          ^
2021-07-03 08:17:35 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-03 08:17:38 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-03 08:17:43 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 08:17:43 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:17:43 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 08:17:43 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 08:17:43 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:17:43 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 08:17:43 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:17:43 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 08:17:43 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:17:43 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 08:17:43 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 08:17:43 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:17:43 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 08:17:43 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:17:47 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-03 08:17:47 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-03 08:17:47 [ INFO ]  static int memcount = 0;
2021-07-03 08:17:47 [ INFO ]             ^~~~~~~~
2021-07-03 08:17:49 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-03 08:18:01 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-03 08:18:08 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-03 08:18:11 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-03 08:18:11 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-03 08:18:11 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-03 08:18:11 [ INFO ]               ^~~~~~~~~~~
2021-07-03 08:18:14 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-03 08:18:21 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-03 08:18:31 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-03 08:18:36 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-03 08:18:37 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-03 08:18:37 [ INFO ] [100%] Built target main
2021-07-03 08:35:48 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-03 08:35:48 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-03 08:35:48 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-03 08:35:48 [ INFO ] -- Configuring done
2021-07-03 08:35:48 [ INFO ] -- Generating done
2021-07-03 08:35:48 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-03 08:35:48 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-03 08:35:54 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-03 08:35:54 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-03 08:35:54 [ INFO ]  }
2021-07-03 08:35:54 [ INFO ]  ^
2021-07-03 08:35:54 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 08:35:54 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 08:35:54 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 08:35:54 [ INFO ]                                                         ^
2021-07-03 08:35:54 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 08:35:54 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 08:35:54 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-03 08:35:54 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-03 08:35:54 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 08:35:54 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 08:35:54 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 08:35:54 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-03 08:35:54 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-03 08:35:54 [ ERROR ]      uint8_t errorcode = 0;
2021-07-03 08:35:54 [ INFO ]              ^~~~~~~~~
2021-07-03 08:35:59 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-03 08:36:06 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-03 08:36:11 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-03 08:36:11 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-03 08:36:11 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-03 08:36:11 [ INFO ]               ^~~
2021-07-03 08:36:14 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-03 08:36:24 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 08:36:24 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-03 08:36:24 [ INFO ]          defult:
2021-07-03 08:36:24 [ INFO ]          ^~~~~~
2021-07-03 08:36:24 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 08:36:24 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 08:36:24 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 08:36:24 [ INFO ]                                                         ^
2021-07-03 08:36:24 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 08:36:24 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 08:36:24 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-03 08:36:24 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 08:36:24 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 08:36:24 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 08:36:28 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 08:36:28 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-03 08:36:28 [ INFO ]  }
2021-07-03 08:36:28 [ INFO ]  ^
2021-07-03 08:36:29 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-03 08:36:32 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-03 08:36:32 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 08:36:32 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-03 08:36:32 [ INFO ]               ^~~~~~
2021-07-03 08:36:32 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-03 08:36:32 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-03 08:36:32 [ INFO ]      void * buffer = nullptr;
2021-07-03 08:36:32 [ INFO ]             ^~~~~~
2021-07-03 08:36:32 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-03 08:36:32 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-03 08:36:32 [ INFO ]          ^~~~
2021-07-03 08:36:34 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-03 08:36:37 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-03 08:36:37 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 08:36:37 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-03 08:36:37 [ INFO ]                       ^~~~~~
2021-07-03 08:36:38 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-03 08:36:41 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-03 08:36:41 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:36:41 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-03 08:36:41 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:36:42 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-03 08:36:45 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 08:36:45 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-03 08:36:45 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-03 08:36:45 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-03 08:36:45 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 08:36:45 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:36:45 [ INFO ]                                                                            ^
2021-07-03 08:36:45 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:36:45 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-03 08:36:45 [ INFO ]          ^
2021-07-03 08:36:45 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-03 08:36:45 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 08:36:45 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:36:45 [ INFO ]                                                                            ^
2021-07-03 08:36:45 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:36:45 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-03 08:36:45 [ INFO ]          ^
2021-07-03 08:36:46 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-03 08:36:49 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-03 08:36:49 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:36:49 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-03 08:36:49 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-03 08:36:49 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-03 08:36:49 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:36:49 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-03 08:36:49 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:36:49 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 08:36:49 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:36:49 [ INFO ]      if (check_size > inference_size) {
2021-07-03 08:36:49 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-03 08:36:49 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 08:36:49 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 08:36:49 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 08:36:49 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-03 08:36:49 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:36:49 [ INFO ]                                                                            ^
2021-07-03 08:36:49 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:36:49 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 08:36:49 [ INFO ]          ^
2021-07-03 08:36:49 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-03 08:36:49 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:36:49 [ INFO ]                                                                            ^
2021-07-03 08:36:49 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:36:49 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 08:36:49 [ INFO ]          ^
2021-07-03 08:36:49 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 08:36:49 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:36:49 [ INFO ]                                                                            ^
2021-07-03 08:36:49 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:36:49 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-03 08:36:49 [ INFO ]      ^
2021-07-03 08:36:49 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 08:36:49 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:36:49 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-03 08:36:49 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:36:49 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 08:36:49 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 08:36:49 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 08:36:49 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 08:36:49 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:36:49 [ INFO ]                                                                            ^
2021-07-03 08:36:49 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:36:49 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-03 08:36:49 [ INFO ]   ^
2021-07-03 08:36:49 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 08:36:49 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-03 08:36:49 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 08:36:49 [ INFO ]                                                                            ^
2021-07-03 08:36:49 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 08:36:49 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-03 08:36:49 [ INFO ]          ^
2021-07-03 08:36:51 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-03 08:36:53 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-03 08:36:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 08:36:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:36:55 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 08:36:55 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 08:36:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:36:55 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 08:36:55 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:36:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 08:36:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:36:55 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 08:36:55 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 08:36:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 08:36:55 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 08:36:55 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 08:36:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-03 08:36:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-03 08:36:56 [ INFO ]  static int memcount = 0;
2021-07-03 08:36:56 [ INFO ]             ^~~~~~~~
2021-07-03 08:36:57 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-03 08:37:00 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-03 08:37:03 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-03 08:37:05 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-03 08:37:05 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-03 08:37:05 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-03 08:37:05 [ INFO ]               ^~~~~~~~~~~
2021-07-03 08:37:06 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-03 08:37:10 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-03 08:37:13 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-03 08:37:17 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-03 08:37:18 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-03 08:37:18 [ INFO ] [100%] Built target main
2021-07-03 09:55:18 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-03 09:55:19 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-03 09:55:19 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-03 09:55:19 [ INFO ] -- Configuring done
2021-07-03 09:55:19 [ INFO ] -- Generating done
2021-07-03 09:55:19 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-03 09:55:19 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-03 09:55:28 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-03 09:55:28 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-03 09:55:28 [ INFO ]  }
2021-07-03 09:55:28 [ INFO ]  ^
2021-07-03 09:55:28 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 09:55:28 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 09:55:28 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 09:55:28 [ INFO ]                                                         ^
2021-07-03 09:55:28 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 09:55:28 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 09:55:28 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-03 09:55:28 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-03 09:55:28 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 09:55:28 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 09:55:28 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 09:55:28 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-03 09:55:28 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-03 09:55:28 [ ERROR ]      uint8_t errorcode = 0;
2021-07-03 09:55:28 [ INFO ]              ^~~~~~~~~
2021-07-03 09:55:30 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-03 09:55:34 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-03 09:55:36 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-03 09:55:36 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-03 09:55:36 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-03 09:55:36 [ INFO ]               ^~~
2021-07-03 09:55:37 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-03 09:55:40 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 09:55:40 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-03 09:55:40 [ INFO ]          defult:
2021-07-03 09:55:40 [ INFO ]          ^~~~~~
2021-07-03 09:55:40 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 09:55:40 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 09:55:40 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 09:55:40 [ INFO ]                                                         ^
2021-07-03 09:55:40 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 09:55:40 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 09:55:40 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-03 09:55:40 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 09:55:40 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 09:55:40 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 09:55:42 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 09:55:42 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-03 09:55:42 [ INFO ]  }
2021-07-03 09:55:42 [ INFO ]  ^
2021-07-03 09:55:43 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-03 09:55:46 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-03 09:55:46 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 09:55:46 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-03 09:55:46 [ INFO ]               ^~~~~~
2021-07-03 09:55:46 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-03 09:55:46 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-03 09:55:46 [ INFO ]      void * buffer = nullptr;
2021-07-03 09:55:46 [ INFO ]             ^~~~~~
2021-07-03 09:55:46 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-03 09:55:46 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-03 09:55:46 [ INFO ]          ^~~~
2021-07-03 09:55:48 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-03 09:55:52 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-03 09:55:52 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 09:55:52 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-03 09:55:52 [ INFO ]                       ^~~~~~
2021-07-03 09:55:53 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-03 09:55:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-03 09:55:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 09:55:56 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-03 09:55:56 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 09:55:58 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-03 09:56:01 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 09:56:01 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-03 09:56:01 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-03 09:56:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-03 09:56:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 09:56:01 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 09:56:01 [ INFO ]                                                                            ^
2021-07-03 09:56:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 09:56:01 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-03 09:56:01 [ INFO ]          ^
2021-07-03 09:56:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-03 09:56:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 09:56:01 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 09:56:01 [ INFO ]                                                                            ^
2021-07-03 09:56:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 09:56:01 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-03 09:56:01 [ INFO ]          ^
2021-07-03 09:56:03 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-03 09:56:06 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-03 09:56:06 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 09:56:06 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-03 09:56:06 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-03 09:56:06 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-03 09:56:06 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 09:56:06 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-03 09:56:06 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 09:56:06 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 09:56:06 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 09:56:06 [ INFO ]      if (check_size > inference_size) {
2021-07-03 09:56:06 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-03 09:56:06 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 09:56:06 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 09:56:06 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 09:56:06 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-03 09:56:06 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 09:56:06 [ INFO ]                                                                            ^
2021-07-03 09:56:06 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 09:56:06 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 09:56:06 [ INFO ]          ^
2021-07-03 09:56:06 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-03 09:56:06 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 09:56:06 [ INFO ]                                                                            ^
2021-07-03 09:56:06 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 09:56:06 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 09:56:06 [ INFO ]          ^
2021-07-03 09:56:06 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 09:56:06 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 09:56:06 [ INFO ]                                                                            ^
2021-07-03 09:56:06 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-03 09:56:06 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-03 09:56:06 [ INFO ]      ^
2021-07-03 09:56:06 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 09:56:06 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 09:56:06 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-03 09:56:06 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 09:56:06 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 09:56:06 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 09:56:06 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 09:56:06 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 09:56:06 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 09:56:06 [ INFO ]                                                                            ^
2021-07-03 09:56:06 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-03 09:56:06 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-03 09:56:06 [ INFO ]   ^
2021-07-03 09:56:06 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 09:56:06 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-03 09:56:06 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 09:56:06 [ INFO ]                                                                            ^
2021-07-03 09:56:06 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 09:56:06 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-03 09:56:06 [ INFO ]          ^
2021-07-03 09:56:07 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-03 09:56:09 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-03 09:56:12 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 09:56:12 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 09:56:12 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 09:56:12 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 09:56:12 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 09:56:12 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 09:56:12 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 09:56:12 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 09:56:12 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 09:56:12 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 09:56:12 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 09:56:12 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 09:56:12 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 09:56:12 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 09:56:13 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-03 09:56:13 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-03 09:56:13 [ INFO ]  static int memcount = 0;
2021-07-03 09:56:13 [ INFO ]             ^~~~~~~~
2021-07-03 09:56:14 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-03 09:56:18 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-03 09:56:21 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-03 09:56:23 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-03 09:56:23 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-03 09:56:23 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-03 09:56:23 [ INFO ]               ^~~~~~~~~~~
2021-07-03 09:56:25 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-03 09:56:28 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-03 09:56:32 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-03 09:56:36 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-03 09:56:36 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-03 09:56:36 [ INFO ] [100%] Built target main
2021-07-03 10:09:09 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-03 10:09:09 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-03 10:09:09 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-03 10:09:09 [ INFO ] -- Configuring done
2021-07-03 10:09:09 [ INFO ] -- Generating done
2021-07-03 10:09:09 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-03 10:09:10 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-03 10:09:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-03 10:09:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-03 10:09:14 [ INFO ]  }
2021-07-03 10:09:14 [ INFO ]  ^
2021-07-03 10:09:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 10:09:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 10:09:14 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 10:09:14 [ INFO ]                                                         ^
2021-07-03 10:09:14 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 10:09:14 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 10:09:14 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-03 10:09:14 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-03 10:09:14 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 10:09:14 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 10:09:14 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 10:09:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-03 10:09:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-03 10:09:14 [ ERROR ]      uint8_t errorcode = 0;
2021-07-03 10:09:14 [ INFO ]              ^~~~~~~~~
2021-07-03 10:09:16 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-03 10:09:19 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-03 10:09:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-03 10:09:21 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-03 10:09:21 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-03 10:09:21 [ INFO ]               ^~~
2021-07-03 10:09:22 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-03 10:09:25 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 10:09:25 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-03 10:09:25 [ INFO ]          defult:
2021-07-03 10:09:25 [ INFO ]          ^~~~~~
2021-07-03 10:09:25 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 10:09:25 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 10:09:25 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 10:09:25 [ INFO ]                                                         ^
2021-07-03 10:09:25 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 10:09:25 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 10:09:25 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-03 10:09:25 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 10:09:25 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 10:09:25 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 10:09:26 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 10:09:26 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-03 10:09:26 [ INFO ]  }
2021-07-03 10:09:26 [ INFO ]  ^
2021-07-03 10:09:27 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-03 10:09:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-03 10:09:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 10:09:29 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-03 10:09:29 [ INFO ]               ^~~~~~
2021-07-03 10:09:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-03 10:09:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-03 10:09:29 [ INFO ]      void * buffer = nullptr;
2021-07-03 10:09:29 [ INFO ]             ^~~~~~
2021-07-03 10:09:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-03 10:09:29 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-03 10:09:29 [ INFO ]          ^~~~
2021-07-03 10:09:32 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-03 10:09:37 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-03 10:09:37 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 10:09:37 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-03 10:09:37 [ INFO ]                       ^~~~~~
2021-07-03 10:09:41 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-03 10:09:44 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-03 10:09:44 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:09:44 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-03 10:09:44 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 10:09:46 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-03 10:09:50 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 10:09:50 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-03 10:09:50 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-03 10:09:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-03 10:09:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 10:09:50 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:09:50 [ INFO ]                                                                            ^
2021-07-03 10:09:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:09:50 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-03 10:09:50 [ INFO ]          ^
2021-07-03 10:09:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-03 10:09:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 10:09:50 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:09:50 [ INFO ]                                                                            ^
2021-07-03 10:09:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:09:50 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-03 10:09:50 [ INFO ]          ^
2021-07-03 10:09:52 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-03 10:09:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-03 10:09:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:09:55 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-03 10:09:55 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-03 10:09:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-03 10:09:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:09:55 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-03 10:09:55 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 10:09:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 10:09:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:09:55 [ INFO ]      if (check_size > inference_size) {
2021-07-03 10:09:55 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-03 10:09:55 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 10:09:55 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 10:09:55 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 10:09:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-03 10:09:55 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:09:55 [ INFO ]                                                                            ^
2021-07-03 10:09:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:09:55 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 10:09:55 [ INFO ]          ^
2021-07-03 10:09:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-03 10:09:55 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:09:55 [ INFO ]                                                                            ^
2021-07-03 10:09:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:09:55 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 10:09:55 [ INFO ]          ^
2021-07-03 10:09:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 10:09:55 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:09:55 [ INFO ]                                                                            ^
2021-07-03 10:09:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:09:55 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-03 10:09:55 [ INFO ]      ^
2021-07-03 10:09:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 10:09:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:09:55 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-03 10:09:55 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 10:09:55 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 10:09:55 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 10:09:55 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 10:09:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 10:09:55 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:09:55 [ INFO ]                                                                            ^
2021-07-03 10:09:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:09:55 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-03 10:09:55 [ INFO ]   ^
2021-07-03 10:09:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 10:09:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-03 10:09:55 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:09:55 [ INFO ]                                                                            ^
2021-07-03 10:09:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:09:55 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-03 10:09:55 [ INFO ]          ^
2021-07-03 10:09:56 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-03 10:09:59 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-03 10:10:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 10:10:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:10:03 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 10:10:03 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 10:10:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:10:03 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 10:10:03 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 10:10:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 10:10:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:10:03 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 10:10:03 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 10:10:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:10:03 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 10:10:03 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 10:10:04 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-03 10:10:04 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-03 10:10:04 [ INFO ]  static int memcount = 0;
2021-07-03 10:10:04 [ INFO ]             ^~~~~~~~
2021-07-03 10:10:04 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-03 10:10:08 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-03 10:10:11 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-03 10:10:13 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-03 10:10:13 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-03 10:10:13 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-03 10:10:13 [ INFO ]               ^~~~~~~~~~~
2021-07-03 10:10:14 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-03 10:10:18 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-03 10:10:21 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-03 10:10:25 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-03 10:10:25 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-03 10:10:26 [ INFO ] [100%] Built target main
2021-07-03 10:15:17 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-03 10:15:17 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-03 10:15:17 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-03 10:15:17 [ INFO ] -- Configuring done
2021-07-03 10:15:17 [ INFO ] -- Generating done
2021-07-03 10:15:17 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-03 10:15:18 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-03 10:15:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-03 10:15:21 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-03 10:15:21 [ INFO ]  }
2021-07-03 10:15:21 [ INFO ]  ^
2021-07-03 10:15:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 10:15:21 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 10:15:21 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 10:15:21 [ INFO ]                                                         ^
2021-07-03 10:15:21 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 10:15:21 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 10:15:21 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-03 10:15:21 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-03 10:15:21 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 10:15:21 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 10:15:21 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 10:15:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-03 10:15:21 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-03 10:15:21 [ ERROR ]      uint8_t errorcode = 0;
2021-07-03 10:15:21 [ INFO ]              ^~~~~~~~~
2021-07-03 10:15:27 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-03 10:15:32 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-03 10:15:34 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-03 10:15:34 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-03 10:15:34 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-03 10:15:34 [ INFO ]               ^~~
2021-07-03 10:15:35 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-03 10:15:38 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 10:15:38 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-03 10:15:38 [ INFO ]          defult:
2021-07-03 10:15:38 [ INFO ]          ^~~~~~
2021-07-03 10:15:38 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 10:15:38 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 10:15:38 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 10:15:38 [ INFO ]                                                         ^
2021-07-03 10:15:38 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 10:15:38 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 10:15:38 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-03 10:15:38 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 10:15:38 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 10:15:38 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 10:15:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 10:15:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-03 10:15:39 [ INFO ]  }
2021-07-03 10:15:39 [ INFO ]  ^
2021-07-03 10:15:40 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-03 10:15:42 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-03 10:15:42 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 10:15:42 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-03 10:15:42 [ INFO ]               ^~~~~~
2021-07-03 10:15:42 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-03 10:15:42 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-03 10:15:43 [ INFO ]      void * buffer = nullptr;
2021-07-03 10:15:43 [ INFO ]             ^~~~~~
2021-07-03 10:15:43 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-03 10:15:43 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-03 10:15:43 [ INFO ]          ^~~~
2021-07-03 10:15:45 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-03 10:15:48 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-03 10:15:48 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 10:15:48 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-03 10:15:48 [ INFO ]                       ^~~~~~
2021-07-03 10:15:49 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-03 10:15:52 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-03 10:15:52 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:15:52 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-03 10:15:52 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 10:15:54 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-03 10:15:58 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 10:15:58 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-03 10:15:58 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-03 10:15:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-03 10:15:58 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 10:15:58 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:15:58 [ INFO ]                                                                            ^
2021-07-03 10:15:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:15:58 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-03 10:15:58 [ INFO ]          ^
2021-07-03 10:15:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-03 10:15:58 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 10:15:58 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:15:58 [ INFO ]                                                                            ^
2021-07-03 10:15:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:15:58 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-03 10:15:58 [ INFO ]          ^
2021-07-03 10:16:00 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-03 10:16:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-03 10:16:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:16:03 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-03 10:16:03 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-03 10:16:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-03 10:16:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:16:03 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-03 10:16:03 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 10:16:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 10:16:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:16:03 [ INFO ]      if (check_size > inference_size) {
2021-07-03 10:16:03 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-03 10:16:03 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 10:16:03 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 10:16:03 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 10:16:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-03 10:16:03 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:16:03 [ INFO ]                                                                            ^
2021-07-03 10:16:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:16:03 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 10:16:03 [ INFO ]          ^
2021-07-03 10:16:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-03 10:16:03 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:16:03 [ INFO ]                                                                            ^
2021-07-03 10:16:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:16:03 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 10:16:03 [ INFO ]          ^
2021-07-03 10:16:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 10:16:03 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:16:03 [ INFO ]                                                                            ^
2021-07-03 10:16:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:16:03 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-03 10:16:03 [ INFO ]      ^
2021-07-03 10:16:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 10:16:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:16:03 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-03 10:16:03 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 10:16:03 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 10:16:03 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 10:16:03 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 10:16:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 10:16:03 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:16:03 [ INFO ]                                                                            ^
2021-07-03 10:16:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:16:03 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-03 10:16:03 [ INFO ]   ^
2021-07-03 10:16:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 10:16:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-03 10:16:03 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:16:03 [ INFO ]                                                                            ^
2021-07-03 10:16:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:16:03 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-03 10:16:03 [ INFO ]          ^
2021-07-03 10:16:04 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-03 10:16:06 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-03 10:16:10 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 10:16:10 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:16:10 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 10:16:10 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 10:16:10 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:16:10 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 10:16:10 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 10:16:10 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 10:16:10 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:16:10 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 10:16:10 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 10:16:10 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:16:10 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 10:16:10 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 10:16:11 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-03 10:16:11 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-03 10:16:11 [ INFO ]  static int memcount = 0;
2021-07-03 10:16:11 [ INFO ]             ^~~~~~~~
2021-07-03 10:16:12 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-03 10:16:15 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-03 10:16:19 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-03 10:16:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-03 10:16:21 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-03 10:16:21 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-03 10:16:21 [ INFO ]               ^~~~~~~~~~~
2021-07-03 10:16:23 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-03 10:16:28 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-03 10:16:32 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-03 10:16:36 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-03 10:16:36 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-03 10:16:37 [ INFO ] [100%] Built target main
2021-07-03 10:28:10 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-03 10:28:11 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-03 10:28:11 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-03 10:28:11 [ INFO ] -- Configuring done
2021-07-03 10:28:11 [ INFO ] -- Generating done
2021-07-03 10:28:11 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-03 10:28:12 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-03 10:28:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-03 10:28:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-03 10:28:18 [ INFO ]  }
2021-07-03 10:28:18 [ INFO ]  ^
2021-07-03 10:28:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 10:28:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 10:28:18 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 10:28:18 [ INFO ]                                                         ^
2021-07-03 10:28:18 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 10:28:18 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 10:28:18 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-03 10:28:18 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-03 10:28:18 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 10:28:18 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 10:28:18 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 10:28:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-03 10:28:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-03 10:28:18 [ ERROR ]      uint8_t errorcode = 0;
2021-07-03 10:28:18 [ INFO ]              ^~~~~~~~~
2021-07-03 10:28:22 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-03 10:28:26 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-03 10:28:28 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-03 10:28:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-03 10:28:29 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-03 10:28:29 [ INFO ]               ^~~
2021-07-03 10:28:30 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-03 10:28:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 10:28:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-03 10:28:33 [ INFO ]          defult:
2021-07-03 10:28:33 [ INFO ]          ^~~~~~
2021-07-03 10:28:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 10:28:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 10:28:33 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 10:28:33 [ INFO ]                                                         ^
2021-07-03 10:28:33 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 10:28:33 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 10:28:33 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-03 10:28:33 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 10:28:33 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 10:28:33 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 10:28:34 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 10:28:34 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-03 10:28:34 [ INFO ]  }
2021-07-03 10:28:34 [ INFO ]  ^
2021-07-03 10:28:35 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-03 10:28:38 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-03 10:28:38 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 10:28:38 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-03 10:28:38 [ INFO ]               ^~~~~~
2021-07-03 10:28:38 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-03 10:28:38 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-03 10:28:38 [ INFO ]      void * buffer = nullptr;
2021-07-03 10:28:38 [ INFO ]             ^~~~~~
2021-07-03 10:28:38 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-03 10:28:38 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-03 10:28:38 [ INFO ]          ^~~~
2021-07-03 10:28:40 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-03 10:28:48 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-03 10:28:48 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 10:28:48 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-03 10:28:48 [ INFO ]                       ^~~~~~
2021-07-03 10:28:50 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-03 10:28:53 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-03 10:28:53 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:28:53 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-03 10:28:53 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 10:28:54 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-03 10:28:58 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 10:28:58 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-03 10:28:58 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-03 10:28:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-03 10:28:58 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 10:28:58 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:28:58 [ INFO ]                                                                            ^
2021-07-03 10:28:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:28:58 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-03 10:28:58 [ INFO ]          ^
2021-07-03 10:28:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-03 10:28:58 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 10:28:58 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:28:58 [ INFO ]                                                                            ^
2021-07-03 10:28:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:28:58 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-03 10:28:58 [ INFO ]          ^
2021-07-03 10:28:59 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-03 10:29:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-03 10:29:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:29:02 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-03 10:29:02 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-03 10:29:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-03 10:29:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:29:02 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-03 10:29:02 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 10:29:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 10:29:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:29:02 [ INFO ]      if (check_size > inference_size) {
2021-07-03 10:29:02 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-03 10:29:02 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 10:29:02 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 10:29:02 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 10:29:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-03 10:29:02 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:29:02 [ INFO ]                                                                            ^
2021-07-03 10:29:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:29:02 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 10:29:02 [ INFO ]          ^
2021-07-03 10:29:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-03 10:29:02 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:29:02 [ INFO ]                                                                            ^
2021-07-03 10:29:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:29:02 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 10:29:02 [ INFO ]          ^
2021-07-03 10:29:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 10:29:02 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:29:02 [ INFO ]                                                                            ^
2021-07-03 10:29:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:29:02 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-03 10:29:02 [ INFO ]      ^
2021-07-03 10:29:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 10:29:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:29:02 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-03 10:29:02 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 10:29:02 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 10:29:02 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 10:29:02 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 10:29:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 10:29:02 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:29:02 [ INFO ]                                                                            ^
2021-07-03 10:29:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:29:02 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-03 10:29:02 [ INFO ]   ^
2021-07-03 10:29:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 10:29:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-03 10:29:02 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:29:02 [ INFO ]                                                                            ^
2021-07-03 10:29:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:29:02 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-03 10:29:02 [ INFO ]          ^
2021-07-03 10:29:04 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-03 10:29:06 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-03 10:29:09 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 10:29:09 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:29:09 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 10:29:09 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 10:29:09 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:29:09 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 10:29:09 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 10:29:09 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 10:29:09 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:29:09 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 10:29:09 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 10:29:09 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:29:09 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 10:29:09 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 10:29:10 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-03 10:29:10 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-03 10:29:10 [ INFO ]  static int memcount = 0;
2021-07-03 10:29:10 [ INFO ]             ^~~~~~~~
2021-07-03 10:29:11 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-03 10:29:15 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-03 10:29:19 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-03 10:29:22 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-03 10:29:22 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-03 10:29:22 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-03 10:29:22 [ INFO ]               ^~~~~~~~~~~
2021-07-03 10:29:24 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-03 10:29:29 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-03 10:29:33 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-03 10:29:37 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-03 10:29:38 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-03 10:29:38 [ INFO ] [100%] Built target main
2021-07-03 10:32:14 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-03 10:32:14 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-03 10:32:14 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-03 10:32:14 [ INFO ] -- Configuring done
2021-07-03 10:32:14 [ INFO ] -- Generating done
2021-07-03 10:32:14 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-03 10:32:14 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-03 10:32:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-03 10:32:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-03 10:32:18 [ INFO ]  }
2021-07-03 10:32:18 [ INFO ]  ^
2021-07-03 10:32:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 10:32:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 10:32:18 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 10:32:18 [ INFO ]                                                         ^
2021-07-03 10:32:18 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 10:32:18 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 10:32:18 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-03 10:32:18 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-03 10:32:18 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 10:32:18 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 10:32:18 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 10:32:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-03 10:32:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-03 10:32:18 [ ERROR ]      uint8_t errorcode = 0;
2021-07-03 10:32:18 [ INFO ]              ^~~~~~~~~
2021-07-03 10:32:20 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-03 10:32:23 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-03 10:32:25 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-03 10:32:25 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-03 10:32:25 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-03 10:32:25 [ INFO ]               ^~~
2021-07-03 10:32:26 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-03 10:32:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 10:32:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-03 10:32:29 [ INFO ]          defult:
2021-07-03 10:32:29 [ INFO ]          ^~~~~~
2021-07-03 10:32:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-03 10:32:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-03 10:32:29 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-03 10:32:29 [ INFO ]                                                         ^
2021-07-03 10:32:29 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-03 10:32:29 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-03 10:32:29 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-03 10:32:29 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-03 10:32:29 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-03 10:32:29 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-03 10:32:30 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-03 10:32:30 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-03 10:32:30 [ INFO ]  }
2021-07-03 10:32:30 [ INFO ]  ^
2021-07-03 10:32:31 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-03 10:32:34 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-03 10:32:34 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 10:32:34 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-03 10:32:34 [ INFO ]               ^~~~~~
2021-07-03 10:32:34 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-03 10:32:34 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-03 10:32:34 [ INFO ]      void * buffer = nullptr;
2021-07-03 10:32:34 [ INFO ]             ^~~~~~
2021-07-03 10:32:34 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-03 10:32:34 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-03 10:32:34 [ INFO ]          ^~~~
2021-07-03 10:32:35 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-03 10:32:38 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-03 10:32:38 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-03 10:32:38 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-03 10:32:38 [ INFO ]                       ^~~~~~
2021-07-03 10:32:40 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-03 10:32:43 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-03 10:32:43 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:32:43 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-03 10:32:43 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 10:32:45 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-03 10:32:48 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 10:32:48 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-03 10:32:48 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-03 10:32:48 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-03 10:32:48 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 10:32:48 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:32:48 [ INFO ]                                                                            ^
2021-07-03 10:32:48 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:32:48 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-03 10:32:48 [ INFO ]          ^
2021-07-03 10:32:48 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-03 10:32:48 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-03 10:32:48 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:32:48 [ INFO ]                                                                            ^
2021-07-03 10:32:48 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:32:48 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-03 10:32:48 [ INFO ]          ^
2021-07-03 10:32:50 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-03 10:32:53 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-03 10:32:53 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:32:53 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-03 10:32:53 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-03 10:32:53 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-03 10:32:53 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:32:53 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-03 10:32:53 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 10:32:53 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 10:32:53 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:32:53 [ INFO ]      if (check_size > inference_size) {
2021-07-03 10:32:53 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-03 10:32:53 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 10:32:53 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 10:32:53 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 10:32:53 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-03 10:32:53 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:32:53 [ INFO ]                                                                            ^
2021-07-03 10:32:53 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:32:53 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 10:32:53 [ INFO ]          ^
2021-07-03 10:32:53 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-03 10:32:53 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:32:53 [ INFO ]                                                                            ^
2021-07-03 10:32:53 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:32:53 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-03 10:32:53 [ INFO ]          ^
2021-07-03 10:32:53 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 10:32:53 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:32:53 [ INFO ]                                                                            ^
2021-07-03 10:32:53 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:32:53 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-03 10:32:53 [ INFO ]      ^
2021-07-03 10:32:53 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-03 10:32:53 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:32:53 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-03 10:32:53 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-03 10:32:53 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-03 10:32:53 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-03 10:32:53 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-03 10:32:53 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-03 10:32:53 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:32:53 [ INFO ]                                                                            ^
2021-07-03 10:32:53 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:32:53 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-03 10:32:53 [ INFO ]   ^
2021-07-03 10:32:53 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 10:32:53 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-03 10:32:53 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-03 10:32:53 [ INFO ]                                                                            ^
2021-07-03 10:32:53 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-03 10:32:53 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-03 10:32:53 [ INFO ]          ^
2021-07-03 10:32:55 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-03 10:32:57 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-03 10:33:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 10:33:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:33:01 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 10:33:01 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 10:33:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:33:01 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 10:33:01 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 10:33:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-03 10:33:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:33:01 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-03 10:33:01 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-03 10:33:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-03 10:33:01 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-03 10:33:01 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-03 10:33:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-03 10:33:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-03 10:33:02 [ INFO ]  static int memcount = 0;
2021-07-03 10:33:02 [ INFO ]             ^~~~~~~~
2021-07-03 10:33:02 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-03 10:33:06 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-03 10:33:10 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-03 10:33:12 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-03 10:33:12 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-03 10:33:12 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-03 10:33:12 [ INFO ]               ^~~~~~~~~~~
2021-07-03 10:33:14 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-03 10:33:18 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-03 10:33:21 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-03 10:33:25 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-03 10:33:26 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-03 10:33:26 [ INFO ] [100%] Built target main
2021-07-04 00:19:56 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-04 00:19:56 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-04 00:19:56 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-04 00:19:56 [ INFO ] -- Configuring done
2021-07-04 00:19:56 [ INFO ] -- Generating done
2021-07-04 00:19:56 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-04 00:19:57 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-04 00:20:05 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-04 00:20:05 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-04 00:20:05 [ INFO ]  }
2021-07-04 00:20:05 [ INFO ]  ^
2021-07-04 00:20:05 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 00:20:05 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 00:20:05 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 00:20:05 [ INFO ]                                                         ^
2021-07-04 00:20:05 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 00:20:05 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 00:20:05 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-04 00:20:05 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-04 00:20:05 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 00:20:05 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 00:20:05 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 00:20:05 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-04 00:20:05 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-04 00:20:05 [ ERROR ]      uint8_t errorcode = 0;
2021-07-04 00:20:05 [ INFO ]              ^~~~~~~~~
2021-07-04 00:20:08 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-04 00:20:11 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-04 00:20:13 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-04 00:20:13 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-04 00:20:13 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-04 00:20:13 [ INFO ]               ^~~
2021-07-04 00:20:14 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-04 00:20:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 00:20:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-04 00:20:17 [ INFO ]          defult:
2021-07-04 00:20:17 [ INFO ]          ^~~~~~
2021-07-04 00:20:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 00:20:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 00:20:17 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 00:20:17 [ INFO ]                                                         ^
2021-07-04 00:20:17 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 00:20:17 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 00:20:17 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-04 00:20:17 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 00:20:17 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 00:20:17 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 00:20:19 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 00:20:19 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-04 00:20:19 [ INFO ]  }
2021-07-04 00:20:19 [ INFO ]  ^
2021-07-04 00:20:19 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-04 00:20:22 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-04 00:20:22 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 00:20:22 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-04 00:20:22 [ INFO ]               ^~~~~~
2021-07-04 00:20:22 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-04 00:20:22 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-04 00:20:22 [ INFO ]      void * buffer = nullptr;
2021-07-04 00:20:22 [ INFO ]             ^~~~~~
2021-07-04 00:20:22 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-04 00:20:22 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-04 00:20:22 [ INFO ]          ^~~~
2021-07-04 00:20:24 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-04 00:20:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-04 00:20:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 00:20:27 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-04 00:20:27 [ INFO ]                       ^~~~~~
2021-07-04 00:20:28 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-04 00:20:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-04 00:20:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:20:31 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-04 00:20:31 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:20:32 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-04 00:20:35 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 00:20:35 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-04 00:20:35 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-04 00:20:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-04 00:20:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 00:20:35 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:20:35 [ INFO ]                                                                            ^
2021-07-04 00:20:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:20:35 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-04 00:20:35 [ INFO ]          ^
2021-07-04 00:20:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-04 00:20:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 00:20:35 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:20:35 [ INFO ]                                                                            ^
2021-07-04 00:20:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:20:35 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-04 00:20:35 [ INFO ]          ^
2021-07-04 00:20:37 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-04 00:20:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-04 00:20:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:20:39 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-04 00:20:39 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-04 00:20:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-04 00:20:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:20:39 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-04 00:20:39 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:20:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 00:20:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:20:39 [ INFO ]      if (check_size > inference_size) {
2021-07-04 00:20:39 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-04 00:20:39 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 00:20:39 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 00:20:39 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 00:20:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-04 00:20:39 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:20:39 [ INFO ]                                                                            ^
2021-07-04 00:20:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:20:39 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 00:20:39 [ INFO ]          ^
2021-07-04 00:20:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-04 00:20:39 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:20:39 [ INFO ]                                                                            ^
2021-07-04 00:20:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:20:39 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 00:20:39 [ INFO ]          ^
2021-07-04 00:20:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 00:20:39 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:20:39 [ INFO ]                                                                            ^
2021-07-04 00:20:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:20:39 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-04 00:20:39 [ INFO ]      ^
2021-07-04 00:20:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 00:20:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:20:39 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-04 00:20:39 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:20:39 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 00:20:39 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 00:20:39 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 00:20:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 00:20:39 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:20:39 [ INFO ]                                                                            ^
2021-07-04 00:20:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:20:39 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-04 00:20:39 [ INFO ]   ^
2021-07-04 00:20:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 00:20:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-04 00:20:39 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:20:39 [ INFO ]                                                                            ^
2021-07-04 00:20:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:20:39 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-04 00:20:39 [ INFO ]          ^
2021-07-04 00:20:41 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-04 00:20:43 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-04 00:20:45 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 00:20:45 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:20:45 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 00:20:45 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 00:20:45 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:20:45 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 00:20:45 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:20:45 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 00:20:45 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:20:45 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 00:20:45 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 00:20:45 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:20:45 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 00:20:45 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:20:46 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-04 00:20:46 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-04 00:20:46 [ INFO ]  static int memcount = 0;
2021-07-04 00:20:46 [ INFO ]             ^~~~~~~~
2021-07-04 00:20:47 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-04 00:20:50 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-04 00:20:53 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-04 00:20:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-04 00:20:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-04 00:20:55 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-04 00:20:55 [ INFO ]               ^~~~~~~~~~~
2021-07-04 00:20:56 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-04 00:21:00 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-04 00:21:03 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-04 00:21:07 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-04 00:21:08 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-04 00:21:08 [ INFO ] [100%] Built target main
2021-07-04 00:30:40 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-04 00:30:41 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-04 00:30:41 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-04 00:30:41 [ INFO ] -- Configuring done
2021-07-04 00:30:41 [ INFO ] -- Generating done
2021-07-04 00:30:41 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-04 00:30:41 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-04 00:30:44 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-04 00:30:44 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-04 00:30:44 [ INFO ]  }
2021-07-04 00:30:44 [ INFO ]  ^
2021-07-04 00:30:44 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 00:30:44 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 00:30:44 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 00:30:44 [ INFO ]                                                         ^
2021-07-04 00:30:44 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 00:30:44 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 00:30:44 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-04 00:30:44 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-04 00:30:44 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 00:30:44 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 00:30:44 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 00:30:44 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-04 00:30:44 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-04 00:30:44 [ ERROR ]      uint8_t errorcode = 0;
2021-07-04 00:30:44 [ INFO ]              ^~~~~~~~~
2021-07-04 00:30:45 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-04 00:30:48 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-04 00:30:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-04 00:30:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-04 00:30:50 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-04 00:30:50 [ INFO ]               ^~~
2021-07-04 00:30:52 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-04 00:30:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 00:30:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-04 00:30:55 [ INFO ]          defult:
2021-07-04 00:30:55 [ INFO ]          ^~~~~~
2021-07-04 00:30:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 00:30:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 00:30:55 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 00:30:55 [ INFO ]                                                         ^
2021-07-04 00:30:55 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 00:30:55 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 00:30:55 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-04 00:30:55 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 00:30:55 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 00:30:55 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 00:30:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 00:30:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-04 00:30:55 [ INFO ]  }
2021-07-04 00:30:55 [ INFO ]  ^
2021-07-04 00:30:56 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-04 00:30:59 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-04 00:30:59 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 00:30:59 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-04 00:30:59 [ INFO ]               ^~~~~~
2021-07-04 00:30:59 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-04 00:30:59 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-04 00:30:59 [ INFO ]      void * buffer = nullptr;
2021-07-04 00:30:59 [ INFO ]             ^~~~~~
2021-07-04 00:30:59 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-04 00:30:59 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-04 00:30:59 [ INFO ]          ^~~~
2021-07-04 00:31:00 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-04 00:31:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-04 00:31:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 00:31:03 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-04 00:31:03 [ INFO ]                       ^~~~~~
2021-07-04 00:31:05 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-04 00:31:08 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-04 00:31:08 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:31:08 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-04 00:31:08 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:31:09 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-04 00:31:12 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 00:31:12 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-04 00:31:12 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-04 00:31:12 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-04 00:31:12 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 00:31:12 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:31:12 [ INFO ]                                                                            ^
2021-07-04 00:31:12 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:31:12 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-04 00:31:12 [ INFO ]          ^
2021-07-04 00:31:12 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-04 00:31:12 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 00:31:12 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:31:12 [ INFO ]                                                                            ^
2021-07-04 00:31:12 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:31:12 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-04 00:31:12 [ INFO ]          ^
2021-07-04 00:31:13 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-04 00:31:16 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-04 00:31:16 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:31:16 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-04 00:31:16 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-04 00:31:16 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-04 00:31:16 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:31:16 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-04 00:31:16 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:31:16 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 00:31:16 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:31:16 [ INFO ]      if (check_size > inference_size) {
2021-07-04 00:31:16 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-04 00:31:16 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 00:31:16 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 00:31:16 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 00:31:16 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-04 00:31:16 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:31:16 [ INFO ]                                                                            ^
2021-07-04 00:31:16 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:31:16 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 00:31:16 [ INFO ]          ^
2021-07-04 00:31:16 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-04 00:31:16 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:31:16 [ INFO ]                                                                            ^
2021-07-04 00:31:16 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:31:16 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 00:31:16 [ INFO ]          ^
2021-07-04 00:31:16 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 00:31:16 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:31:16 [ INFO ]                                                                            ^
2021-07-04 00:31:16 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:31:16 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-04 00:31:16 [ INFO ]      ^
2021-07-04 00:31:16 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 00:31:16 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:31:16 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-04 00:31:16 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:31:16 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 00:31:16 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 00:31:16 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 00:31:16 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 00:31:16 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:31:16 [ INFO ]                                                                            ^
2021-07-04 00:31:16 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:31:16 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-04 00:31:16 [ INFO ]   ^
2021-07-04 00:31:16 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 00:31:16 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-04 00:31:16 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:31:16 [ INFO ]                                                                            ^
2021-07-04 00:31:16 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:31:16 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-04 00:31:16 [ INFO ]          ^
2021-07-04 00:31:18 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-04 00:31:19 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-04 00:31:22 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 00:31:22 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:31:22 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 00:31:22 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 00:31:22 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:31:22 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 00:31:22 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:31:22 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 00:31:22 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:31:22 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 00:31:22 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 00:31:22 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:31:22 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 00:31:22 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:31:23 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-04 00:31:23 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-04 00:31:23 [ INFO ]  static int memcount = 0;
2021-07-04 00:31:23 [ INFO ]             ^~~~~~~~
2021-07-04 00:31:23 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-04 00:31:27 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-04 00:31:30 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-04 00:31:32 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-04 00:31:32 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-04 00:31:32 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-04 00:31:32 [ INFO ]               ^~~~~~~~~~~
2021-07-04 00:31:33 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-04 00:31:37 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-04 00:31:40 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-04 00:31:44 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-04 00:31:44 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-04 00:31:44 [ INFO ] [100%] Built target main
2021-07-04 00:35:49 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-04 00:35:49 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-04 00:35:49 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-04 00:35:49 [ INFO ] -- Configuring done
2021-07-04 00:35:49 [ INFO ] -- Generating done
2021-07-04 00:35:49 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-04 00:35:49 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-04 00:35:52 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-04 00:35:52 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-04 00:35:52 [ INFO ]  }
2021-07-04 00:35:52 [ INFO ]  ^
2021-07-04 00:35:52 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 00:35:52 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 00:35:52 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 00:35:52 [ INFO ]                                                         ^
2021-07-04 00:35:52 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 00:35:52 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 00:35:52 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-04 00:35:52 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-04 00:35:52 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 00:35:52 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 00:35:52 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 00:35:52 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-04 00:35:52 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-04 00:35:52 [ ERROR ]      uint8_t errorcode = 0;
2021-07-04 00:35:52 [ INFO ]              ^~~~~~~~~
2021-07-04 00:35:53 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-04 00:35:57 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-04 00:35:59 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-04 00:35:59 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-04 00:35:59 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-04 00:35:59 [ INFO ]               ^~~
2021-07-04 00:36:00 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-04 00:36:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 00:36:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-04 00:36:03 [ INFO ]          defult:
2021-07-04 00:36:03 [ INFO ]          ^~~~~~
2021-07-04 00:36:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 00:36:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 00:36:03 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 00:36:03 [ INFO ]                                                         ^
2021-07-04 00:36:03 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 00:36:03 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 00:36:03 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-04 00:36:03 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 00:36:03 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 00:36:03 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 00:36:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 00:36:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-04 00:36:03 [ INFO ]  }
2021-07-04 00:36:03 [ INFO ]  ^
2021-07-04 00:36:04 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-04 00:36:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-04 00:36:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 00:36:07 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-04 00:36:07 [ INFO ]               ^~~~~~
2021-07-04 00:36:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-04 00:36:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-04 00:36:07 [ INFO ]      void * buffer = nullptr;
2021-07-04 00:36:07 [ INFO ]             ^~~~~~
2021-07-04 00:36:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-04 00:36:07 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-04 00:36:07 [ INFO ]          ^~~~
2021-07-04 00:36:09 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-04 00:36:12 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-04 00:36:12 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 00:36:12 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-04 00:36:12 [ INFO ]                       ^~~~~~
2021-07-04 00:36:13 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-04 00:36:16 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-04 00:36:16 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:36:16 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-04 00:36:16 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:36:17 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-04 00:36:20 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 00:36:20 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-04 00:36:20 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-04 00:36:20 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-04 00:36:20 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 00:36:20 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:36:20 [ INFO ]                                                                            ^
2021-07-04 00:36:20 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:36:20 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-04 00:36:20 [ INFO ]          ^
2021-07-04 00:36:20 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-04 00:36:20 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 00:36:20 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:36:20 [ INFO ]                                                                            ^
2021-07-04 00:36:20 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:36:20 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-04 00:36:20 [ INFO ]          ^
2021-07-04 00:36:21 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-04 00:36:24 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-04 00:36:24 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:36:24 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-04 00:36:24 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-04 00:36:24 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-04 00:36:24 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:36:24 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-04 00:36:24 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:36:24 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 00:36:24 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:36:24 [ INFO ]      if (check_size > inference_size) {
2021-07-04 00:36:24 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-04 00:36:24 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 00:36:24 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 00:36:24 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 00:36:24 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-04 00:36:24 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:36:24 [ INFO ]                                                                            ^
2021-07-04 00:36:24 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:36:24 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 00:36:24 [ INFO ]          ^
2021-07-04 00:36:24 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-04 00:36:24 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:36:24 [ INFO ]                                                                            ^
2021-07-04 00:36:24 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:36:24 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 00:36:24 [ INFO ]          ^
2021-07-04 00:36:24 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 00:36:24 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:36:24 [ INFO ]                                                                            ^
2021-07-04 00:36:24 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:36:24 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-04 00:36:24 [ INFO ]      ^
2021-07-04 00:36:24 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 00:36:24 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:36:24 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-04 00:36:24 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:36:24 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 00:36:24 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 00:36:24 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 00:36:24 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 00:36:24 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:36:24 [ INFO ]                                                                            ^
2021-07-04 00:36:24 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:36:24 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-04 00:36:24 [ INFO ]   ^
2021-07-04 00:36:24 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 00:36:24 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-04 00:36:24 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:36:24 [ INFO ]                                                                            ^
2021-07-04 00:36:24 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:36:24 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-04 00:36:24 [ INFO ]          ^
2021-07-04 00:36:25 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-04 00:36:27 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-04 00:36:30 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 00:36:30 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:36:30 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 00:36:30 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 00:36:30 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:36:30 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 00:36:30 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:36:30 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 00:36:30 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:36:30 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 00:36:30 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 00:36:30 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:36:30 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 00:36:30 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:36:30 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-04 00:36:30 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-04 00:36:30 [ INFO ]  static int memcount = 0;
2021-07-04 00:36:30 [ INFO ]             ^~~~~~~~
2021-07-04 00:36:31 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-04 00:36:34 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-04 00:36:38 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-04 00:36:40 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-04 00:36:40 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-04 00:36:40 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-04 00:36:40 [ INFO ]               ^~~~~~~~~~~
2021-07-04 00:36:41 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-04 00:36:44 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-04 00:36:48 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-04 00:36:52 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-04 00:36:52 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-04 00:36:52 [ INFO ] [100%] Built target main
2021-07-04 00:39:43 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-04 00:39:43 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-04 00:39:43 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-04 00:39:43 [ INFO ] -- Configuring done
2021-07-04 00:39:43 [ INFO ] -- Generating done
2021-07-04 00:39:43 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-04 00:39:44 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-04 00:39:46 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-04 00:39:46 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-04 00:39:46 [ INFO ]  }
2021-07-04 00:39:46 [ INFO ]  ^
2021-07-04 00:39:46 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 00:39:46 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 00:39:46 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 00:39:46 [ INFO ]                                                         ^
2021-07-04 00:39:46 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 00:39:46 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 00:39:46 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-04 00:39:46 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-04 00:39:46 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 00:39:46 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 00:39:46 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 00:39:46 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-04 00:39:46 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-04 00:39:46 [ ERROR ]      uint8_t errorcode = 0;
2021-07-04 00:39:46 [ INFO ]              ^~~~~~~~~
2021-07-04 00:39:48 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-04 00:39:51 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-04 00:39:53 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-04 00:39:53 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-04 00:39:53 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-04 00:39:53 [ INFO ]               ^~~
2021-07-04 00:39:54 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-04 00:39:57 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 00:39:57 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-04 00:39:57 [ INFO ]          defult:
2021-07-04 00:39:57 [ INFO ]          ^~~~~~
2021-07-04 00:39:57 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 00:39:57 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 00:39:57 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 00:39:57 [ INFO ]                                                         ^
2021-07-04 00:39:57 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 00:39:57 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 00:39:57 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-04 00:39:57 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 00:39:57 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 00:39:57 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 00:39:57 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 00:39:57 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-04 00:39:57 [ INFO ]  }
2021-07-04 00:39:57 [ INFO ]  ^
2021-07-04 00:39:58 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-04 00:40:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-04 00:40:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 00:40:01 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-04 00:40:01 [ INFO ]               ^~~~~~
2021-07-04 00:40:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-04 00:40:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-04 00:40:01 [ INFO ]      void * buffer = nullptr;
2021-07-04 00:40:01 [ INFO ]             ^~~~~~
2021-07-04 00:40:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-04 00:40:01 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-04 00:40:01 [ INFO ]          ^~~~
2021-07-04 00:40:02 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-04 00:40:05 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-04 00:40:05 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 00:40:05 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-04 00:40:05 [ INFO ]                       ^~~~~~
2021-07-04 00:40:06 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-04 00:40:09 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-04 00:40:09 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:40:09 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-04 00:40:09 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:40:10 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-04 00:40:13 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 00:40:13 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-04 00:40:13 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-04 00:40:13 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-04 00:40:13 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 00:40:13 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:40:13 [ INFO ]                                                                            ^
2021-07-04 00:40:13 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:40:13 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-04 00:40:13 [ INFO ]          ^
2021-07-04 00:40:13 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-04 00:40:13 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 00:40:13 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:40:13 [ INFO ]                                                                            ^
2021-07-04 00:40:13 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:40:13 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-04 00:40:13 [ INFO ]          ^
2021-07-04 00:40:15 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-04 00:40:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-04 00:40:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:40:18 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-04 00:40:18 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-04 00:40:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-04 00:40:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:40:18 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-04 00:40:18 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:40:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 00:40:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:40:18 [ INFO ]      if (check_size > inference_size) {
2021-07-04 00:40:18 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-04 00:40:18 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 00:40:18 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 00:40:18 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 00:40:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-04 00:40:18 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:40:18 [ INFO ]                                                                            ^
2021-07-04 00:40:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:40:18 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 00:40:18 [ INFO ]          ^
2021-07-04 00:40:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-04 00:40:18 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:40:18 [ INFO ]                                                                            ^
2021-07-04 00:40:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:40:18 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 00:40:18 [ INFO ]          ^
2021-07-04 00:40:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 00:40:18 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:40:18 [ INFO ]                                                                            ^
2021-07-04 00:40:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:40:18 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-04 00:40:18 [ INFO ]      ^
2021-07-04 00:40:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 00:40:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:40:18 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-04 00:40:18 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:40:18 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 00:40:18 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 00:40:18 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 00:40:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 00:40:18 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:40:18 [ INFO ]                                                                            ^
2021-07-04 00:40:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:40:18 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-04 00:40:18 [ INFO ]   ^
2021-07-04 00:40:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 00:40:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-04 00:40:18 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:40:18 [ INFO ]                                                                            ^
2021-07-04 00:40:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:40:18 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-04 00:40:18 [ INFO ]          ^
2021-07-04 00:40:19 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-04 00:40:21 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-04 00:40:24 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 00:40:24 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:40:24 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 00:40:24 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 00:40:24 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:40:24 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 00:40:24 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:40:24 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 00:40:24 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:40:24 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 00:40:24 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 00:40:24 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:40:24 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 00:40:24 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:40:24 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-04 00:40:24 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-04 00:40:24 [ INFO ]  static int memcount = 0;
2021-07-04 00:40:24 [ INFO ]             ^~~~~~~~
2021-07-04 00:40:25 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-04 00:40:28 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-04 00:40:32 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-04 00:40:34 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-04 00:40:34 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-04 00:40:34 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-04 00:40:34 [ INFO ]               ^~~~~~~~~~~
2021-07-04 00:40:35 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-04 00:40:38 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-04 00:40:42 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-04 00:40:46 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-04 00:40:46 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-04 00:40:46 [ INFO ] [100%] Built target main
2021-07-04 00:42:56 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-04 00:42:56 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-04 00:42:56 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-04 00:42:56 [ INFO ] -- Configuring done
2021-07-04 00:42:56 [ INFO ] -- Generating done
2021-07-04 00:42:56 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-04 00:42:56 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-04 00:42:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-04 00:42:58 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-04 00:42:58 [ INFO ]  }
2021-07-04 00:42:58 [ INFO ]  ^
2021-07-04 00:42:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 00:42:58 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 00:42:58 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 00:42:58 [ INFO ]                                                         ^
2021-07-04 00:42:59 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 00:42:59 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 00:42:59 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-04 00:42:59 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-04 00:42:59 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 00:42:59 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 00:42:59 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 00:42:59 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-04 00:42:59 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-04 00:42:59 [ ERROR ]      uint8_t errorcode = 0;
2021-07-04 00:42:59 [ INFO ]              ^~~~~~~~~
2021-07-04 00:43:00 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-04 00:43:03 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-04 00:43:05 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-04 00:43:05 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-04 00:43:05 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-04 00:43:05 [ INFO ]               ^~~
2021-07-04 00:43:07 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-04 00:43:09 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 00:43:09 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-04 00:43:09 [ INFO ]          defult:
2021-07-04 00:43:09 [ INFO ]          ^~~~~~
2021-07-04 00:43:09 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 00:43:09 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 00:43:09 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 00:43:09 [ INFO ]                                                         ^
2021-07-04 00:43:09 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 00:43:09 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 00:43:09 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-04 00:43:09 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 00:43:09 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 00:43:09 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 00:43:10 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 00:43:10 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-04 00:43:10 [ INFO ]  }
2021-07-04 00:43:10 [ INFO ]  ^
2021-07-04 00:43:11 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-04 00:43:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-04 00:43:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 00:43:14 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-04 00:43:14 [ INFO ]               ^~~~~~
2021-07-04 00:43:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-04 00:43:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-04 00:43:14 [ INFO ]      void * buffer = nullptr;
2021-07-04 00:43:14 [ INFO ]             ^~~~~~
2021-07-04 00:43:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-04 00:43:14 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-04 00:43:14 [ INFO ]          ^~~~
2021-07-04 00:43:16 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-04 00:43:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-04 00:43:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 00:43:18 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-04 00:43:18 [ INFO ]                       ^~~~~~
2021-07-04 00:43:20 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-04 00:43:23 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-04 00:43:23 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:43:23 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-04 00:43:23 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:43:24 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-04 00:43:27 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 00:43:27 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-04 00:43:27 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-04 00:43:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-04 00:43:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 00:43:27 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:43:27 [ INFO ]                                                                            ^
2021-07-04 00:43:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:43:27 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-04 00:43:27 [ INFO ]          ^
2021-07-04 00:43:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-04 00:43:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 00:43:27 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:43:27 [ INFO ]                                                                            ^
2021-07-04 00:43:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:43:27 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-04 00:43:27 [ INFO ]          ^
2021-07-04 00:43:28 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-04 00:43:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-04 00:43:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:43:31 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-04 00:43:31 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-04 00:43:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-04 00:43:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:43:31 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-04 00:43:31 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:43:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 00:43:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:43:31 [ INFO ]      if (check_size > inference_size) {
2021-07-04 00:43:31 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-04 00:43:31 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 00:43:31 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 00:43:31 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 00:43:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-04 00:43:31 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:43:31 [ INFO ]                                                                            ^
2021-07-04 00:43:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:43:31 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 00:43:31 [ INFO ]          ^
2021-07-04 00:43:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-04 00:43:31 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:43:31 [ INFO ]                                                                            ^
2021-07-04 00:43:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:43:31 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 00:43:31 [ INFO ]          ^
2021-07-04 00:43:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 00:43:31 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:43:31 [ INFO ]                                                                            ^
2021-07-04 00:43:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:43:31 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-04 00:43:31 [ INFO ]      ^
2021-07-04 00:43:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 00:43:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:43:31 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-04 00:43:31 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:43:31 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 00:43:31 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 00:43:31 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 00:43:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 00:43:31 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:43:31 [ INFO ]                                                                            ^
2021-07-04 00:43:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:43:31 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-04 00:43:31 [ INFO ]   ^
2021-07-04 00:43:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 00:43:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-04 00:43:31 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:43:31 [ INFO ]                                                                            ^
2021-07-04 00:43:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:43:31 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-04 00:43:31 [ INFO ]          ^
2021-07-04 00:43:33 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-04 00:43:35 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-04 00:43:37 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 00:43:37 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:43:37 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 00:43:37 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 00:43:37 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:43:37 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 00:43:37 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:43:37 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 00:43:37 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:43:37 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 00:43:37 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 00:43:37 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:43:37 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 00:43:37 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:43:38 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-04 00:43:38 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-04 00:43:38 [ INFO ]  static int memcount = 0;
2021-07-04 00:43:38 [ INFO ]             ^~~~~~~~
2021-07-04 00:43:39 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-04 00:43:42 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-04 00:43:45 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-04 00:43:47 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-04 00:43:47 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-04 00:43:47 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-04 00:43:47 [ INFO ]               ^~~~~~~~~~~
2021-07-04 00:43:49 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-04 00:43:52 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-04 00:43:55 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-04 00:43:59 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-04 00:44:00 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-04 00:44:00 [ INFO ] [100%] Built target main
2021-07-04 00:45:26 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-04 00:45:26 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-04 00:45:26 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-04 00:45:26 [ INFO ] -- Configuring done
2021-07-04 00:45:26 [ INFO ] -- Generating done
2021-07-04 00:45:26 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-04 00:45:26 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-04 00:45:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-04 00:45:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-04 00:45:29 [ INFO ]  }
2021-07-04 00:45:29 [ INFO ]  ^
2021-07-04 00:45:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 00:45:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 00:45:29 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 00:45:29 [ INFO ]                                                         ^
2021-07-04 00:45:29 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 00:45:29 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 00:45:29 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-04 00:45:29 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-04 00:45:29 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 00:45:29 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 00:45:29 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 00:45:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-04 00:45:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-04 00:45:29 [ ERROR ]      uint8_t errorcode = 0;
2021-07-04 00:45:29 [ INFO ]              ^~~~~~~~~
2021-07-04 00:45:30 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-04 00:45:34 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-04 00:45:36 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-04 00:45:36 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-04 00:45:36 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-04 00:45:36 [ INFO ]               ^~~
2021-07-04 00:45:37 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-04 00:45:40 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 00:45:40 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-04 00:45:40 [ INFO ]          defult:
2021-07-04 00:45:40 [ INFO ]          ^~~~~~
2021-07-04 00:45:40 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 00:45:40 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 00:45:40 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 00:45:40 [ INFO ]                                                         ^
2021-07-04 00:45:40 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 00:45:40 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 00:45:40 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-04 00:45:40 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 00:45:40 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 00:45:40 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 00:45:41 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 00:45:41 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-04 00:45:41 [ INFO ]  }
2021-07-04 00:45:41 [ INFO ]  ^
2021-07-04 00:45:41 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-04 00:45:44 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-04 00:45:44 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 00:45:44 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-04 00:45:44 [ INFO ]               ^~~~~~
2021-07-04 00:45:44 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-04 00:45:44 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-04 00:45:44 [ INFO ]      void * buffer = nullptr;
2021-07-04 00:45:44 [ INFO ]             ^~~~~~
2021-07-04 00:45:44 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-04 00:45:44 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-04 00:45:44 [ INFO ]          ^~~~
2021-07-04 00:45:46 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-04 00:45:49 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-04 00:45:49 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 00:45:49 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-04 00:45:49 [ INFO ]                       ^~~~~~
2021-07-04 00:45:50 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-04 00:45:53 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-04 00:45:53 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:45:53 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-04 00:45:53 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:45:55 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-04 00:45:57 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 00:45:57 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-04 00:45:58 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-04 00:45:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-04 00:45:58 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 00:45:58 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:45:58 [ INFO ]                                                                            ^
2021-07-04 00:45:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:45:58 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-04 00:45:58 [ INFO ]          ^
2021-07-04 00:45:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-04 00:45:58 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 00:45:58 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:45:58 [ INFO ]                                                                            ^
2021-07-04 00:45:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:45:58 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-04 00:45:58 [ INFO ]          ^
2021-07-04 00:45:59 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-04 00:46:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-04 00:46:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:46:02 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-04 00:46:02 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-04 00:46:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-04 00:46:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:46:02 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-04 00:46:02 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:46:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 00:46:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:46:02 [ INFO ]      if (check_size > inference_size) {
2021-07-04 00:46:02 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-04 00:46:02 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 00:46:02 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 00:46:02 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 00:46:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-04 00:46:02 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:46:02 [ INFO ]                                                                            ^
2021-07-04 00:46:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:46:02 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 00:46:02 [ INFO ]          ^
2021-07-04 00:46:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-04 00:46:02 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:46:02 [ INFO ]                                                                            ^
2021-07-04 00:46:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:46:02 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 00:46:02 [ INFO ]          ^
2021-07-04 00:46:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 00:46:02 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:46:02 [ INFO ]                                                                            ^
2021-07-04 00:46:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:46:02 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-04 00:46:02 [ INFO ]      ^
2021-07-04 00:46:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 00:46:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:46:02 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-04 00:46:02 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:46:02 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 00:46:02 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 00:46:02 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 00:46:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 00:46:02 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:46:02 [ INFO ]                                                                            ^
2021-07-04 00:46:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:46:02 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-04 00:46:02 [ INFO ]   ^
2021-07-04 00:46:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 00:46:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-04 00:46:02 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:46:02 [ INFO ]                                                                            ^
2021-07-04 00:46:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:46:02 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-04 00:46:02 [ INFO ]          ^
2021-07-04 00:46:03 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-04 00:46:05 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-04 00:46:08 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 00:46:08 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:46:08 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 00:46:08 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 00:46:08 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:46:08 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 00:46:08 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:46:08 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 00:46:08 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:46:08 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 00:46:08 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 00:46:08 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:46:08 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 00:46:08 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:46:09 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-04 00:46:09 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-04 00:46:09 [ INFO ]  static int memcount = 0;
2021-07-04 00:46:09 [ INFO ]             ^~~~~~~~
2021-07-04 00:46:10 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-04 00:46:13 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-04 00:46:16 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-04 00:46:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-04 00:46:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-04 00:46:18 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-04 00:46:18 [ INFO ]               ^~~~~~~~~~~
2021-07-04 00:46:20 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-04 00:46:23 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-04 00:46:27 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-04 00:46:30 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-04 00:46:31 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-04 00:46:31 [ INFO ] [100%] Built target main
2021-07-04 00:50:19 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-04 00:50:19 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-04 00:50:19 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-04 00:50:19 [ INFO ] -- Configuring done
2021-07-04 00:50:19 [ INFO ] -- Generating done
2021-07-04 00:50:19 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-04 00:50:19 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-04 00:50:22 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-04 00:50:22 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-04 00:50:22 [ INFO ]  }
2021-07-04 00:50:22 [ INFO ]  ^
2021-07-04 00:50:22 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 00:50:22 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 00:50:22 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 00:50:22 [ INFO ]                                                         ^
2021-07-04 00:50:22 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 00:50:22 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 00:50:22 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-04 00:50:22 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-04 00:50:22 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 00:50:22 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 00:50:22 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 00:50:22 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-04 00:50:22 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-04 00:50:22 [ ERROR ]      uint8_t errorcode = 0;
2021-07-04 00:50:22 [ INFO ]              ^~~~~~~~~
2021-07-04 00:50:23 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-04 00:50:27 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-04 00:50:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-04 00:50:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-04 00:50:29 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-04 00:50:29 [ INFO ]               ^~~
2021-07-04 00:50:30 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-04 00:50:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 00:50:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-04 00:50:33 [ INFO ]          defult:
2021-07-04 00:50:33 [ INFO ]          ^~~~~~
2021-07-04 00:50:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 00:50:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 00:50:33 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 00:50:33 [ INFO ]                                                         ^
2021-07-04 00:50:33 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 00:50:33 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 00:50:33 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-04 00:50:33 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 00:50:33 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 00:50:33 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 00:50:34 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 00:50:34 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-04 00:50:34 [ INFO ]  }
2021-07-04 00:50:34 [ INFO ]  ^
2021-07-04 00:50:34 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-04 00:50:37 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-04 00:50:37 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 00:50:37 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-04 00:50:37 [ INFO ]               ^~~~~~
2021-07-04 00:50:37 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-04 00:50:37 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-04 00:50:37 [ INFO ]      void * buffer = nullptr;
2021-07-04 00:50:37 [ INFO ]             ^~~~~~
2021-07-04 00:50:37 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-04 00:50:37 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-04 00:50:37 [ INFO ]          ^~~~
2021-07-04 00:50:39 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-04 00:50:42 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-04 00:50:42 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 00:50:42 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-04 00:50:42 [ INFO ]                       ^~~~~~
2021-07-04 00:50:43 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-04 00:50:46 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-04 00:50:46 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:50:46 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-04 00:50:46 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:50:48 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-04 00:50:50 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 00:50:50 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-04 00:50:50 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-04 00:50:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-04 00:50:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 00:50:50 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:50:50 [ INFO ]                                                                            ^
2021-07-04 00:50:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:50:50 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-04 00:50:50 [ INFO ]          ^
2021-07-04 00:50:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-04 00:50:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 00:50:50 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:50:50 [ INFO ]                                                                            ^
2021-07-04 00:50:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:50:50 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-04 00:50:50 [ INFO ]          ^
2021-07-04 00:50:52 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-04 00:50:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-04 00:50:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:50:55 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-04 00:50:55 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-04 00:50:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-04 00:50:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:50:55 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-04 00:50:55 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:50:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 00:50:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:50:55 [ INFO ]      if (check_size > inference_size) {
2021-07-04 00:50:55 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-04 00:50:55 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 00:50:55 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 00:50:55 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 00:50:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-04 00:50:55 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:50:55 [ INFO ]                                                                            ^
2021-07-04 00:50:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:50:55 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 00:50:55 [ INFO ]          ^
2021-07-04 00:50:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-04 00:50:55 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:50:55 [ INFO ]                                                                            ^
2021-07-04 00:50:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:50:55 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 00:50:55 [ INFO ]          ^
2021-07-04 00:50:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 00:50:55 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:50:55 [ INFO ]                                                                            ^
2021-07-04 00:50:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:50:55 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-04 00:50:55 [ INFO ]      ^
2021-07-04 00:50:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 00:50:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:50:55 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-04 00:50:55 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:50:55 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 00:50:55 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 00:50:55 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 00:50:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 00:50:55 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:50:55 [ INFO ]                                                                            ^
2021-07-04 00:50:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:50:55 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-04 00:50:55 [ INFO ]   ^
2021-07-04 00:50:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 00:50:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-04 00:50:55 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 00:50:55 [ INFO ]                                                                            ^
2021-07-04 00:50:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 00:50:55 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-04 00:50:55 [ INFO ]          ^
2021-07-04 00:50:56 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-04 00:50:58 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-04 00:51:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 00:51:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:51:01 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 00:51:01 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 00:51:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:51:01 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 00:51:01 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:51:01 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 00:51:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:51:01 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 00:51:01 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 00:51:01 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 00:51:01 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 00:51:01 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 00:51:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-04 00:51:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-04 00:51:02 [ INFO ]  static int memcount = 0;
2021-07-04 00:51:02 [ INFO ]             ^~~~~~~~
2021-07-04 00:51:02 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-04 00:51:06 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-04 00:51:09 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-04 00:51:11 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-04 00:51:11 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-04 00:51:11 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-04 00:51:11 [ INFO ]               ^~~~~~~~~~~
2021-07-04 00:51:13 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-04 00:51:16 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-04 00:51:20 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-04 00:51:24 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-04 00:51:24 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-04 00:51:24 [ INFO ] [100%] Built target main
2021-07-04 01:01:07 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-04 01:01:07 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-04 01:01:07 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-04 01:01:07 [ INFO ] -- Configuring done
2021-07-04 01:01:07 [ INFO ] -- Generating done
2021-07-04 01:01:07 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-04 01:01:08 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-04 01:01:12 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-04 01:01:12 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-04 01:01:12 [ INFO ]  }
2021-07-04 01:01:12 [ INFO ]  ^
2021-07-04 01:01:12 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 01:01:12 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 01:01:12 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 01:01:12 [ INFO ]                                                         ^
2021-07-04 01:01:12 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 01:01:12 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 01:01:12 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-04 01:01:12 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-04 01:01:12 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 01:01:12 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 01:01:12 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 01:01:12 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-04 01:01:12 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-04 01:01:12 [ ERROR ]      uint8_t errorcode = 0;
2021-07-04 01:01:12 [ INFO ]              ^~~~~~~~~
2021-07-04 01:01:13 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-04 01:01:17 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-04 01:01:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-04 01:01:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-04 01:01:18 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-04 01:01:18 [ INFO ]               ^~~
2021-07-04 01:01:20 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-04 01:01:22 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 01:01:22 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-04 01:01:22 [ INFO ]          defult:
2021-07-04 01:01:22 [ INFO ]          ^~~~~~
2021-07-04 01:01:22 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 01:01:22 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 01:01:22 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 01:01:22 [ INFO ]                                                         ^
2021-07-04 01:01:22 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 01:01:22 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 01:01:22 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-04 01:01:22 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 01:01:22 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 01:01:22 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 01:01:23 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 01:01:23 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-04 01:01:23 [ INFO ]  }
2021-07-04 01:01:23 [ INFO ]  ^
2021-07-04 01:01:24 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-04 01:01:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-04 01:01:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 01:01:27 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-04 01:01:27 [ INFO ]               ^~~~~~
2021-07-04 01:01:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-04 01:01:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-04 01:01:27 [ INFO ]      void * buffer = nullptr;
2021-07-04 01:01:27 [ INFO ]             ^~~~~~
2021-07-04 01:01:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-04 01:01:27 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-04 01:01:27 [ INFO ]          ^~~~
2021-07-04 01:01:28 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-04 01:01:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-04 01:01:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 01:01:31 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-04 01:01:31 [ INFO ]                       ^~~~~~
2021-07-04 01:01:33 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-04 01:01:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-04 01:01:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:01:35 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-04 01:01:35 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:01:37 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-04 01:01:39 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 01:01:39 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-04 01:01:39 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-04 01:01:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-04 01:01:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 01:01:39 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:01:39 [ INFO ]                                                                            ^
2021-07-04 01:01:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:01:39 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-04 01:01:39 [ INFO ]          ^
2021-07-04 01:01:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-04 01:01:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 01:01:39 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:01:39 [ INFO ]                                                                            ^
2021-07-04 01:01:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:01:39 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-04 01:01:39 [ INFO ]          ^
2021-07-04 01:01:41 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-04 01:01:44 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-04 01:01:44 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:01:44 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-04 01:01:44 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-04 01:01:44 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-04 01:01:44 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:01:44 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-04 01:01:44 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:01:44 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 01:01:44 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:01:44 [ INFO ]      if (check_size > inference_size) {
2021-07-04 01:01:44 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-04 01:01:44 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 01:01:44 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 01:01:44 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 01:01:44 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-04 01:01:44 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:01:44 [ INFO ]                                                                            ^
2021-07-04 01:01:44 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:01:44 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 01:01:44 [ INFO ]          ^
2021-07-04 01:01:44 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-04 01:01:44 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:01:44 [ INFO ]                                                                            ^
2021-07-04 01:01:44 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:01:44 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 01:01:44 [ INFO ]          ^
2021-07-04 01:01:44 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 01:01:44 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:01:44 [ INFO ]                                                                            ^
2021-07-04 01:01:44 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:01:44 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-04 01:01:44 [ INFO ]      ^
2021-07-04 01:01:44 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 01:01:44 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:01:44 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-04 01:01:44 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:01:44 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 01:01:44 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 01:01:44 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 01:01:44 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 01:01:44 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:01:44 [ INFO ]                                                                            ^
2021-07-04 01:01:44 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:01:44 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-04 01:01:44 [ INFO ]   ^
2021-07-04 01:01:44 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 01:01:44 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-04 01:01:44 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:01:44 [ INFO ]                                                                            ^
2021-07-04 01:01:44 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:01:44 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-04 01:01:44 [ INFO ]          ^
2021-07-04 01:01:45 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-04 01:01:47 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-04 01:01:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 01:01:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:01:50 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 01:01:50 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 01:01:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:01:50 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 01:01:50 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:01:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 01:01:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:01:50 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 01:01:50 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 01:01:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:01:50 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 01:01:50 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:01:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-04 01:01:51 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-04 01:01:51 [ INFO ]  static int memcount = 0;
2021-07-04 01:01:51 [ INFO ]             ^~~~~~~~
2021-07-04 01:01:51 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-04 01:01:54 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-04 01:01:58 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-04 01:02:00 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-04 01:02:00 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-04 01:02:00 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-04 01:02:00 [ INFO ]               ^~~~~~~~~~~
2021-07-04 01:02:01 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-04 01:02:05 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-04 01:02:08 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-04 01:02:12 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-04 01:02:13 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-04 01:02:13 [ INFO ] [100%] Built target main
2021-07-04 01:03:07 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-04 01:03:08 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-04 01:03:08 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-04 01:03:08 [ INFO ] -- Configuring done
2021-07-04 01:03:08 [ INFO ] -- Generating done
2021-07-04 01:03:08 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-04 01:03:08 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-04 01:03:12 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-04 01:03:12 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-04 01:03:12 [ INFO ]  }
2021-07-04 01:03:12 [ INFO ]  ^
2021-07-04 01:03:12 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 01:03:12 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 01:03:12 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 01:03:12 [ INFO ]                                                         ^
2021-07-04 01:03:12 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 01:03:12 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 01:03:12 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-04 01:03:12 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-04 01:03:12 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 01:03:12 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 01:03:12 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 01:03:12 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-04 01:03:12 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-04 01:03:12 [ ERROR ]      uint8_t errorcode = 0;
2021-07-04 01:03:12 [ INFO ]              ^~~~~~~~~
2021-07-04 01:03:13 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-04 01:03:16 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-04 01:03:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-04 01:03:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-04 01:03:18 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-04 01:03:18 [ INFO ]               ^~~
2021-07-04 01:03:19 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-04 01:03:22 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 01:03:22 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-04 01:03:22 [ INFO ]          defult:
2021-07-04 01:03:22 [ INFO ]          ^~~~~~
2021-07-04 01:03:22 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 01:03:22 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 01:03:22 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 01:03:22 [ INFO ]                                                         ^
2021-07-04 01:03:22 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 01:03:22 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 01:03:22 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-04 01:03:22 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 01:03:22 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 01:03:22 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 01:03:23 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 01:03:23 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-04 01:03:23 [ INFO ]  }
2021-07-04 01:03:23 [ INFO ]  ^
2021-07-04 01:03:24 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-04 01:03:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-04 01:03:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 01:03:27 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-04 01:03:27 [ INFO ]               ^~~~~~
2021-07-04 01:03:27 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-04 01:03:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-04 01:03:27 [ INFO ]      void * buffer = nullptr;
2021-07-04 01:03:27 [ INFO ]             ^~~~~~
2021-07-04 01:03:27 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-04 01:03:27 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-04 01:03:27 [ INFO ]          ^~~~
2021-07-04 01:03:30 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-04 01:03:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-04 01:03:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 01:03:33 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-04 01:03:33 [ INFO ]                       ^~~~~~
2021-07-04 01:03:36 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-04 01:03:38 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-04 01:03:38 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:03:38 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-04 01:03:38 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:03:40 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-04 01:03:43 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 01:03:43 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-04 01:03:43 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-04 01:03:43 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-04 01:03:43 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 01:03:43 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:03:43 [ INFO ]                                                                            ^
2021-07-04 01:03:43 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:03:43 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-04 01:03:43 [ INFO ]          ^
2021-07-04 01:03:43 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-04 01:03:43 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 01:03:43 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:03:43 [ INFO ]                                                                            ^
2021-07-04 01:03:43 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:03:43 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-04 01:03:43 [ INFO ]          ^
2021-07-04 01:03:45 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-04 01:03:48 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-04 01:03:48 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:03:48 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-04 01:03:48 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-04 01:03:48 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-04 01:03:48 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:03:48 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-04 01:03:48 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:03:48 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 01:03:48 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:03:48 [ INFO ]      if (check_size > inference_size) {
2021-07-04 01:03:48 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-04 01:03:48 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 01:03:48 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 01:03:48 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 01:03:48 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-04 01:03:48 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:03:48 [ INFO ]                                                                            ^
2021-07-04 01:03:48 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:03:48 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 01:03:48 [ INFO ]          ^
2021-07-04 01:03:48 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-04 01:03:48 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:03:48 [ INFO ]                                                                            ^
2021-07-04 01:03:48 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:03:48 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 01:03:48 [ INFO ]          ^
2021-07-04 01:03:48 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 01:03:48 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:03:48 [ INFO ]                                                                            ^
2021-07-04 01:03:48 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:03:48 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-04 01:03:48 [ INFO ]      ^
2021-07-04 01:03:48 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 01:03:48 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:03:48 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-04 01:03:48 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:03:48 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 01:03:48 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 01:03:48 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 01:03:48 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 01:03:48 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:03:48 [ INFO ]                                                                            ^
2021-07-04 01:03:48 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:03:48 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-04 01:03:48 [ INFO ]   ^
2021-07-04 01:03:48 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 01:03:48 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-04 01:03:48 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:03:48 [ INFO ]                                                                            ^
2021-07-04 01:03:48 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:03:48 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-04 01:03:48 [ INFO ]          ^
2021-07-04 01:03:49 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-04 01:03:51 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-04 01:03:54 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 01:03:54 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:03:54 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 01:03:54 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 01:03:54 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:03:54 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 01:03:54 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:03:54 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 01:03:54 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:03:54 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 01:03:54 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 01:03:54 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:03:54 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 01:03:54 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:03:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-04 01:03:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-04 01:03:55 [ INFO ]  static int memcount = 0;
2021-07-04 01:03:55 [ INFO ]             ^~~~~~~~
2021-07-04 01:03:56 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-04 01:03:59 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-04 01:04:03 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-04 01:04:05 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-04 01:04:05 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-04 01:04:05 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-04 01:04:05 [ INFO ]               ^~~~~~~~~~~
2021-07-04 01:04:06 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-04 01:04:09 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-04 01:04:13 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-04 01:04:16 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-04 01:04:17 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-04 01:04:17 [ INFO ] [100%] Built target main
2021-07-04 01:07:51 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-04 01:07:51 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-04 01:07:51 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-04 01:07:51 [ INFO ] -- Configuring done
2021-07-04 01:07:51 [ INFO ] -- Generating done
2021-07-04 01:07:51 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-04 01:07:51 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-04 01:07:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-04 01:07:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-04 01:07:56 [ INFO ]  }
2021-07-04 01:07:56 [ INFO ]  ^
2021-07-04 01:07:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 01:07:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 01:07:56 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 01:07:56 [ INFO ]                                                         ^
2021-07-04 01:07:56 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 01:07:56 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 01:07:56 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-04 01:07:56 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-04 01:07:56 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 01:07:56 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 01:07:56 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 01:07:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-04 01:07:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-04 01:07:56 [ ERROR ]      uint8_t errorcode = 0;
2021-07-04 01:07:56 [ INFO ]              ^~~~~~~~~
2021-07-04 01:07:58 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-04 01:08:01 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-04 01:08:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-04 01:08:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-04 01:08:03 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-04 01:08:03 [ INFO ]               ^~~
2021-07-04 01:08:04 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-04 01:08:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 01:08:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-04 01:08:07 [ INFO ]          defult:
2021-07-04 01:08:07 [ INFO ]          ^~~~~~
2021-07-04 01:08:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 01:08:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 01:08:07 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 01:08:07 [ INFO ]                                                         ^
2021-07-04 01:08:07 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 01:08:07 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 01:08:07 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-04 01:08:07 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 01:08:07 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 01:08:07 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 01:08:08 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 01:08:08 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-04 01:08:08 [ INFO ]  }
2021-07-04 01:08:08 [ INFO ]  ^
2021-07-04 01:08:09 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-04 01:08:12 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-04 01:08:12 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 01:08:12 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-04 01:08:12 [ INFO ]               ^~~~~~
2021-07-04 01:08:12 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-04 01:08:12 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-04 01:08:12 [ INFO ]      void * buffer = nullptr;
2021-07-04 01:08:12 [ INFO ]             ^~~~~~
2021-07-04 01:08:12 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-04 01:08:12 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-04 01:08:12 [ INFO ]          ^~~~
2021-07-04 01:08:13 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-04 01:08:16 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-04 01:08:16 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 01:08:16 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-04 01:08:16 [ INFO ]                       ^~~~~~
2021-07-04 01:08:18 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-04 01:08:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-04 01:08:21 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:08:21 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-04 01:08:21 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:08:22 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-04 01:08:25 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 01:08:25 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-04 01:08:25 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-04 01:08:25 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-04 01:08:25 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 01:08:25 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:08:25 [ INFO ]                                                                            ^
2021-07-04 01:08:25 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:08:25 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-04 01:08:25 [ INFO ]          ^
2021-07-04 01:08:25 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-04 01:08:25 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 01:08:25 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:08:25 [ INFO ]                                                                            ^
2021-07-04 01:08:25 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:08:25 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-04 01:08:25 [ INFO ]          ^
2021-07-04 01:08:26 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-04 01:08:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-04 01:08:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:08:29 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-04 01:08:29 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-04 01:08:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-04 01:08:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:08:29 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-04 01:08:29 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:08:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 01:08:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:08:29 [ INFO ]      if (check_size > inference_size) {
2021-07-04 01:08:29 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-04 01:08:29 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 01:08:29 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 01:08:29 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 01:08:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-04 01:08:29 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:08:29 [ INFO ]                                                                            ^
2021-07-04 01:08:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:08:29 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 01:08:29 [ INFO ]          ^
2021-07-04 01:08:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-04 01:08:29 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:08:29 [ INFO ]                                                                            ^
2021-07-04 01:08:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:08:29 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 01:08:29 [ INFO ]          ^
2021-07-04 01:08:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 01:08:29 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:08:29 [ INFO ]                                                                            ^
2021-07-04 01:08:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:08:29 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-04 01:08:29 [ INFO ]      ^
2021-07-04 01:08:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 01:08:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:08:29 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-04 01:08:29 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:08:29 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 01:08:29 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 01:08:29 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 01:08:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 01:08:29 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:08:29 [ INFO ]                                                                            ^
2021-07-04 01:08:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:08:29 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-04 01:08:29 [ INFO ]   ^
2021-07-04 01:08:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 01:08:29 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-04 01:08:29 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:08:29 [ INFO ]                                                                            ^
2021-07-04 01:08:29 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:08:29 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-04 01:08:29 [ INFO ]          ^
2021-07-04 01:08:31 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-04 01:08:32 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-04 01:08:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 01:08:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:08:35 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 01:08:35 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 01:08:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:08:35 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 01:08:35 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:08:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 01:08:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:08:35 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 01:08:35 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 01:08:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:08:35 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 01:08:35 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:08:36 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-04 01:08:36 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-04 01:08:36 [ INFO ]  static int memcount = 0;
2021-07-04 01:08:36 [ INFO ]             ^~~~~~~~
2021-07-04 01:08:37 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-04 01:08:40 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-04 01:08:44 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-04 01:08:46 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-04 01:08:46 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-04 01:08:46 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-04 01:08:46 [ INFO ]               ^~~~~~~~~~~
2021-07-04 01:08:47 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-04 01:08:51 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-04 01:08:54 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-04 01:08:58 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-04 01:08:58 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-04 01:08:58 [ INFO ] [100%] Built target main
2021-07-04 01:17:57 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-04 01:17:58 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-04 01:17:58 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-04 01:17:58 [ INFO ] -- Configuring done
2021-07-04 01:17:58 [ INFO ] -- Generating done
2021-07-04 01:17:58 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-04 01:17:58 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-04 01:18:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-04 01:18:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-04 01:18:02 [ INFO ]  }
2021-07-04 01:18:02 [ INFO ]  ^
2021-07-04 01:18:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 01:18:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 01:18:02 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 01:18:02 [ INFO ]                                                         ^
2021-07-04 01:18:02 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 01:18:02 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 01:18:02 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-04 01:18:02 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-04 01:18:02 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 01:18:02 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 01:18:02 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 01:18:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-04 01:18:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-04 01:18:02 [ ERROR ]      uint8_t errorcode = 0;
2021-07-04 01:18:02 [ INFO ]              ^~~~~~~~~
2021-07-04 01:18:03 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-04 01:18:07 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-04 01:18:09 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-04 01:18:09 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-04 01:18:09 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-04 01:18:09 [ INFO ]               ^~~
2021-07-04 01:18:10 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-04 01:18:13 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 01:18:13 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-04 01:18:13 [ INFO ]          defult:
2021-07-04 01:18:13 [ INFO ]          ^~~~~~
2021-07-04 01:18:13 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 01:18:13 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 01:18:13 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 01:18:13 [ INFO ]                                                         ^
2021-07-04 01:18:13 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 01:18:13 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 01:18:13 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-04 01:18:13 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 01:18:13 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 01:18:13 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 01:18:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 01:18:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-04 01:18:14 [ INFO ]  }
2021-07-04 01:18:14 [ INFO ]  ^
2021-07-04 01:18:14 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-04 01:18:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-04 01:18:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 01:18:17 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-04 01:18:17 [ INFO ]               ^~~~~~
2021-07-04 01:18:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-04 01:18:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-04 01:18:17 [ INFO ]      void * buffer = nullptr;
2021-07-04 01:18:17 [ INFO ]             ^~~~~~
2021-07-04 01:18:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-04 01:18:17 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-04 01:18:17 [ INFO ]          ^~~~
2021-07-04 01:18:19 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-04 01:18:22 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-04 01:18:22 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 01:18:22 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-04 01:18:22 [ INFO ]                       ^~~~~~
2021-07-04 01:18:23 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-04 01:18:26 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-04 01:18:26 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:18:26 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-04 01:18:26 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:18:28 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-04 01:18:30 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 01:18:30 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-04 01:18:30 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-04 01:18:30 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-04 01:18:30 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 01:18:30 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:18:30 [ INFO ]                                                                            ^
2021-07-04 01:18:30 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:18:30 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-04 01:18:30 [ INFO ]          ^
2021-07-04 01:18:30 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-04 01:18:30 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 01:18:30 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:18:30 [ INFO ]                                                                            ^
2021-07-04 01:18:30 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:18:30 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-04 01:18:30 [ INFO ]          ^
2021-07-04 01:18:32 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-04 01:18:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-04 01:18:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:18:35 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-04 01:18:35 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-04 01:18:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-04 01:18:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:18:35 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-04 01:18:35 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:18:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 01:18:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:18:35 [ INFO ]      if (check_size > inference_size) {
2021-07-04 01:18:35 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-04 01:18:35 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 01:18:35 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 01:18:35 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 01:18:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-04 01:18:35 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:18:35 [ INFO ]                                                                            ^
2021-07-04 01:18:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:18:35 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 01:18:35 [ INFO ]          ^
2021-07-04 01:18:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-04 01:18:35 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:18:35 [ INFO ]                                                                            ^
2021-07-04 01:18:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:18:35 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 01:18:35 [ INFO ]          ^
2021-07-04 01:18:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 01:18:35 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:18:35 [ INFO ]                                                                            ^
2021-07-04 01:18:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:18:35 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-04 01:18:35 [ INFO ]      ^
2021-07-04 01:18:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 01:18:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:18:35 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-04 01:18:35 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:18:35 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 01:18:35 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 01:18:35 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 01:18:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 01:18:35 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:18:35 [ INFO ]                                                                            ^
2021-07-04 01:18:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:18:35 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-04 01:18:35 [ INFO ]   ^
2021-07-04 01:18:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 01:18:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-04 01:18:35 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:18:35 [ INFO ]                                                                            ^
2021-07-04 01:18:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:18:35 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-04 01:18:35 [ INFO ]          ^
2021-07-04 01:18:36 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-04 01:18:38 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-04 01:18:41 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 01:18:41 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:18:41 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 01:18:41 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 01:18:41 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:18:41 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 01:18:41 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:18:41 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 01:18:41 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:18:41 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 01:18:41 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 01:18:41 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:18:41 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 01:18:41 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:18:42 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-04 01:18:42 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-04 01:18:42 [ INFO ]  static int memcount = 0;
2021-07-04 01:18:42 [ INFO ]             ^~~~~~~~
2021-07-04 01:18:42 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-04 01:18:46 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-04 01:18:49 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-04 01:18:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-04 01:18:51 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-04 01:18:51 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-04 01:18:51 [ INFO ]               ^~~~~~~~~~~
2021-07-04 01:18:52 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-04 01:18:56 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-04 01:18:59 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-04 01:19:03 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-04 01:19:04 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-04 01:19:04 [ INFO ] [100%] Built target main
2021-07-04 01:22:02 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-04 01:22:02 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-04 01:22:02 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-04 01:22:02 [ INFO ] -- Configuring done
2021-07-04 01:22:02 [ INFO ] -- Generating done
2021-07-04 01:22:02 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-04 01:22:03 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-04 01:22:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-04 01:22:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-04 01:22:07 [ INFO ]  }
2021-07-04 01:22:07 [ INFO ]  ^
2021-07-04 01:22:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 01:22:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 01:22:07 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 01:22:07 [ INFO ]                                                         ^
2021-07-04 01:22:07 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 01:22:07 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 01:22:07 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-04 01:22:07 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-04 01:22:07 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 01:22:07 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 01:22:07 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 01:22:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-04 01:22:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-04 01:22:07 [ ERROR ]      uint8_t errorcode = 0;
2021-07-04 01:22:07 [ INFO ]              ^~~~~~~~~
2021-07-04 01:22:08 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-04 01:22:11 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-04 01:22:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-04 01:22:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-04 01:22:14 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-04 01:22:14 [ INFO ]               ^~~
2021-07-04 01:22:15 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-04 01:22:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 01:22:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-04 01:22:18 [ INFO ]          defult:
2021-07-04 01:22:18 [ INFO ]          ^~~~~~
2021-07-04 01:22:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 01:22:18 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 01:22:18 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 01:22:18 [ INFO ]                                                         ^
2021-07-04 01:22:18 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 01:22:18 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 01:22:18 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-04 01:22:18 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 01:22:18 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 01:22:18 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 01:22:18 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 01:22:19 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-04 01:22:19 [ INFO ]  }
2021-07-04 01:22:19 [ INFO ]  ^
2021-07-04 01:22:19 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-04 01:22:22 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-04 01:22:22 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 01:22:22 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-04 01:22:22 [ INFO ]               ^~~~~~
2021-07-04 01:22:22 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-04 01:22:22 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-04 01:22:22 [ INFO ]      void * buffer = nullptr;
2021-07-04 01:22:22 [ INFO ]             ^~~~~~
2021-07-04 01:22:22 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-04 01:22:22 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-04 01:22:22 [ INFO ]          ^~~~
2021-07-04 01:22:23 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-04 01:22:26 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-04 01:22:26 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 01:22:26 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-04 01:22:26 [ INFO ]                       ^~~~~~
2021-07-04 01:22:28 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-04 01:22:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-04 01:22:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:22:31 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-04 01:22:31 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:22:32 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-04 01:22:35 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 01:22:35 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-04 01:22:35 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-04 01:22:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-04 01:22:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 01:22:35 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:22:35 [ INFO ]                                                                            ^
2021-07-04 01:22:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:22:35 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-04 01:22:35 [ INFO ]          ^
2021-07-04 01:22:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-04 01:22:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 01:22:35 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:22:35 [ INFO ]                                                                            ^
2021-07-04 01:22:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:22:35 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-04 01:22:35 [ INFO ]          ^
2021-07-04 01:22:36 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-04 01:22:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-04 01:22:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:22:39 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-04 01:22:39 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-04 01:22:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-04 01:22:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:22:39 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-04 01:22:39 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:22:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 01:22:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:22:39 [ INFO ]      if (check_size > inference_size) {
2021-07-04 01:22:39 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-04 01:22:39 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 01:22:39 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 01:22:39 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 01:22:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-04 01:22:39 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:22:39 [ INFO ]                                                                            ^
2021-07-04 01:22:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:22:39 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 01:22:39 [ INFO ]          ^
2021-07-04 01:22:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-04 01:22:39 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:22:39 [ INFO ]                                                                            ^
2021-07-04 01:22:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:22:39 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 01:22:39 [ INFO ]          ^
2021-07-04 01:22:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 01:22:39 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:22:39 [ INFO ]                                                                            ^
2021-07-04 01:22:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:22:39 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-04 01:22:39 [ INFO ]      ^
2021-07-04 01:22:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 01:22:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:22:39 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-04 01:22:39 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:22:39 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 01:22:39 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 01:22:39 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 01:22:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 01:22:39 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:22:39 [ INFO ]                                                                            ^
2021-07-04 01:22:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:22:39 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-04 01:22:39 [ INFO ]   ^
2021-07-04 01:22:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 01:22:39 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-04 01:22:39 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 01:22:39 [ INFO ]                                                                            ^
2021-07-04 01:22:39 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 01:22:39 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-04 01:22:39 [ INFO ]          ^
2021-07-04 01:22:41 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-04 01:22:42 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-04 01:22:45 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 01:22:45 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:22:45 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 01:22:45 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 01:22:45 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:22:45 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 01:22:45 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:22:45 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 01:22:45 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:22:45 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 01:22:45 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 01:22:45 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 01:22:45 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 01:22:45 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 01:22:46 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-04 01:22:46 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-04 01:22:46 [ INFO ]  static int memcount = 0;
2021-07-04 01:22:46 [ INFO ]             ^~~~~~~~
2021-07-04 01:22:46 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-04 01:22:50 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-04 01:22:53 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-04 01:22:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-04 01:22:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-04 01:22:55 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-04 01:22:55 [ INFO ]               ^~~~~~~~~~~
2021-07-04 01:22:56 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-04 01:23:00 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-04 01:23:03 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-04 01:23:09 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-04 01:23:09 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-04 01:23:09 [ INFO ] [100%] Built target main
2021-07-04 05:10:36 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-04 05:10:36 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-04 05:10:36 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-04 05:10:36 [ INFO ] -- Configuring done
2021-07-04 05:10:36 [ INFO ] -- Generating done
2021-07-04 05:10:36 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-04 05:10:36 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-04 05:10:42 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-04 05:10:42 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-04 05:10:42 [ INFO ]  }
2021-07-04 05:10:42 [ INFO ]  ^
2021-07-04 05:10:42 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 05:10:42 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 05:10:42 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 05:10:42 [ INFO ]                                                         ^
2021-07-04 05:10:42 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 05:10:42 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 05:10:42 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-04 05:10:42 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-04 05:10:42 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 05:10:42 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 05:10:42 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 05:10:42 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-04 05:10:42 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-04 05:10:42 [ ERROR ]      uint8_t errorcode = 0;
2021-07-04 05:10:42 [ INFO ]              ^~~~~~~~~
2021-07-04 05:10:45 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-04 05:10:48 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-04 05:10:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-04 05:10:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-04 05:10:50 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-04 05:10:50 [ INFO ]               ^~~
2021-07-04 05:10:51 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-04 05:10:54 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 05:10:54 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-04 05:10:54 [ INFO ]          defult:
2021-07-04 05:10:54 [ INFO ]          ^~~~~~
2021-07-04 05:10:54 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 05:10:54 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 05:10:54 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 05:10:54 [ INFO ]                                                         ^
2021-07-04 05:10:54 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 05:10:54 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 05:10:54 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-04 05:10:54 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 05:10:54 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 05:10:54 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 05:10:56 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 05:10:56 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-04 05:10:56 [ INFO ]  }
2021-07-04 05:10:56 [ INFO ]  ^
2021-07-04 05:10:57 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-04 05:10:59 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-04 05:10:59 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 05:10:59 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-04 05:10:59 [ INFO ]               ^~~~~~
2021-07-04 05:10:59 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-04 05:10:59 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-04 05:10:59 [ INFO ]      void * buffer = nullptr;
2021-07-04 05:10:59 [ INFO ]             ^~~~~~
2021-07-04 05:10:59 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-04 05:10:59 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-04 05:10:59 [ INFO ]          ^~~~
2021-07-04 05:11:01 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-04 05:11:04 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-04 05:11:04 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 05:11:04 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-04 05:11:04 [ INFO ]                       ^~~~~~
2021-07-04 05:11:06 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-04 05:11:08 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-04 05:11:08 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 05:11:08 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-04 05:11:08 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 05:11:10 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-04 05:11:13 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 05:11:13 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-04 05:11:13 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-04 05:11:13 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-04 05:11:13 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 05:11:13 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 05:11:13 [ INFO ]                                                                            ^
2021-07-04 05:11:13 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 05:11:13 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-04 05:11:13 [ INFO ]          ^
2021-07-04 05:11:13 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-04 05:11:13 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 05:11:13 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 05:11:13 [ INFO ]                                                                            ^
2021-07-04 05:11:13 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 05:11:13 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-04 05:11:13 [ INFO ]          ^
2021-07-04 05:11:14 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-04 05:11:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-04 05:11:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 05:11:17 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-04 05:11:17 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-04 05:11:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-04 05:11:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 05:11:17 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-04 05:11:17 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 05:11:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 05:11:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 05:11:17 [ INFO ]      if (check_size > inference_size) {
2021-07-04 05:11:17 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-04 05:11:17 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 05:11:17 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 05:11:17 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 05:11:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-04 05:11:17 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 05:11:17 [ INFO ]                                                                            ^
2021-07-04 05:11:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 05:11:17 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 05:11:17 [ INFO ]          ^
2021-07-04 05:11:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-04 05:11:17 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 05:11:17 [ INFO ]                                                                            ^
2021-07-04 05:11:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 05:11:17 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 05:11:17 [ INFO ]          ^
2021-07-04 05:11:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 05:11:17 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 05:11:17 [ INFO ]                                                                            ^
2021-07-04 05:11:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-04 05:11:17 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-04 05:11:17 [ INFO ]      ^
2021-07-04 05:11:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 05:11:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 05:11:17 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-04 05:11:17 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 05:11:17 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 05:11:17 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 05:11:17 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 05:11:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 05:11:17 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 05:11:17 [ INFO ]                                                                            ^
2021-07-04 05:11:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-04 05:11:17 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-04 05:11:17 [ INFO ]   ^
2021-07-04 05:11:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 05:11:17 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-04 05:11:17 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 05:11:17 [ INFO ]                                                                            ^
2021-07-04 05:11:17 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 05:11:17 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-04 05:11:17 [ INFO ]          ^
2021-07-04 05:11:19 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-04 05:11:20 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-04 05:11:23 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 05:11:23 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 05:11:23 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 05:11:23 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 05:11:23 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 05:11:23 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 05:11:23 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 05:11:23 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 05:11:23 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 05:11:23 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 05:11:23 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 05:11:23 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 05:11:23 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 05:11:23 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 05:11:24 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-04 05:11:24 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-04 05:11:24 [ INFO ]  static int memcount = 0;
2021-07-04 05:11:24 [ INFO ]             ^~~~~~~~
2021-07-04 05:11:25 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-04 05:11:28 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-04 05:11:31 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-04 05:11:33 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-04 05:11:33 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-04 05:11:33 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-04 05:11:33 [ INFO ]               ^~~~~~~~~~~
2021-07-04 05:11:35 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-04 05:11:38 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-04 05:11:41 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-04 05:11:45 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-04 05:11:45 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-04 05:11:45 [ INFO ] [100%] Built target main
2021-07-04 06:10:31 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-04 06:10:32 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-04 06:10:32 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-04 06:10:32 [ INFO ] -- Configuring done
2021-07-04 06:10:32 [ INFO ] -- Generating done
2021-07-04 06:10:32 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-04 06:10:32 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-04 06:10:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-04 06:10:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-04 06:10:35 [ INFO ]  }
2021-07-04 06:10:35 [ INFO ]  ^
2021-07-04 06:10:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 06:10:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 06:10:35 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 06:10:35 [ INFO ]                                                         ^
2021-07-04 06:10:35 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 06:10:35 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 06:10:35 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-04 06:10:35 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-04 06:10:35 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 06:10:35 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 06:10:35 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 06:10:35 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-04 06:10:35 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-04 06:10:35 [ ERROR ]      uint8_t errorcode = 0;
2021-07-04 06:10:35 [ INFO ]              ^~~~~~~~~
2021-07-04 06:10:37 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-04 06:10:40 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-04 06:10:42 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-04 06:10:42 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-04 06:10:42 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-04 06:10:42 [ INFO ]               ^~~
2021-07-04 06:10:43 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-04 06:10:46 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 06:10:46 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-04 06:10:46 [ INFO ]          defult:
2021-07-04 06:10:46 [ INFO ]          ^~~~~~
2021-07-04 06:10:46 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 06:10:46 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 06:10:46 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 06:10:46 [ INFO ]                                                         ^
2021-07-04 06:10:46 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 06:10:46 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 06:10:46 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-04 06:10:46 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 06:10:46 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 06:10:46 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 06:10:47 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 06:10:47 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-04 06:10:47 [ INFO ]  }
2021-07-04 06:10:47 [ INFO ]  ^
2021-07-04 06:10:48 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-04 06:10:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-04 06:10:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 06:10:50 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-04 06:10:50 [ INFO ]               ^~~~~~
2021-07-04 06:10:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-04 06:10:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-04 06:10:50 [ INFO ]      void * buffer = nullptr;
2021-07-04 06:10:50 [ INFO ]             ^~~~~~
2021-07-04 06:10:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-04 06:10:50 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-04 06:10:50 [ INFO ]          ^~~~
2021-07-04 06:10:52 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-04 06:10:55 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-04 06:10:55 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 06:10:55 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-04 06:10:55 [ INFO ]                       ^~~~~~
2021-07-04 06:10:56 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-04 06:10:59 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-04 06:10:59 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 06:10:59 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-04 06:10:59 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 06:11:00 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-04 06:11:03 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 06:11:03 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-04 06:11:03 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-04 06:11:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-04 06:11:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 06:11:03 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 06:11:03 [ INFO ]                                                                            ^
2021-07-04 06:11:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 06:11:03 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-04 06:11:03 [ INFO ]          ^
2021-07-04 06:11:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-04 06:11:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 06:11:03 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 06:11:03 [ INFO ]                                                                            ^
2021-07-04 06:11:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 06:11:03 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-04 06:11:03 [ INFO ]          ^
2021-07-04 06:11:04 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-04 06:11:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-04 06:11:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 06:11:07 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-04 06:11:07 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-04 06:11:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-04 06:11:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 06:11:07 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-04 06:11:07 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 06:11:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 06:11:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 06:11:07 [ INFO ]      if (check_size > inference_size) {
2021-07-04 06:11:07 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-04 06:11:07 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 06:11:07 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 06:11:07 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 06:11:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-04 06:11:07 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 06:11:07 [ INFO ]                                                                            ^
2021-07-04 06:11:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 06:11:07 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 06:11:07 [ INFO ]          ^
2021-07-04 06:11:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-04 06:11:07 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 06:11:07 [ INFO ]                                                                            ^
2021-07-04 06:11:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 06:11:07 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 06:11:07 [ INFO ]          ^
2021-07-04 06:11:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 06:11:07 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 06:11:07 [ INFO ]                                                                            ^
2021-07-04 06:11:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-04 06:11:07 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-04 06:11:07 [ INFO ]      ^
2021-07-04 06:11:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 06:11:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 06:11:07 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-04 06:11:07 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 06:11:07 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 06:11:07 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 06:11:07 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 06:11:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 06:11:07 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 06:11:07 [ INFO ]                                                                            ^
2021-07-04 06:11:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-04 06:11:07 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-04 06:11:07 [ INFO ]   ^
2021-07-04 06:11:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 06:11:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-04 06:11:07 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 06:11:07 [ INFO ]                                                                            ^
2021-07-04 06:11:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 06:11:07 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-04 06:11:07 [ INFO ]          ^
2021-07-04 06:11:09 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-04 06:11:11 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-04 06:11:13 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 06:11:13 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 06:11:13 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 06:11:13 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 06:11:13 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 06:11:13 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 06:11:13 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 06:11:13 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 06:11:13 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 06:11:13 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 06:11:13 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 06:11:13 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 06:11:13 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 06:11:13 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 06:11:14 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-04 06:11:14 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-04 06:11:14 [ INFO ]  static int memcount = 0;
2021-07-04 06:11:14 [ INFO ]             ^~~~~~~~
2021-07-04 06:11:15 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-04 06:11:18 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-04 06:11:21 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-04 06:11:23 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-04 06:11:23 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-04 06:11:23 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-04 06:11:23 [ INFO ]               ^~~~~~~~~~~
2021-07-04 06:11:25 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-04 06:11:28 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-04 06:11:31 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-04 06:11:36 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-04 06:11:37 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-04 06:11:37 [ INFO ] [100%] Built target main
2021-07-04 07:35:47 [ INFO ] Execution command: export LANG=C && export DDK_PATH=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64 && export NPU_HOST_LIB=/usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub && mkdir -p /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cd /home/zack/AscendProjects/face_recognition_camera/build/intermediates && cmake -DCMAKE_SKIP_RPATH=TRUE -Dtarget=SOC -DCMAKE_BUILD_TYPE=Debug -DCMAKE_CXX_COMPILER=aarch64-linux-gnu-g++ -G "Unix Makefiles" /home/zack/AscendProjects/face_recognition_camera && cmake --build . --clean-first
2021-07-04 07:35:48 [ INFO ] -- env INC_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64
2021-07-04 07:35:48 [ INFO ] -- env LIB_PATH: /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/lib64/stub
2021-07-04 07:35:48 [ INFO ] -- Configuring done
2021-07-04 07:35:48 [ INFO ] -- Generating done
2021-07-04 07:35:48 [ INFO ] -- Build files have been written to: /home/zack/AscendProjects/face_recognition_camera/build/intermediates
2021-07-04 07:35:48 [ INFO ] [  5%] Building CXX object src/CMakeFiles/main.dir/utils.cpp.o
2021-07-04 07:35:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static void* Utils::SaveJpegImage(ImageData&)':
2021-07-04 07:35:51 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:173:1: warning: no return statement in function returning non-void [-Wreturn-type]
2021-07-04 07:35:51 [ INFO ]  }
2021-07-04 07:35:51 [ INFO ]  ^
2021-07-04 07:35:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In function 'void* GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 07:35:51 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:323:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 07:35:51 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 07:35:51 [ INFO ]                                                         ^
2021-07-04 07:35:51 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 07:35:51 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 07:35:51 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:22,
2021-07-04 07:35:51 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:19:
2021-07-04 07:35:51 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 07:35:51 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 07:35:51 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 07:35:51 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp: In static member function 'static int Utils::memcpy_s(void*, size_t, const void*, size_t)':
2021-07-04 07:35:51 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/utils.cpp:339:13: warning: variable 'errorcode' set but not used [-Wunused-but-set-variable]
2021-07-04 07:35:51 [ ERROR ]      uint8_t errorcode = 0;
2021-07-04 07:35:51 [ INFO ]              ^~~~~~~~~
2021-07-04 07:35:52 [ INFO ] [ 11%] Building CXX object src/CMakeFiles/main.dir/camera.cpp.o
2021-07-04 07:35:56 [ INFO ] [ 16%] Building CXX object src/CMakeFiles/main.dir/model_process.cpp.o
2021-07-04 07:35:58 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp: In member function 'Result ModelProcess::CreateInput(void*, size_t)':
2021-07-04 07:35:58 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/model_process.cpp:105:14: warning: unused variable 'ret' [-Wunused-variable]
2021-07-04 07:35:58 [ ERROR ]      aclError ret = aclmdlAddDatasetBuffer(input_, inputData);
2021-07-04 07:35:58 [ INFO ]               ^~~
2021-07-04 07:35:59 [ INFO ] [ 22%] Building CXX object src/CMakeFiles/main.dir/resource_load.cpp.o
2021-07-04 07:36:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 07:36:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:209:9: warning: label 'defult' defined but not used [-Wunused-label]
2021-07-04 07:36:02 [ INFO ]          defult:
2021-07-04 07:36:02 [ INFO ]          ^~~~~~
2021-07-04 07:36:02 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'void* ResourceLoad::GetInferenceOutputItem(uint32_t&, aclmdlDataset*, uint32_t)':
2021-07-04 07:36:02 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:276:56: warning: 'uint32_t aclGetDataBufferSize(const aclDataBuffer*)' is deprecated: aclGetDataBufferSize is deprecated, use aclGetDataBufferSizeV2 instead [-Wdeprecated-declarations]
2021-07-04 07:36:02 [ INFO ]      size_t bufferSize = aclGetDataBufferSize(dataBuffer);
2021-07-04 07:36:02 [ INFO ]                                                         ^
2021-07-04 07:36:02 [ INFO ] In file included from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_rt.h:16:0,
2021-07-04 07:36:02 [ INFO ]                  from /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl.h:14,
2021-07-04 07:36:02 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:21:
2021-07-04 07:36:02 [ INFO ] /usr/local/Ascend/ascend-toolkit/latest/ascend-toolkit/5.0.2.alpha003/acllib_linux.aarch64/acllib/include/acl/acl_base.h:274:30: note: declared here
2021-07-04 07:36:02 [ INFO ]  ACL_FUNC_VISIBILITY uint32_t aclGetDataBufferSize(const aclDataBuffer *dataBuffer);
2021-07-04 07:36:02 [ INFO ]                               ^~~~~~~~~~~~~~~~~~~~
2021-07-04 07:36:03 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp: In member function 'ModelProcess& ResourceLoad::GetModel(int)':
2021-07-04 07:36:03 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/resource_load.cpp:213:1: warning: control reaches end of non-void function [-Wreturn-type]
2021-07-04 07:36:03 [ INFO ]  }
2021-07-04 07:36:03 [ INFO ]  ^
2021-07-04 07:36:04 [ INFO ] [ 27%] Building CXX object src/CMakeFiles/main.dir/mind_camera.cpp.o
2021-07-04 07:36:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'std::shared_ptr<FaceRecognitionInfo> MindCamera::CreateBatchImageParaObj()':
2021-07-04 07:36:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:252:14: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 07:36:07 [ ERROR ]      aclError aclRet = acldvppMalloc(&buffer, pObj->org_img.size);
2021-07-04 07:36:07 [ INFO ]               ^~~~~~
2021-07-04 07:36:07 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp: In member function 'bool MindCamera::DoCapProcess()':
2021-07-04 07:36:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:280:12: warning: unused variable 'buffer' [-Wunused-variable]
2021-07-04 07:36:07 [ INFO ]      void * buffer = nullptr;
2021-07-04 07:36:07 [ INFO ]             ^~~~~~
2021-07-04 07:36:07 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/mind_camera.cpp:281:9: warning: unused variable 'size' [-Wunused-variable]
2021-07-04 07:36:07 [ INFO ]      int size = config_->resolution_width * config_->resolution_height
2021-07-04 07:36:07 [ INFO ]          ^~~~
2021-07-04 07:36:08 [ INFO ] [ 33%] Building CXX object src/CMakeFiles/main.dir/face_register.cpp.o
2021-07-04 07:36:13 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp: In member function 'bool FaceRegister::DoRegisterProcess()':
2021-07-04 07:36:13 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_register.cpp:125:22: warning: unused variable 'aclRet' [-Wunused-variable]
2021-07-04 07:36:13 [ ERROR ]              aclError aclRet = acldvppMalloc(&buffer, face_image_size*2);
2021-07-04 07:36:13 [ INFO ]                       ^~~~~~
2021-07-04 07:36:18 [ INFO ] [ 38%] Building CXX object src/CMakeFiles/main.dir/face_detection.cpp.o
2021-07-04 07:36:21 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp: In member function 'Result FaceDetection::PostProcess(std::shared_ptr<FaceRecognitionInfo>&, aclmdlDataset*)':
2021-07-04 07:36:21 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_detection.cpp:208:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 07:36:21 [ INFO ]      for (int32_t i = 0; i < dataSize - kEachResultSize; i += kEachResultSize) {
2021-07-04 07:36:21 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 07:36:23 [ INFO ] [ 44%] Building CXX object src/CMakeFiles/main.dir/face_feature_mask.cpp.o
2021-07-04 07:36:26 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 07:36:26 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_feature_mask.h:36,
2021-07-04 07:36:26 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:33:
2021-07-04 07:36:26 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::Resize(std::vector<FaceImage>&, std::vector<ImageData>&)':
2021-07-04 07:36:26 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 07:36:26 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 07:36:26 [ INFO ]                                                                            ^
2021-07-04 07:36:26 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:180:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 07:36:26 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::Resize, push_resized_image = %x", resized_image.data.get());
2021-07-04 07:36:26 [ INFO ]          ^
2021-07-04 07:36:26 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp: In member function 'Result FaceFeatureMaskProcess::ImageYUV2BGR(std::vector<ImageData>&, std::vector<cv::Mat>&)':
2021-07-04 07:36:26 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%x' expects argument of type 'unsigned int', but argument 3 has type 'std::__shared_ptr<unsigned char, (__gnu_cxx::_Lock_policy)2>::element_type* {aka unsigned char*}' [-Wformat=]
2021-07-04 07:36:26 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 07:36:26 [ INFO ]                                                                            ^
2021-07-04 07:36:26 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_feature_mask.cpp:196:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 07:36:26 [ INFO ]          INFO_LOG("FaceFeatureMaskProcess::ImageYUV2BGR, push_resized_image = %x", resized_img_iter->data.get());
2021-07-04 07:36:26 [ INFO ]          ^
2021-07-04 07:36:28 [ INFO ] [ 50%] Building CXX object src/CMakeFiles/main.dir/face_recognition.cpp.o
2021-07-04 07:36:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'void FaceRecognition::PreProcess(const std::vector<FaceImage>&, std::vector<AlignedFace>&)':
2021-07-04 07:36:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:278:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 07:36:31 [ INFO ]      for (int32_t index = 0; index < face_imgs.size(); ++index) {
2021-07-04 07:36:31 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~
2021-07-04 07:36:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::PrepareBuffer(int32_t, std::shared_ptr<unsigned char>&, uint32_t, uint32_t, const std::vector<AlignedFace>&)':
2021-07-04 07:36:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:311:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 07:36:31 [ INFO ]          if (batch_begin + i < aligned_imgs.size()) {
2021-07-04 07:36:31 [ INFO ]              ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 07:36:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::ArrangeResult(int32_t, float*, uint32_t, const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 07:36:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:355:20: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 07:36:31 [ INFO ]      if (check_size > inference_size) {
2021-07-04 07:36:31 [ INFO ]          ~~~~~~~~~~~^~~~~~~~~~~~~~~~
2021-07-04 07:36:31 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 07:36:31 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 07:36:31 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 07:36:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 4 has type 'std::vector<AlignedFace>::size_type {aka long unsigned int}' [-Wformat=]
2021-07-04 07:36:31 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 07:36:31 [ INFO ]                                                                            ^
2021-07-04 07:36:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 07:36:31 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 07:36:31 [ INFO ]          ^
2021-07-04 07:36:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects a matching 'int' argument [-Wformat=]
2021-07-04 07:36:31 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 07:36:31 [ INFO ]                                                                            ^
2021-07-04 07:36:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:356:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 07:36:31 [ INFO ]          INFO_LOG("inference result size not correct. batch_begin=%d, total_face=%d, inference_size=%d, need_size=%d, cont %d",
2021-07-04 07:36:31 [ INFO ]          ^
2021-07-04 07:36:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 07:36:31 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 07:36:31 [ INFO ]                                                                            ^
2021-07-04 07:36:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:364:5: note: in expansion of macro 'INFO_LOG'
2021-07-04 07:36:31 [ INFO ]      INFO_LOG("set inference sizeof(result) =%d", sizeof(result));
2021-07-04 07:36:31 [ INFO ]      ^
2021-07-04 07:36:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::InferenceFeatureVector(const std::vector<AlignedFace>&, std::vector<FaceImage>&)':
2021-07-04 07:36:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:396:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 07:36:31 [ INFO ]      for (int32_t index = 0; index < aligned_imgs.size(); index += kBatchSize) {
2021-07-04 07:36:31 [ INFO ]                              ~~~~~~^~~~~~~~~~~~~~~~~~~~~
2021-07-04 07:36:31 [ INFO ] In file included from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition_params.h:37:0,
2021-07-04 07:36:31 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/../inc/face_recognition.h:39,
2021-07-04 07:36:31 [ INFO ]                  from /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:34:
2021-07-04 07:36:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'long unsigned int' [-Wformat=]
2021-07-04 07:36:31 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 07:36:31 [ INFO ]                                                                            ^
2021-07-04 07:36:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:423:2: note: in expansion of macro 'INFO_LOG'
2021-07-04 07:36:31 [ INFO ]   INFO_LOG("arrange GetInferenceOutputItem, inference=%d",
2021-07-04 07:36:31 [ INFO ]   ^
2021-07-04 07:36:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp: In member function 'Result FaceRecognition::Process(std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 07:36:31 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/../inc/utils.h:31:75: warning: format '%d' expects argument of type 'int', but argument 3 has type 'AppErrorCode' [-Wformat=]
2021-07-04 07:36:31 [ INFO ]  #define INFO_LOG(fmt, args...) fprintf(stdout, "[INFO]  " fmt "\n", ##args)
2021-07-04 07:36:31 [ INFO ]                                                                            ^
2021-07-04 07:36:31 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_recognition.cpp:465:9: note: in expansion of macro 'INFO_LOG'
2021-07-04 07:36:31 [ INFO ]          INFO_LOG("front engine dealing failed, err_code=%d, err_msg=%s",
2021-07-04 07:36:31 [ INFO ]          ^
2021-07-04 07:36:33 [ INFO ] [ 55%] Building CXX object src/CMakeFiles/main.dir/facial_recognition_message.pb.cc.o
2021-07-04 07:36:35 [ INFO ] [ 61%] Building CXX object src/CMakeFiles/main.dir/face_post_process.cpp.o
2021-07-04 07:36:38 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::SendFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 07:36:38 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:107:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 07:36:38 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 07:36:38 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 07:36:38 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:119:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 07:36:38 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 07:36:38 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 07:36:38 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: In member function 'Result FacePostProcess::ReplyFeature(const std::shared_ptr<FaceRecognitionInfo>&)':
2021-07-04 07:36:38 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:162:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 07:36:38 [ INFO ]      for (int i = 0; i < face_imgs.size(); i++) {
2021-07-04 07:36:38 [ INFO ]                      ~~^~~~~~~~~~~~~~~~~~
2021-07-04 07:36:38 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:172:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
2021-07-04 07:36:38 [ INFO ]          for (int j = 0; j < face_imgs[i].feature_vector.size(); j++) {
2021-07-04 07:36:38 [ INFO ]                          ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
2021-07-04 07:36:40 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp: At global scope:
2021-07-04 07:36:40 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/face_post_process.cpp:75:12: warning: 'memcount' defined but not used [-Wunused-variable]
2021-07-04 07:36:40 [ INFO ]  static int memcount = 0;
2021-07-04 07:36:40 [ INFO ]             ^~~~~~~~
2021-07-04 07:36:40 [ INFO ] [ 66%] Building CXX object src/CMakeFiles/main.dir/dvpp_process.cpp.o
2021-07-04 07:36:44 [ INFO ] [ 72%] Building CXX object src/CMakeFiles/main.dir/dvpp_resize.cpp.o
2021-07-04 07:36:48 [ INFO ] [ 77%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpege.cpp.o
2021-07-04 07:36:50 [ INFO ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp: In member function 'Result DvppJpegE::InitJpegEResource(ImageData&)':
2021-07-04 07:36:50 [ WARN ] /home/zack/AscendProjects/face_recognition_camera/src/dvpp_jpege.cpp:71:14: warning: unused variable 'encodeLevel' [-Wunused-variable]
2021-07-04 07:36:50 [ INFO ]      uint32_t encodeLevel = 50; // default optimal level (0-100)
2021-07-04 07:36:50 [ INFO ]               ^~~~~~~~~~~
2021-07-04 07:36:51 [ INFO ] [ 83%] Building CXX object src/CMakeFiles/main.dir/dvpp_jpegd.cpp.o
2021-07-04 07:36:55 [ INFO ] [ 88%] Building CXX object src/CMakeFiles/main.dir/dvpp_cropandpaste.cpp.o
2021-07-04 07:36:58 [ INFO ] [ 94%] Building CXX object src/CMakeFiles/main.dir/main.cpp.o
2021-07-04 07:37:02 [ INFO ] [100%] Linking CXX executable ../../../out/main
2021-07-04 07:37:03 [ WARN ] /usr/lib/gcc-cross/aarch64-linux-gnu/7/../../../../aarch64-linux-gnu/bin/ld: warning: libascend_hal.so, needed by /home/zack/Ascend/driver/libmedia_mini.so, not found (try using -rpath or -rpath-link)
2021-07-04 07:37:03 [ INFO ] [100%] Built target main
